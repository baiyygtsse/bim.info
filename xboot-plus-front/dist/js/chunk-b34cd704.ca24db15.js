(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b34cd704","chunk-056a26b8","chunk-0f896ee8"],{"19df":function(t,e,s){"use strict";s("23d5")},"23d5":function(t,e,s){},3460:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("Card",[e("div",{attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"edit-head"},[e("a",{staticClass:"back-title",on:{click:t.close}},[e("Icon",{attrs:{type:"ios-arrow-back"}}),t._v("返回 ")],1),e("div",{staticClass:"head-name"},[t._v("添加")]),e("span"),e("a",{staticClass:"window-close",on:{click:t.close}},[e("Icon",{staticClass:"ivu-icon-ios-close",attrs:{type:"ios-close",size:"31"}})],1)])]),e("Form",{ref:"form",attrs:{model:t.form,"label-width":90,rules:t.formValidate}},[e("FormItem",{attrs:{label:"名称",prop:"name"}},[e("Input",{staticStyle:{width:"400px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("FormItem",{staticClass:"br"},[e("Button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:t.handleSubmit}},[t._v("提交并保存")]),e("Button",{on:{click:t.handleReset}},[t._v("重置")]),e("Button",{attrs:{type:"dashed"},on:{click:t.close}},[t._v("关闭")])],1)],1)],1)],1)},a=[],o={name:"add",data(){return{submitLoading:!1,form:{id:"",name:""},formValidate:{name:[{required:!0,message:"不能为空",trigger:"blur"}]}}},methods:{init(){},handleReset(){this.$refs.form.resetFields()},handleSubmit(){this.$refs.form.validate(t=>{t&&(this.submitLoading=!1,this.$Message.success("添加成功"),this.submited())})},close(){this.$emit("close",!0)},submited(){this.$emit("submited",!0)}},mounted(){this.init()}},n=o,r=(s("5b9f"),s("2877")),l=Object(r["a"])(n,i,a,!1,null,null,null);e["default"]=l.exports},"4d88":function(t,e,s){},5486:function(t,e,s){},"5b9f":function(t,e,s){"use strict";s("4d88")},"5df4":function(t,e,s){"use strict";s("5486")},c92e:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("Card",[e("div",{attrs:{slot:"title"},slot:"title"},[e("div",{staticClass:"edit-head"},[e("a",{staticClass:"back-title",on:{click:t.close}},[e("Icon",{attrs:{type:"ios-arrow-back"}}),t._v("返回 ")],1),e("div",{staticClass:"head-name"},[t._v("编辑")]),e("span"),e("a",{staticClass:"window-close",on:{click:t.close}},[e("Icon",{staticClass:"ivu-icon-ios-close",attrs:{type:"ios-close",size:"31"}})],1)])]),e("Form",{ref:"form",staticStyle:{position:"relative"},attrs:{model:t.form,"label-width":90,rules:t.formValidate}},[e("FormItem",{attrs:{label:"名称",prop:"name"}},[e("Input",{staticStyle:{width:"400px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),e("FormItem",{staticClass:"br"},[e("Button",{attrs:{loading:t.submitLoading,type:"primary"},on:{click:t.handleSubmit}},[t._v("提交并保存")]),e("Button",{on:{click:t.handleReset}},[t._v("重置")]),e("Button",{attrs:{type:"dashed"},on:{click:t.close}},[t._v("关闭")])],1),t.loading?e("Spin",{attrs:{size:"large",fix:""}}):t._e()],1)],1)],1)},a=[],o={name:"edit",props:{data:Object},data(){return{loading:!1,submitLoading:!1,form:{id:"",name:""},formValidate:{name:[{required:!0,message:"不能为空",trigger:"blur"}]}}},methods:{init(){this.handleReset(),this.form=this.data},handleReset(){this.$refs.form.resetFields()},handleSubmit(){this.$refs.form.validate(t=>{t&&(this.submitLoading=!1,this.$Message.success("编辑成功"),this.submited())})},close(){this.$emit("close",!0)},submited(){this.$emit("submited",!0)}},mounted(){this.init()}},n=o,r=(s("19df"),s("2877")),l=Object(r["a"])(n,i,a,!1,null,null,null);e["default"]=l.exports},f8d9:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},["add"==t.currView?e("add",{on:{close:function(e){t.currView="index"},submited:t.submited}}):t._e(),"edit"==t.currView?e("edit",{attrs:{data:t.formData},on:{close:function(e){t.currView="index"},submited:t.submited}}):t._e(),e("Card",{directives:[{name:"show",rawName:"v-show",value:"index"==t.currView,expression:"currView == 'index'"}]},[e("Row",{staticClass:"operation"},[e("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:t.add}},[t._v("动态组件添加")]),e("Button",{attrs:{icon:"md-trash"},on:{click:t.delAll}},[t._v("批量删除")]),e("Button",{attrs:{icon:"md-refresh"},on:{click:t.getDataList}},[t._v("刷新")]),e("Button",{attrs:{type:"dashed"},on:{click:function(e){t.openTip=!t.openTip}}},[t._v(t._s(t.openTip?"关闭提示":"开启提示"))])],1),e("Alert",{directives:[{name:"show",rawName:"v-show",value:t.openTip,expression:"openTip"}],attrs:{"show-icon":""}},[t._v(" 已选择 "),e("span",{staticClass:"select-count"},[t._v(t._s(t.selectList.length))]),t._v(" 项 "),e("a",{staticClass:"select-clear",on:{click:t.clearSelectAll}},[t._v("清空")])]),e("Table",{ref:"table",attrs:{loading:t.loading,border:"",columns:t.columns,data:t.data,sortable:"custom"},on:{"on-sort-change":t.changeSort,"on-selection-change":t.changeSelect}}),e("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[e("Page",{attrs:{current:t.searchForm.pageNumber,total:t.total,"page-size":t.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1)],1)},a=[],o=s("3460"),n=s("c92e"),r={name:"single-window",components:{add:o["default"],edit:n["default"]},data(){return{openTip:!0,formData:{},currView:"index",loading:!0,searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc"},selectList:[],columns:[{type:"selection",width:60,align:"center"},{type:"index",width:60,align:"center"},{title:"名称",key:"name",sortable:!0},{title:"创建时间",key:"createTime",sortable:!0,sortType:"desc"},{title:"更新时间",key:"updateTime",sortable:!0},{title:"操作",key:"action",align:"center",width:250,render:(t,e)=>t("div",[t("a",{on:{click:()=>{this.edit(e.row)}}},"动态组件编辑"),t("Divider",{props:{type:"vertical"}}),t("a",{on:{click:()=>{this.remove(e.row)}}},"删除")])}],data:[],total:0}},methods:{init(){this.getDataList()},submited(){this.currView="index",this.getDataList()},changePage(t){this.searchForm.pageNumber=t,this.getDataList(),this.clearSelectAll()},changePageSize(t){this.searchForm.pageSize=t,this.getDataList()},changeSort(t){this.searchForm.sort=t.key,this.searchForm.order=t.order,"normal"==t.order&&(this.searchForm.order=""),this.getDataList()},clearSelectAll(){this.$refs.table.selectAll(!1)},changeSelect(t){this.selectList=t},getDataList(){this.loading=!0,this.data=[{id:"1",name:"XBoot",createTime:"2018-08-08 00:08:00",updateTime:"2018-08-08 00:08:00"},{id:"2",name:"Exrick",createTime:"2018-08-08 00:08:00",updateTime:"2018-08-08 00:08:00"}],this.total=this.data.length,this.loading=!1},add(){this.currView="add"},edit(t){for(let i in t)null==t[i]&&(t[i]="");let e=JSON.stringify(t),s=JSON.parse(e);this.formData=s,this.currView="edit"},remove(t){this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+t.name+" ?",loading:!0,onOk:()=>{this.$Message.success("操作成功"),this.clearSelectAll(),this.$Modal.remove(),this.getDataList()}})},delAll(){this.selectList.length<=0?this.$Message.warning("您还未选择要删除的数据"):this.$Modal.confirm({title:"确认删除",content:"您确认要删除所选的 "+this.selectList.length+" 条数据?",loading:!0,onOk:()=>{let t="";this.selectList.forEach((function(e){t+=e.id+","})),t=t.substring(0,t.length-1),this.$Message.success("操作成功"),this.$Modal.remove(),this.clearSelectAll(),this.getDataList()}})}},mounted(){this.init()}},l=r,c=(s("5df4"),s("2877")),d=Object(c["a"])(l,i,a,!1,null,null,null);e["default"]=d.exports}}]);