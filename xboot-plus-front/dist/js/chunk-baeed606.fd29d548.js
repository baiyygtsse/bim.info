(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-baeed606","chunk-2d0d7882"],{"0a3d":function(t,e,o){"use strict";o("6ce1")},"6ce1":function(t,e,o){},7542:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"menu-add"},[e("Drawer",{attrs:{title:t.isRoot?"添加顶部菜单":"添加子节点",width:"500",draggable:"",mask:t.showMask,"mask-closable":!1},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[e("div",{staticClass:"drawer-content",style:{maxHeight:t.maxHeight}},[e("Form",{attrs:{"label-colon":""}},[e("FormItem",{directives:[{name:"show",rawName:"v-show",value:!t.isRoot,expression:"!isRoot"}],attrs:{label:"上级节点"}},[t._v(t._s(t.parentTitle))]),e("FormItem",{attrs:{label:"类型",prop:"type"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:-1==t.formAdd.type,expression:"formAdd.type == -1"}]},[e("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"ios-navigate-outline",size:"16"}}),e("span",[t._v("顶部菜单")])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.formAdd.type,expression:"formAdd.type == 0"}]},[e("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"ios-list-box-outline",size:"16"}}),e("span",[t._v("页面菜单")])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.formAdd.type,expression:"formAdd.type == 1"}]},[e("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"md-radio-button-on",size:"16"}}),e("span",[t._v("操作按钮")])],1)])],1),e("Form",{ref:"formAdd",attrs:{model:t.formAdd,"label-position":"top"}},[-1==t.formAdd.type||0==t.formAdd.type?e("FormItem",{attrs:{label:"名称",prop:"title"}},[e("div",{staticStyle:{display:"flex"}},[e("div",{staticStyle:{width:"100%"}},[e("Input",{model:{value:t.formAdd.title,callback:function(e){t.$set(t.formAdd,"title",e)},expression:"formAdd.title"}},[e("Poptip",{staticStyle:{width:"17px",cursor:"pointer"},attrs:{slot:"append",transfer:"",trigger:"hover",title:"多语言",placement:"right",width:"350"},slot:"append"},[e("Button",{attrs:{icon:"ios-globe-outline"}}),e("div",{attrs:{slot:"content"},slot:"content"},[e("Form",{attrs:{"label-width":80}},[e("FormItem",{attrs:{label:"启用多语言"}},[e("i-switch",{attrs:{size:"large"},model:{value:t.formAdd.localize,callback:function(e){t.$set(t.formAdd,"localize",e)},expression:"formAdd.localize"}},[e("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),e("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1),e("FormItem",{attrs:{label:"多语言Key"}},[e("Input",{attrs:{placeholder:"输入用于渲染I18n的$t('KEY')"},model:{value:t.formAdd.i18n,callback:function(e){t.$set(t.formAdd,"i18n",e)},expression:"formAdd.i18n"}})],1)],1)],1)],1)],1)],1)])]):t._e(),1==t.formAdd.type?e("FormItem",{staticClass:"block-tool",attrs:{label:"名称",prop:"title",rules:{required:!0,message:"名称不能为空",trigger:"blur"}}},[e("Tooltip",{attrs:{placement:"right",content:"操作按钮名称不得重复"}},[e("Input",{model:{value:t.formAdd.title,callback:function(e){t.$set(t.formAdd,"title",e)},expression:"formAdd.title"}})],1)],1):t._e(),0==t.formAdd.type?e("FormItem",{attrs:{label:"路径",prop:"path",rules:{required:!0,message:"路径不能为空",trigger:"blur"}}},[e("Input",{model:{value:t.formAdd.path,callback:function(e){t.$set(t.formAdd,"path",e)},expression:"formAdd.path"}})],1):t._e(),1==t.formAdd.type?e("FormItem",{staticClass:"block-tool",attrs:{label:"请求路径",prop:"path",required:!1}},[e("Tooltip",{attrs:{placement:"right","max-width":230,transfer:"",content:"填写后端请求URL，后端将作权限拦截，若无可填写'无'或其他"}},[e("Input",{model:{value:t.formAdd.path,callback:function(e){t.$set(t.formAdd,"path",e)},expression:"formAdd.path"}})],1)],1):t._e(),1==t.formAdd.type?e("FormItem",{attrs:{label:"按钮权限类型",prop:"buttonType"}},[e("dict",{attrs:{dict:"permission_type",placeholder:"请选择或输入搜索",filterable:"",clearable:"",transfer:""},model:{value:t.formAdd.buttonType,callback:function(e){t.$set(t.formAdd,"buttonType",e)},expression:"formAdd.buttonType"}})],1):t._e(),-1==t.formAdd.type?e("FormItem",{staticClass:"block-tool",attrs:{label:"英文名",prop:"name",rules:{required:!0,message:"英文名不能为空",trigger:"blur"}}},[e("Tooltip",{attrs:{placement:"right",content:"需唯一"}},[e("Input",{model:{value:t.formAdd.name,callback:function(e){t.$set(t.formAdd,"name",e)},expression:"formAdd.name"}})],1)],1):t._e(),0==t.formAdd.type?e("FormItem",{staticClass:"block-tool",attrs:{label:"路由英文名",prop:"name",rules:{required:!0,message:"路由英文名不能为空",trigger:"blur"}}},[e("Tooltip",{attrs:{placement:"right",content:"需唯一"}},[e("Input",{model:{value:t.formAdd.name,callback:function(e){t.$set(t.formAdd,"name",e)},expression:"formAdd.name"}})],1)],1):t._e(),-1==t.formAdd.type||0==t.formAdd.type?e("FormItem",{attrs:{label:"图标",prop:"icon",rules:{required:!0,message:"图标不能为空",trigger:"blur"}}},[e("icon-choose",{attrs:{showCustom:"",showInput:""},model:{value:t.formAdd.icon,callback:function(e){t.$set(t.formAdd,"icon",e)},expression:"formAdd.icon"}})],1):t._e(),-1==t.formAdd.type?e("FormItem",{attrs:{label:"显示红点",prop:"component"}},[e("i-switch",{attrs:{size:"large","true-value":"hot","false-value":"normal"},model:{value:t.formAdd.component,callback:function(e){t.$set(t.formAdd,"component",e)},expression:"formAdd.component"}},[e("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),e("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1):t._e(),-1==t.formAdd.type?e("FormItem",{attrs:{label:"系统站内菜单",prop:"isMenu"}},[e("i-switch",{attrs:{size:"large"},model:{value:t.formAdd.isMenu,callback:function(e){t.$set(t.formAdd,"isMenu",e)},expression:"formAdd.isMenu"}},[e("span",{attrs:{slot:"open"},slot:"open"},[t._v("是")]),e("span",{attrs:{slot:"close"},slot:"close"},[t._v("否")])])],1):t._e(),-1!=t.formAdd.type||t.formAdd.isMenu?t._e():e("FormItem",{attrs:{label:"其他链接",prop:"url",rules:{required:!0,message:"其他链接不能为空",trigger:"blur"}}},[e("Input",{attrs:{placeholder:"Http链接或路由名"},model:{value:t.formAdd.url,callback:function(e){t.$set(t.formAdd,"url",e)},expression:"formAdd.url"}})],1),-1!=t.formAdd.type||t.formAdd.isMenu?t._e():e("FormItem",{attrs:{label:"打开方式",prop:"description",rules:{required:!0,message:"请选择打开方式",trigger:"change"}}},[e("Select",{attrs:{transfer:"",placeholder:"请选择"},model:{value:t.formAdd.description,callback:function(e){t.$set(t.formAdd,"description",e)},expression:"formAdd.description"}},[e("Option",{attrs:{value:"direct",label:"直接跳转"}},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v("直接跳转")]),e("span",{staticStyle:{color:"#ccc"}},[t._v("其他链接填写完整链接")])]),e("Option",{attrs:{value:"window",label:"新窗口打开"}},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v("新窗口打开")]),e("span",{staticStyle:{color:"#ccc"}},[t._v("其他链接填写完整链接")])]),e("Option",{attrs:{value:"route",label:"站内路由"}},[e("span",{staticStyle:{"margin-right":"10px"}},[t._v("站内路由")]),e("span",{staticStyle:{color:"#ccc"}},[t._v("其他链接填写Vue路由名")])])],1)],1),0==t.formAdd.type?e("FormItem",{attrs:{label:"前端组件",prop:"component",rules:{required:!0,message:"前端组件不能为空",trigger:"blur"}}},[e("Input",{model:{value:t.formAdd.component,callback:function(e){t.$set(t.formAdd,"component",e)},expression:"formAdd.component"}})],1):t._e(),0==t.formAdd.type&&2==t.formAdd.level?e("FormItem",{attrs:{label:"第三方链接",prop:"url",required:!1}},[e("Input",{attrs:{placeholder:"http://"},on:{"on-change":t.changeAddUrl},model:{value:t.formAdd.url,callback:function(e){t.$set(t.formAdd,"url",e)},expression:"formAdd.url"}}),e("span",{staticClass:"url-remark"},[t._v("前端组件需为 sys/monitor/monitor 时生效")])],1):t._e(),e("FormItem",{attrs:{label:"排序值",prop:"sortOrder",rules:{required:!0,type:"number",message:"前端组件不能为空",trigger:"blur"}}},[e("Tooltip",{attrs:{trigger:"hover",placement:"right",content:"值越小越靠前，支持小数"}},[e("InputNumber",{attrs:{max:1e3,min:0},model:{value:t.formAdd.sortOrder,callback:function(e){t.$set(t.formAdd,"sortOrder",e)},expression:"formAdd.sortOrder"}})],1)],1),1==t.formAdd.level?e("FormItem",{staticClass:"block-tool",attrs:{label:"始终显示",prop:"showAlways"}},[e("i-switch",{attrs:{size:"large"},model:{value:t.formAdd.showAlways,callback:function(e){t.$set(t.formAdd,"showAlways",e)},expression:"formAdd.showAlways"}},[e("span",{attrs:{slot:"open"},slot:"open"},[t._v("是")]),e("span",{attrs:{slot:"close"},slot:"close"},[t._v("否")])]),e("Tooltip",{staticStyle:{display:"inline-block !important"},attrs:{content:"当设为不始终显示时，一级菜单下仅有一个子级菜单只会显示该子级菜单，避免用户多次点击",placement:"right",transfer:"","max-width":"280"}},[e("Icon",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{type:"md-help-circle",size:"20",color:"#c5c5c5"}})],1)],1):t._e(),e("FormItem",{attrs:{label:"是否启用",prop:"status"}},[e("i-switch",{attrs:{size:"large","true-value":0,"false-value":-1},model:{value:t.formAdd.status,callback:function(e){t.$set(t.formAdd,"status",e)},expression:"formAdd.status"}},[e("span",{attrs:{slot:"open"},slot:"open"},[t._v("启用")]),e("span",{attrs:{slot:"close"},slot:"close"},[t._v("禁用")])])],1)],1)],1),e("div",{staticClass:"drawer-footer br"},[e("div",{staticClass:"footer-between"},[e("div",[e("Button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:t.submit}},[t._v("提交")]),e("Button",{on:{click:function(e){t.visible=!1}}},[t._v("取消")])],1),e("div",{staticClass:"flex-center"},[e("i-switch",{attrs:{size:"large"},model:{value:t.showMask,callback:function(e){t.showMask=e},expression:"showMask"}},[e("span",{attrs:{slot:"open"},slot:"open"},[t._v("遮罩")]),e("span",{attrs:{slot:"close"},slot:"close"},[t._v("关闭")])])],1)])])])],1)},a=[],s=o("365c"),l=o("76e2"),i=o("ad40"),n={name:"add",components:{dict:l["default"],IconChoose:i["default"]},props:{value:{type:Boolean,default:!1},isRoot:{type:Boolean,default:!1},form:{type:Object},dataLength:{type:Number}},data(){return{showMask:!0,visible:this.value,parentTitle:"",submitLoading:!1,maxHeight:510,formAdd:{}}},methods:{init(){},changeAddUrl(t){let e=t.target.value;e.indexOf("http")>-1&&(this.formAdd.component="sys/monitor/monitor")},submit(){this.$refs.formAdd.validate(t=>{t&&(this.submitLoading=!0,1==this.formAdd.type&&(this.formAdd.name="",this.formAdd.icon="",this.formAdd.component=""),Object(s["f"])(this.formAdd).then(t=>{this.submitLoading=!1,t.success&&(this.$Message.success("操作成功"),this.$emit("on-submit",!0),this.visible=!1)}))})},setCurrentValue(t){if(t!==this.visible){if(this.$refs.formAdd.resetFields(),this.isRoot)this.formAdd={type:-1,level:0,parentId:0,isMenu:!0,sortOrder:this.dataLength+1,status:0,component:"normal"};else{this.parentTitle=this.form.title;let t=0;2==this.form.level&&(t=1),this.form.children||(this.form.children=[]),this.formAdd={icon:"",type:t,parentId:this.form.id,level:Number(this.form.level)+1,sortOrder:this.form.children.length+1,buttonType:"",status:0,showAlways:!0},0==this.form.level&&(this.formAdd.path="/",this.formAdd.component="Main")}this.visible=t}}},watch:{value(t){this.setCurrentValue(t)},visible(t){this.$emit("input",t)}},mounted(){this.init(),this.maxHeight=Number(document.documentElement.clientHeight-121)+"px"}},d=n,m=(o("0a3d"),o("2877")),c=Object(m["a"])(d,r,a,!1,null,null,null);e["default"]=c.exports},"76e2":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t._self._c;return e("div",[e("Select",{attrs:{size:t.size,loading:t.loading,placeholder:t.placeholder,multiple:t.multiple,disabled:t.disabled,filterable:t.filterable,transfer:t.transfer,clearable:t.clearable,placement:t.placement,"transfer-class-name":t.transferClassName,prefix:t.prefix,"max-tag-count":t.maxTagCount,"max-tag-placeholder":t.maxTagPlaceholder},on:{"on-change":t.handleChange,"on-query-change":t.handleQueryChange,"on-clear":t.handleClear,"on-open-change":t.handleOpenChange,"on-select":t.handleSelect},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},t._l(t.dictData,(function(o,r){return e("Option",{key:r,attrs:{value:o.value}},[t._v(t._s(o.title))])})),1)],1)},a=[],s=o("365c"),l={name:"dict",props:{value:"",dict:String,placeholder:{type:String,default:"请选择"},placement:{type:String,default:"bottom-start"},size:String,multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},transfer:{type:Boolean,default:!1},transferClassName:String,prefix:String,maxTagCount:Number,maxTagPlaceholder:Function,clearable:{type:Boolean,default:!0}},data(){return{currentValue:this.value,dictData:[],loading:!1}},methods:{getData(t){this.loading=!0,Object(s["Ab"])(t).then(t=>{this.loading=!1,t.success&&(this.dictData=t.result)})},handleChange(t){this.$emit("input",t),this.$emit("on-change",t)},handleQueryChange(t){this.$emit("on-query-change",t)},handleClear(){this.$emit("on-clear","")},handleOpenChange(t){this.$emit("on-open-change",t)},handleSelect(t){this.$emit("on-select",t)},setCurrentValue(t){t!==this.currentValue&&(this.currentValue=t,this.$emit("on-change",this.currentValue))}},watch:{value(t){this.setCurrentValue(t)},dict(t){this.getData(t)}},mounted(){this.getData(this.dict)}},i=l,n=o("2877"),d=Object(n["a"])(i,r,a,!1,null,null,null);e["default"]=d.exports}}]);