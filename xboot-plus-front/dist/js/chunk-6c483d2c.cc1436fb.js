(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c483d2c","chunk-70121076"],{"42ec":function(e,t,i){},5231:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"b",(function(){return l}));const a=[{title:"事件名",key:"name",width:150},{title:"说明",key:"type",width:300},{title:"返回值",key:"value"}],s=[{title:"属性",key:"name",width:135},{title:"说明",key:"desc"},{title:"类型",key:"type",width:130},{title:"默认值",key:"value"}],l=[{title:"方法名",key:"name",width:150},{title:"说明",key:"type",width:300},{title:"参数",key:"value"}]},"5e46":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{class:{"file-upload-wrap-nobutton":!e.showUpload}},[t("Upload",{ref:"upload",attrs:{action:e.uploadFileUrl,headers:e.accessToken,"on-success":e.handleSuccess,"on-error":e.handleError,format:e.format,accept:e.accept,"max-size":1024*e.maxSize,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.beforeUpload,"default-file-list":e.fileList,"on-preview":e.handlePreview,"on-remove":e.handleRemove}},[t("Button",{directives:[{name:"show",rawName:"v-show",value:e.showUpload,expression:"showUpload"}],attrs:{type:e.type,ghost:e.ghost,shape:e.shape,size:e.size,disabled:e.disabled,icon:e.icon}},[e._v(e._s(e.text))])],1),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.showUpload&&e.fileList.length<1,expression:"!showUpload && fileList.length < 1"}]},[e._v(e._s(e.noDataText))])],1)])},s=[],l=i("365c"),n={name:"fileUpload",props:{value:null,size:String,type:String,multi:{type:Boolean,default:!1},limit:{type:Number,default:10},ghost:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},shape:String,icon:{type:String,default:"ios-cloud-upload-outline"},text:{type:String,default:"上传文件"},maxSize:{type:Number,default:5},accept:String,showUpload:{type:Boolean,default:!0},noDataText:{type:String,default:"暂无数据"},showTip:{type:Boolean,default:!0},tipSize:{type:Number,default:50}},computed:{format(){if(this.accept){let e=[];return this.accept.split(",").forEach(t=>{e.push(t.replace(".","").replace(" ",""))}),e}return[]}},data(){return{accessToken:{},currentValue:this.value,uploadFileUrl:l["Tc"],fileList:[]}},methods:{init(){this.accessToken={accessToken:this.getStore("accessToken")},this.setCurrentValue(this.value)},handleFormatError(e){this.$Notice.warning({title:"不支持的文件格式",desc:"所选文件‘ "+e.name+" ’格式不正确, 请选择 "+this.accept+" 格式文件"})},handleMaxSize(e){this.$Notice.warning({title:"文件大小过大",desc:"所选文件‘ "+e.name+" ’大小过大, 不得超过 "+this.maxSize+"M."})},beforeUpload(e){return!(this.multi&&this.fileList.length>=this.limit)||(this.$Message.warning("最多只能上传"+this.limit+"张图片"),!1)},handleSuccess(e,t,i){e.success?(this.multi?this.currentValue.push({url:e.result,name:t.name,size:t.size}):this.currentValue={url:e.result,name:t.name,size:t.size},this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)):(t.percentage=0,t.status="fail",t.name+="（上传失败）",this.$Message.error(e.message))},handleError(e,t,i){this.$Message.error(e.toString())},handlePreview(e){let t=this.showTip&&e.size&&e.size>1024*this.tipSize*1024;t?this.$Modal.confirm({title:"文件较大提示",content:"该文件大小已超过 "+this.tipSize+" MB，确认下载？",okText:"继续下载",onOk:()=>{this.download(e)}}):this.download(e)},download(e){e.url?window.open(e.url+"?attname=&response-content-type=application/octet-stream&filename="+e.name):this.$Message.error("无效的链接")},handleRemove(e,t){if(this.multi){let e=[];t.forEach(t=>{"finished"==t.status&&e.push({url:t.url,name:t.name,size:t.size})}),this.fileList=e,this.currentValue=e}else t.length>0&&"finished"==t[0].status?(this.currentValue={url:t[0].url,name:t[0].name,size:t[0].size},this.fileList=[this.currentValue]):this.currentValue={};this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)},setCurrentValue(e){if(e.length||0==e.length){if(!this.multi)return void this.$Message.warning("单个上传仅支持传入字符串数据类型");if(e.length>this.limit){for(let t=0;t<this.limit;t++)this.fileList.push({url:e[t].url,name:e[t].name,size:e[t].size});this.currentValue=this.fileList,this.$emit("input",this.currentValue),this.$Message.warning("最多只能上传"+this.limit+"个文件")}else this.currentValue=e,this.fileList=e}else{if(this.multi)return void this.$Message.warning("多个上传仅支持传入数组数据类型");if(!e.name&&!e.url)return;this.currentValue=e,this.fileList.push(e)}this.count=this.currentValue.length,this.$emit("on-change",this.currentValue)},clear(){this.$refs.upload.clearFiles(),this.multi?this.currentValue=[]:this.currentValue={},this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)}},watch:{value(e){this.setCurrentValue(e)}},mounted(){this.init()}},r=n,o=(i("da22"),i("2877")),u=Object(o["a"])(r,a,s,!1,null,null,null);t["default"]=u.exports},da22:function(e,t,i){"use strict";i("42ec")},eeb3:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("Divider",{staticClass:"component-blue",attrs:{orientation:"left"}},[e._v("文件上传/下载")]),t("file-upload",{staticStyle:{width:"400px"},attrs:{multi:"",limit:5},model:{value:e.fileInfo,callback:function(t){e.fileInfo=t},expression:"fileInfo"}}),t("br"),e._v(" "+e._s(e.fileInfo)+" "),t("h3",{staticClass:"component-article"},[e._v("基础用法")]),e._v(" 基本用法，使用 "),t("code",[e._v("v-model")]),e._v(" 实现数据的双向绑定。"),t("br"),e._v("绑定值为单个对象或数组（取决于是否选开启多个文件上传）："),t("code",[e._v("{url: 完整下载链接, name: 文件名, size: 文件大小(单位字节，非必须)}")]),t("h3",{staticClass:"component-article"},[e._v("props")]),t("Table",{attrs:{columns:e.props,data:e.data1,border:"",size:"small",width:"1000"}}),t("h3",{staticClass:"component-article"},[e._v("events")]),t("Table",{attrs:{columns:e.events,data:e.data2,border:"",size:"small",width:"1000"}})],1)},s=[],l=i("5231"),n=i("5e46"),r={components:{fileUpload:n["default"]},data(){return{fileInfo:[{name:"img.png",url:"https://ooo.0o0.ooo/2019/04/28/5cc5a71a6e3b6.png"},{name:"video.mp4",size:53477376,url:"https://ooo.0o0.ooo/2021/01/16/VuODA1yUSCeXzFM.png"}],props:l["c"],events:l["a"],methods:l["b"],data1:[{name:"value",desc:"绑定的对象Object或数组Array，可使用 v-model 双向绑定。默认单个上传时只接受单个对象，多个上传时只接受数组",type:"Object | Array",value:"-"},{name:"multi",desc:"是否选开启多个文件上传，默认false",type:"Boolean",value:"false"},{name:"accept",desc:"接受上传的文件类型，等同<input>标签的accept属性",type:"String",value:"空"},{name:"maxSize",desc:"单个文件最大限制大小（单位Mb）",type:"Number",value:"5"},{name:"limit",desc:"限制上传文件数量，开启多个上传multiple设为true时生效，默认限制10个",type:"Number",value:"10"},{name:"icon",desc:"设置上传按钮图标",type:"String",value:"ios-cloud-upload-outline"},{name:"text",desc:"设置上传按钮文字",type:"String",value:"上传文件"},{name:"showUpload",desc:"是否显示上传按钮（仅允许用户下载时使用）",type:"Boolean",value:"true"},{name:"noDataText",desc:"不显示上传按钮时若没有文件显示的文字",type:"String",value:"暂无数据"},{name:"showTip",desc:"当文件大小较大时是否显示提示框提醒用户",type:"Boolean",value:"true"},{name:"tipSize",desc:"当文件超过多少MB时显示文件大小较大提示框（单位：MB）",type:"Number",value:"50"},{name:"type",desc:"按钮类型，可选值为 default、primary、dashed、text、info、success、warning、error或者不设置",type:"String",value:"default"},{name:"ghost",desc:"幽灵属性，使按钮背景透明",type:"Boolean",value:"false"},{name:"size",desc:"按钮大小，可选值为large、small、default或者不设置",type:"String",value:"default"},{name:"shape",desc:"按钮形状，可选值为circle或者不设置",type:"String",value:"-"},{name:"disabled",desc:"设置输入框和上传按钮为禁用状态",type:"Boolean",value:"false"}],data2:[{name:"on-change",type:"返回上传成功文件对象信息",value:"默认单个文件上传时返回单个文件对象Object：{url: 完整下载链接, name: 文件名, size: 文件大小(单位字节)}；当开启多个上传时，返回多个文件对象数组Array：[{url: 完整下载链接, name: 文件名, size: 文件大小(单位字节)}]"}]}},methods:{},mounted(){}},o=r,u=i("2877"),c=Object(u["a"])(o,a,s,!1,null,null,null);t["default"]=c.exports}}]);