(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ac18a56","chunk-b13d9db6"],{"0573":function(t,e,i){},5231:function(t,e,i){"use strict";i.d(e,"a",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return l}));const a=[{title:"事件名",key:"name",width:150},{title:"说明",key:"type",width:300},{title:"返回值",key:"value"}],s=[{title:"属性",key:"name",width:135},{title:"说明",key:"desc"},{title:"类型",key:"type",width:130},{title:"默认值",key:"value"}],l=[{title:"方法名",key:"name",width:150},{title:"说明",key:"type",width:300},{title:"参数",key:"value"}]},aa5a:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("Divider",{staticClass:"component-blue",attrs:{orientation:"left"}},[t._v("图片上传缩略图")]),e("div",{staticStyle:{"font-size":"12px","margin-bottom":"10px"}},[t._v("直接上传")]),e("upload-pic-thumb",{attrs:{multiple:""},model:{value:t.picUrls,callback:function(e){t.picUrls=e},expression:"picUrls"}}),e("br"),e("div",{staticStyle:{"font-size":"12px","margin-bottom":"10px"}},[t._v("素材中心上传")]),e("upload-pic-thumb",{attrs:{material:"",multiple:"",height:"100px",width:"100px"},model:{value:t.picUrls,callback:function(e){t.picUrls=e},expression:"picUrls"}}),e("br"),t._v(" "+t._s(t.picUrls)+" "),e("h3",{staticClass:"component-article"},[t._v("提示")]),t._v(" 可拖拽实现交换图片顺序。可自定义图片框长和宽。 "),e("h3",{staticClass:"component-article"},[t._v("基础用法")]),t._v(" 基本用法，使用 "),e("code",[t._v("v-model")]),t._v(" 实现数据的双向绑定。 "),e("h3",{staticClass:"component-article"},[t._v("props")]),e("Table",{attrs:{columns:t.props,data:t.data1,border:"",size:"small",width:"1000"}}),e("h3",{staticClass:"component-article"},[t._v("events")]),e("Table",{attrs:{columns:t.events,data:t.data2,border:"",size:"small",width:"1000"}})],1)},s=[],l=i("5231"),n=i("d014"),r={components:{uploadPicThumb:n["default"]},data(){return{props:l["c"],events:l["a"],methods:l["b"],picUrls:["https://ooo.0o0.ooo/2019/04/28/5cc5a71a6e3b6.png","https://ooo.0o0.ooo/2021/01/16/VuODA1yUSCeXzFM.png"],data1:[{name:"value",desc:"绑定的值，可使用 v-model 双向绑定。单张上传时只接受String，多张上传时只接受Array",type:"String | Array",value:"空"},{name:"material",desc:"是否启用素材中心上传 [完整版]",type:"Boolean",value:"false"},{name:"multiple",desc:"是否选开启多张上传，默认true开启，设为false仅限制一张",type:"Boolean",value:"false"},{name:"limit",desc:"限制上传数量，开启多张上传multiple设为true时生效，默认限制5张",type:"Number",value:"5"},{name:"accept",desc:"接受上传的文件类型，等同<input>标签的accept属性",type:"String",value:".jpg, .jpeg, .png, .gif"},{name:"maxSize",desc:"单个文件最大限制大小（单位Mb）",type:"Number",value:"5"},{name:"draggable",desc:"是否开启拖拽交换图片顺序（仅开启多张上传时有效）",type:"Boolean",value:"true"},{name:"width",desc:"每个图片框的长度，需带单位如60px",type:"String",value:"60px"},{name:"height",desc:"每个图片框的高度，需带单位如60px",type:"String",value:"60px"},{name:"marginBottom",desc:"每个图片框的下边距，当图片换行时建议设置间距，需带单位如10px",type:"String",value:"0"},{name:"preview",desc:"是否开启预览模式，开启后仅支持预览，无法上传",type:"Boolean",value:"false"}],data2:[{name:"on-change",type:"返回上传成功图片链接",value:"当开启多张上传时，返回图片链接数组，如['http://1.png','http://2.png']；限制单张时返回单个图片链接，如'http://3.png'"}]}},methods:{},mounted(){}},o=r,u=i("2877"),h=Object(u["a"])(o,a,s,!1,null,null,null);e["default"]=h.exports},acd8:function(t,e,i){"use strict";i("0573")},d014:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"upload-thumb"},[e("vuedraggable",{staticClass:"list-group",attrs:{list:t.uploadList,disabled:!t.draggable||!t.multiple,animation:200,"ghost-class":"thumb-ghost"},on:{end:t.onEnd}},t._l(t.uploadList,(function(i,a){return e("div",{key:a,staticClass:"upload-list",style:{width:`calc(${t.width} + 2px)`,height:`calc(${t.height} + 2px)`,lineHeight:t.height,marginBottom:t.marginBottom}},["finished"==i.status?e("div",[e("img",{style:{height:t.height},attrs:{src:i.url}}),e("div",{staticClass:"upload-list-cover"},[e("Icon",{attrs:{type:"ios-eye-outline"},on:{click:function(e){return t.handleView(i.url,a)}}}),e("Icon",{directives:[{name:"show",rawName:"v-show",value:!t.preview,expression:"!preview"}],attrs:{type:"ios-trash-outline"},on:{click:function(e){return t.handleRemove(i)}}})],1)]):e("div",[i.showProgress?e("Progress",{attrs:{percent:i.percentage,"hide-info":""}}):t._e()],1)])})),0),t.material?t._e():e("Upload",{directives:[{name:"show",rawName:"v-show",value:!t.preview,expression:"!preview"}],ref:"upload",staticClass:"upload-btn",style:{width:t.width,marginBottom:t.marginBottom},attrs:{multiple:t.multiple,"show-upload-list":!1,"on-success":t.handleSuccess,"on-error":t.handleError,format:t.format,accept:t.accept,"max-size":1024*t.maxSize,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,type:"drag",action:t.uploadFileUrl,headers:t.accessToken}},[e("div",{style:{width:t.width,height:t.height,lineHeight:t.height}},[e("Icon",{attrs:{type:"md-camera",size:"20"}})],1)]),t.material?e("div",{staticClass:"ivu-upload-drag",style:{width:t.width,height:t.height,lineHeight:t.height},on:{click:function(e){t.showMaterialCenter=!0}}},[e("Icon",{attrs:{type:"md-camera",size:"20"}})],1):t._e(),t.material?e("materialCenter",{attrs:{acceptImg:t.accept,maxSize:t.maxSize,multiple:t.multiple},on:{"on-change":t.selectFile},model:{value:t.showMaterialCenter,callback:function(e){t.showMaterialCenter=e},expression:"showMaterialCenter"}}):t._e()],1)},s=[],l=(i("0808"),i("6a37")),n=i.n(l),r=i("365c"),o=i("289a"),u=i.n(o),h=i("1f5f"),p={name:"uploadPicThumb",components:{vuedraggable:u.a,materialCenter:h["default"]},props:{value:{type:null},material:{type:Boolean,default:!1},preview:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},maxSize:{type:Number,default:5},limit:{type:Number,default:5},width:{type:String,default:"60px"},height:{type:String,default:"60px"},marginBottom:{type:String,default:"0"},accept:{type:String,default:".jpg, .jpeg, .png, .gif"}},computed:{format(){if(this.accept){let t=[];return this.accept.split(",").forEach(e=>{t.push(e.replace(".","").replace(" ",""))}),t}return[]}},data(){return{accessToken:{},uploadFileUrl:r["Tc"],uploadList:[],showMaterialCenter:!1}},methods:{onEnd(){this.returnValue()},init(){this.setData(this.value),this.accessToken={accessToken:this.getStore("accessToken")}},handleView(t,e){let i=new Image;i.src=t;let a=new n.a(i,{hidden:function(){a.destroy()}});a.show()},handleRemove(t){const e=this.uploadList;this.uploadList.splice(e.indexOf(t),1),this.returnValue()},handleSuccess(t,e){t.success?(e.url=t.result,!this.multiple&&this.uploadList.length>0&&this.uploadList.splice(0,1),this.uploadList.push(e),this.returnValue()):this.$Message.error(t.message)},handleError(t,e,i){this.$Message.error(t.toString())},handleFormatError(t){this.$Notice.warning({title:"不支持的文件格式",desc:"所选文件‘ "+t.name+" ’格式不正确, 请选择 "+this.accept+" 图片格式文件"})},handleMaxSize(t){this.$Notice.warning({title:"文件大小过大",desc:"所选文件‘ "+t.name+" ’大小过大, 不得超过 "+this.maxSize+"M."})},handleBeforeUpload(){return!(this.multiple&&this.uploadList.length>=this.limit)||(this.$Message.warning("最多只能上传"+this.limit+"张图片"),!1)},returnValue(){if(!this.uploadList||this.uploadList.length<1)this.multiple?(this.$emit("input",[]),this.$emit("on-change",[])):(this.$emit("input",""),this.$emit("on-change",""));else if(this.multiple){let t=[];this.uploadList.forEach(e=>{t.push(e.url)}),this.$emit("input",t),this.$emit("on-change",t)}else{let t=this.uploadList[0].url;this.$emit("input",t),this.$emit("on-change",t)}},setData(t){if("string"==typeof t){if(this.multiple)return void this.$Message.warning("多张上传仅支持传入数组数据类型");if(!t)return;this.uploadList=[];let e={url:t,status:"finished"};this.uploadList.push(e),this.$emit("on-change",t)}else if("object"==typeof t){if(!this.multiple)return void this.$Message.warning("单张上传仅支持传入字符串数据类型");if(this.uploadList=[],t.length>this.limit){for(let e=0;e<this.limit;e++)this.uploadList.push({url:t[e],status:"finished"});this.$emit("on-change",t.slice(0,this.limit)),this.$emit("input",t.slice(0,this.limit)),this.$Message.warning("最多只能上传"+this.limit+"张图片")}else t.forEach(t=>{let e={url:t,status:"finished"};this.uploadList.push(e)}),this.$emit("on-change",t)}},selectFile(t){this.multiple?t.forEach(t=>{this.uploadList.push({url:t,status:"finished"})}):this.uploadList[0]={url:t,status:"finished"},this.returnValue()}},watch:{value(t){this.setData(t)}},mounted(){this.init()}},c=p,d=(i("acd8"),i("2877")),m=Object(d["a"])(c,a,s,!1,null,null,null);e["default"]=m.exports}}]);