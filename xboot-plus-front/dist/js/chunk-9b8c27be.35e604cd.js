(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b8c27be","chunk-1ca0038e","chunk-22b94f02","chunk-e5bbb42c","chunk-660b82a7","chunk-b13d9db6","chunk-2d0ceda3","chunk-2d0d7882","chunk-2d226743"],{"0573":function(t,e,i){},"07e3":function(t,e,i){t.exports=i.p+"img/dingding.21a7a85c.png"},"10fd":function(t,e,i){"use strict";i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return a})),i.d(e,"a",(function(){return n}));const s=(t,e,i)=>{var s=/^[a-zA-Z0-9_]{1,16}$/;e.length>16?i(new Error("长度不能超过16个字符")):s.test(e)?i():i(new Error("仅支持大小写英文、数字和下划线_"))},a=(t,e,i)=>{e.length<6?i(new Error("密码长度不得小于6位")):i()},n=(t,e,i)=>{var s=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;s.test(e)?i():i(new Error("手机号格式错误"))}},"113b":function(t,e,i){t.exports=i.p+"img/qiyeweixin.7010268f.png"},"1d60":function(t,e,i){},"220f":function(t,e,i){t.exports=i.p+"img/weibo.57188625.png"},2625:function(t,e,i){"use strict";i("1d60")},"30fa":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("Modal",{attrs:{title:"身份验证",fullscreen:"","footer-hide":""},model:{value:t.passCheckVisible,callback:function(e){t.passCheckVisible=e},expression:"passCheckVisible"}},[e("div",{staticClass:"pass-check",on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkPass.apply(null,arguments)}}},[e("Icon",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"md-lock",size:"30"}}),e("div",{staticClass:"title",staticStyle:{"margin-bottom":"40px"}},[t._v("密码认证")]),e("div",{staticClass:"desc"},[t._v("请输入您的密码")]),e("Input",{staticStyle:{width:"300px","margin-bottom":"40px"},attrs:{autofocus:"",password:"",size:"large",placeholder:"请输入您的密码",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("div",{staticStyle:{"margin-bottom":"60px"}},[e("Button",{staticStyle:{"margin-right":"20px"},attrs:{size:"large"},on:{click:function(e){t.passCheckVisible=!1}}},[t._v("取消")]),e("Button",{attrs:{loading:t.loading,disabled:!t.password,type:"primary",size:"large"},on:{click:t.checkPass}},[t._v("提交")])],1)],1)])],1)},a=[],n=i("365c"),l={name:"checkPassword",data(){return{loading:!1,passCheckVisible:!1,password:""}},methods:{checkPass(){this.loading=!0,Object(n["Sc"])({password:this.password}).then(t=>{this.loading=!1,t.success&&(this.passCheckVisible=!1,this.$emit("on-success",!0))})},show(){this.password="",this.passCheckVisible=!0}}},o=l,r=(i("74b2"),i("2877")),c=Object(r["a"])(o,s,a,!1,null,null,null);e["default"]=c.exports},4265:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"own-space"},[e("Card",[e("div",{staticClass:"own-wrap"},[e("div",{staticStyle:{width:"240px"}},[e("Menu",{attrs:{"active-name":t.activeName,theme:"light"},on:{"on-select":t.changeMenu}},[e("MenuItem",{attrs:{name:"基本信息"}},[t._v("基本信息")]),e("MenuItem",{attrs:{name:"安全设置"}},[t._v("安全设置")]),e("MenuItem",{attrs:{name:"第三方账号绑定"}},[t._v("第三方账号绑定")]),e("MenuItem",{attrs:{name:"消息通知"}},[t._v("消息通知")])],1)],1),e("div",{staticStyle:{padding:"8px 40px",width:"100%"}},[e("div",{staticClass:"title"},[t._v(t._s(t.currMenu))]),e("div",{directives:[{name:"show",rawName:"v-show",value:"基本信息"==t.currMenu,expression:"currMenu == '基本信息'"}]},[e("user",{on:{"on-success":t.updateUserInfo}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"安全设置"==t.currMenu,expression:"currMenu == '安全设置'"}]},[e("security",{on:{"on-success":t.updateUserInfo}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"第三方账号绑定"==t.currMenu,expression:"currMenu == '第三方账号绑定'"}]},[e("social")],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"消息通知"==t.currMenu,expression:"currMenu == '消息通知'"}]},[e("message")],1)])])])],1)},a=[],n=i("365c"),l=i("9240"),o=i("585f"),r=i("823d"),c=i("e970"),d={components:{user:l["default"],security:o["default"],social:r["default"],message:c["default"]},name:"ownspace_index",data(){return{activeName:"基本信息",currMenu:"基本信息"}},methods:{init(){},changeMenu(t){this.currMenu=t},updateUserInfo(){Object(n["Uc"])().then(t=>{t.success&&(delete t.result.permissions,delete t.result.roles,this.getStore("saveLogin")?Cookies.set("userInfo",JSON.stringify(t.result),{expires:7}):Cookies.set("userInfo",JSON.stringify(t.result)),this.setStore("userInfo",t.result))})}},mounted(){let t=this.$route.query.type;"social"==t&&(this.activeName="第三方账号绑定",this.currMenu="第三方账号绑定"),this.init()}},h=d,u=(i("2625"),i("2877")),m=Object(u["a"])(h,s,a,!1,null,null,null);e["default"]=m.exports},4946:function(t,e,i){t.exports=i.p+"img/qq.b6432515.png"},"585f":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"item"},[e("div",[e("div",{staticClass:"title"},[t._v("账户密码")]),t.form.passStrength?e("div",{staticClass:"desc"},[t._v(" 当前密码强度： "),"弱"==t.form.passStrength?e("span",{staticClass:"red"},[t._v(t._s(t.form.passStrength))]):t._e(),"中"==t.form.passStrength?e("span",{staticClass:"middle"},[t._v(t._s(t.form.passStrength))]):t._e(),"强"==t.form.passStrength?e("span",{staticClass:"green"},[t._v(t._s(t.form.passStrength))]):t._e()]):t._e()]),e("div",[e("a",{on:{click:function(e){t.showChangePass=!0}}},[t._v("修改")])])]),e("div",{staticClass:"item"},[e("div",[e("div",{staticClass:"title"},[t._v("绑定手机")]),e("div",{staticClass:"desc"},[t.form.mobile?e("span",[t._v("已绑定手机："+t._s(t.form.mobile))]):e("span",[t._v("未绑定手机号")])])]),e("div",[e("a",{on:{click:t.showChangeMobile}},[t._v("修改")])])]),e("div",{staticClass:"item"},[e("div",[e("div",{staticClass:"title"},[t._v("绑定邮箱")]),e("div",{staticClass:"desc"},[t.form.email?e("span",[t._v("已绑定邮箱："+t._s(t.form.email))]):e("span",[t._v("未绑定邮箱")])])]),e("div",[e("a",{on:{click:t.showChangeEmail}},[t._v("修改")])])]),t._m(0),e("Modal",{attrs:{title:"修改手机号",closable:!1,"mask-closable":!1,width:500},model:{value:t.editMobileVisible,callback:function(e){t.editMobileVisible=e},expression:"editMobileVisible"}},[e("Form",{ref:"mobileEditForm",attrs:{model:t.mobileEditForm,"label-width":70,rules:t.mobileEditValidate}},[e("FormItem",{attrs:{label:"手机号",prop:"mobile"}},[e("Input",{attrs:{placeholder:"请输入新手机号"},on:{"on-change":t.hasChangePhone},model:{value:t.mobileEditForm.mobile,callback:function(e){t.$set(t.mobileEditForm,"mobile",e)},expression:"mobileEditForm.mobile"}})],1),e("FormItem",{attrs:{label:"验证码",prop:"code",error:t.codeError}},[e("Row",{attrs:{type:"flex",justify:"space-between"}},[e("Input",{staticStyle:{width:"280px"},attrs:{placeholder:"请输入您收到的短信验证码"},model:{value:t.mobileEditForm.code,callback:function(e){t.$set(t.mobileEditForm,"code",e)},expression:"mobileEditForm.code"}}),e("CountDownButton",{ref:"countDownMobile",attrs:{disabled:t.canSendMobileCode,autoCountDown:!1,loading:t.sending,text:t.getSms},on:{"on-click":t.sendEditMobileCode}})],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text"},on:{click:t.cancelInputCodeBox}},[t._v("取消")]),e("Button",{attrs:{type:"primary",loading:t.checkCodeLoading},on:{click:t.submitEditMobile}},[t._v("提交")])],1)],1),e("Modal",{attrs:{title:"修改邮箱",closable:!1,"mask-closable":!1,width:500},model:{value:t.editEmailVisible,callback:function(e){t.editEmailVisible=e},expression:"editEmailVisible"}},[e("Form",{ref:"emailEditForm",attrs:{model:t.emailEditForm,"label-width":100,rules:t.emailEditValidate}},[e("FormItem",{attrs:{label:"新邮箱地址",prop:"email"}},[e("Input",{attrs:{placeholder:"请输入新邮箱地址"},on:{"on-change":t.hasChangeEmail},model:{value:t.emailEditForm.email,callback:function(e){t.$set(t.emailEditForm,"email",e)},expression:"emailEditForm.email"}})],1),e("FormItem",{attrs:{label:"验证码",prop:"code",error:t.codeError}},[e("Row",{attrs:{type:"flex",justify:"space-between"}},[e("Input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入您收到的邮件中的验证码"},model:{value:t.emailEditForm.code,callback:function(e){t.$set(t.emailEditForm,"code",e)},expression:"emailEditForm.code"}}),e("CountDownButton",{ref:"countDownEmail",attrs:{disabled:t.canSendEditEmail,autoCountDown:!1,loading:t.sending,text:t.getSms},on:{"on-click":t.sendVerifyEmail}})],1)],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text"},on:{click:t.cancelEditEmail}},[t._v("取消")]),e("Button",{attrs:{type:"primary",loading:t.editEmailLoading},on:{click:t.submitEditEmail}},[t._v("提交")])],1)],1),e("changePass",{model:{value:t.showChangePass,callback:function(e){t.showChangePass=e},expression:"showChangePass"}}),e("check-password",{ref:"checkPassMobile",on:{"on-success":t.checkSuccessMobile}}),e("check-password",{ref:"checkPassEmail",on:{"on-success":t.checkSuccessEmail}})],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"item"},[e("div",[e("div",{staticClass:"title"},[t._v("密保问题")]),e("div",{staticClass:"desc"},[t._v("未设置密保问题，密保问题可有效保护账户安全")])]),e("div",[e("a",[t._v("暂不支持设置")])])])}],n=i("365c"),l=i("10fd"),o=i("60e8"),r=i("30fa"),c=i("fdd1"),d={components:{changePass:c["default"],checkPassword:r["default"],CountDownButton:o["default"]},name:"security",data(){return{showChangePass:!1,form:{},mobileEditForm:{mobile:"",code:""},emailEditForm:{email:"",code:""},codeError:"",initPhone:"",initEmail:"",saveLoading:!1,sending:!1,getSms:"获取验证码",canSendMobileCode:!0,checkCodeLoading:!1,checkPassLoading:!1,editEmailLoading:!1,mobileEditValidate:{mobile:[{required:!0,message:"请输入手机号码"},{validator:l["a"]}]},emailEditValidate:{email:[{required:!0,message:"请输入邮箱地址"},{type:"email",message:"邮箱格式不正确"}]},editMobileVisible:!1,editEmailVisible:!1,canSendEditEmail:!0}},methods:{init(){let t=this.getUserInfo();this.form=t,this.initPhone=t.mobile,this.mobileEditForm.mobile=t.mobile,this.initEmail=t.email,this.emailEditForm.email=t.email},showChangeMobile(){this.$refs.checkPassMobile.show()},checkSuccessMobile(){this.editMobileVisible=!0},showChangeEmail(){this.$refs.checkPassEmail.show()},checkSuccessEmail(){this.editEmailVisible=!0},cancelInputCodeBox(){this.editMobileVisible=!1,this.form.mobile=this.initPhone},cancelEditEmail(){this.editEmailVisible=!1,this.emailEditForm.email=this.initEmail},sendEditMobileCode(){this.$refs["mobileEditForm"].validate(t=>{t&&(this.getSms="发送中",this.sending=!0,Object(n["Ic"])(this.mobileEditForm.mobile).then(t=>{this.getSms="获取验证码",this.sending=!1,t.success&&(this.$Message.success("发送短信验证码成功"),this.$refs.countDownMobile.startCountDown())}))})},submitEditMobile(){this.$refs["mobileEditForm"].validate(t=>{if(t){if(!this.mobileEditForm.code)return void(this.codeError="请填写短信验证码");this.codeError="",this.checkCodeLoading=!0,Object(n["o"])(this.mobileEditForm).then(t=>{this.checkCodeLoading=!1,t.success&&(this.$Message.success("修改成功"),this.form.mobile=this.mobileEditForm.mobile,this.initPhone=this.mobileEditForm.mobile,this.editMobileVisible=!1,this.$emit("on-success",!0))})}})},hasChangePhone(){this.mobileEditForm.mobile==this.initPhone?this.canSendMobileCode=!0:this.$refs["mobileEditForm"].validate(t=>{this.canSendMobileCode=!t})},hasChangeEmail(){this.emailEditForm.email==this.initEmail?this.canSendEditEmail=!0:this.canSendEditEmail=!1},sendVerifyEmail(){this.$refs["emailEditForm"].validate(t=>{t&&(this.getSms="发送中",this.sending=!0,Object(n["Hc"])(this.emailEditForm.email).then(t=>{this.getSms="获取验证码",this.sending=!1,t.success&&(this.$Message.success("发送邮件验证码成功，请注意查收"),this.$refs.countDownEmail.startCountDown())}))})},submitEditEmail(){this.$refs["emailEditForm"].validate(t=>{if(t){if(!this.emailEditForm.code)return void(this.codeError="验证码不能为空");this.codeError="",this.editEmailLoading=!0,Object(n["Y"])(this.emailEditForm).then(t=>{this.editEmailLoading=!1,t.success&&(this.initEmail=this.emailEditForm.email,this.form.email=this.emailEditForm.email,this.$Message.success("修改邮件成功"),this.editEmailVisible=!1,this.$emit("on-success",!0))})}})}},mounted(){this.init()}},h=d,u=i("2877"),m=Object(u["a"])(h,s,a,!1,null,null,null);e["default"]=m.exports},"60e8":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("Button",{attrs:{countTime:t.countTime,loading:t.loading,type:t.type,size:t.size,ghost:t.ghost,disabled:t.disabled||t.clicked,icon:t.icon,shape:t.shape,long:t.long},on:{click:t.handleClick}},[t._v(t._s(t.buttonText))])],1)},a=[],n={name:"iconChoose",props:{text:{type:String,default:"提交"},autoCountDown:{type:Boolean,default:!0},countTime:{type:[Number,String],default:60},suffixText:{type:String,default:"秒后重试"},type:String,size:String,loading:{type:Boolean,default:!1},ghost:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:String,shape:String,long:{type:Boolean,default:!1}},data(){return{buttonText:this.text,count:Number(this.countTime),clicked:!1}},methods:{init(){},handleClick(){this.autoCountDown&&(this.clicked=!0,this.countDown()),this.$emit("on-click",!0)},startCountDown(){this.clicked=!0,this.countDown()},countDown(){if(0==this.count)return this.clicked=!1,this.count=this.countTime,void(this.buttonText=this.text);this.buttonText=this.count+" "+this.suffixText,this.count--,setTimeout(()=>{this.countDown()},1e3)},setText(t){t!==this.buttonText&&(this.buttonText=t)}},watch:{text(t){this.setText(t)}},mounted(){this.init()}},l=n,o=i("2877"),r=Object(o["a"])(l,s,a,!1,null,null,null);e["default"]=r.exports},"6db7":function(t,e,i){},"74b2":function(t,e,i){"use strict";i("6db7")},"76e2":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("Select",{attrs:{size:t.size,loading:t.loading,placeholder:t.placeholder,multiple:t.multiple,disabled:t.disabled,filterable:t.filterable,transfer:t.transfer,clearable:t.clearable,placement:t.placement,"transfer-class-name":t.transferClassName,prefix:t.prefix,"max-tag-count":t.maxTagCount,"max-tag-placeholder":t.maxTagPlaceholder},on:{"on-change":t.handleChange,"on-query-change":t.handleQueryChange,"on-clear":t.handleClear,"on-open-change":t.handleOpenChange,"on-select":t.handleSelect},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}},t._l(t.dictData,(function(i,s){return e("Option",{key:s,attrs:{value:i.value}},[t._v(t._s(i.title))])})),1)],1)},a=[],n=i("365c"),l={name:"dict",props:{value:"",dict:String,placeholder:{type:String,default:"请选择"},placement:{type:String,default:"bottom-start"},size:String,multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},transfer:{type:Boolean,default:!1},transferClassName:String,prefix:String,maxTagCount:Number,maxTagPlaceholder:Function,clearable:{type:Boolean,default:!0}},data(){return{currentValue:this.value,dictData:[],loading:!1}},methods:{getData(t){this.loading=!0,Object(n["Ab"])(t).then(t=>{this.loading=!1,t.success&&(this.dictData=t.result)})},handleChange(t){this.$emit("input",t),this.$emit("on-change",t)},handleQueryChange(t){this.$emit("on-query-change",t)},handleClear(){this.$emit("on-clear","")},handleOpenChange(t){this.$emit("on-open-change",t)},handleSelect(t){this.$emit("on-select",t)},setCurrentValue(t){t!==this.currentValue&&(this.currentValue=t,this.$emit("on-change",this.currentValue))}},watch:{value(t){this.setCurrentValue(t)},dict(t){this.getData(t)}},mounted(){this.getData(this.dict)}},o=l,r=i("2877"),c=Object(r["a"])(o,s,a,!1,null,null,null);e["default"]=c.exports},"823d":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"item"},[e("div",{staticClass:"social"},[e("div",{staticClass:"logo"},[e("Icon",{attrs:{type:"logo-github",size:"42",color:"#181617"}})],1),e("div",[e("div",{staticClass:"title"},[t._v("Github")]),e("div",{staticClass:"desc"},[t.relate.github?e("span",[t._v("已绑定Github账号："+t._s(t.relate.githubUsername))]):e("span",[t._v("当前未绑定Github账号")])])])]),e("div",[t.relate.github?e("a",{on:{click:function(e){return t.unRelateGithub()}}},[t._v("解除绑定")]):e("a",{on:{click:function(e){return t.toRelateGithub()}}},[t._v("立即绑定")])])]),e("div",{staticClass:"item"},[e("div",{staticClass:"social"},[t._m(0),e("div",[e("div",{staticClass:"title"},[t._v("QQ")]),e("div",{staticClass:"desc"},[t.relate.qq?e("span",[t._v("已绑定QQ账号："+t._s(t.relate.qqUsername))]):e("span",[t._v("当前未绑定QQ账号")])])])]),e("div",[t.relate.qq?e("a",{on:{click:function(e){return t.unRelateQQ()}}},[t._v("解除绑定")]):e("a",{on:{click:function(e){return t.toRelateQQ()}}},[t._v("立即绑定")])])]),e("div",{staticClass:"item"},[e("div",{staticClass:"social"},[e("div",{staticClass:"logo"},[e("Icon",{attrs:{custom:"iconfont icon-weixin",size:"40",color:"#60c126"}})],1),e("div",[e("div",{staticClass:"title"},[t._v("微信")]),e("div",{staticClass:"desc"},[t.relate.wechat?e("span",[t._v("已绑定微信账号："+t._s(t.relate.wechatUsername))]):e("span",[t._v("当前未绑定微信账号")])])])]),e("div",[t.relate.wechat?e("a",{on:{click:function(e){return t.unRelateWechat()}}},[t._v("解除绑定")]):e("a",{on:{click:function(e){return t.toRelateWechat()}}},[t._v("立即绑定")])])]),e("div",{staticClass:"item"},[e("div",{staticClass:"social"},[t._m(1),e("div",[e("div",{staticClass:"title"},[t._v("微博")]),e("div",{staticClass:"desc"},[t.relate.weibo?e("span",[t._v("已绑定微博账号："+t._s(t.relate.weiboUsername))]):e("span",[t._v("当前未绑定微博账号")])])])]),e("div",[t.relate.weibo?e("a",{on:{click:function(e){return t.unRelateWeibo()}}},[t._v("解除绑定")]):e("a",{on:{click:function(e){return t.toRelateWeibo()}}},[t._v("立即绑定")])])]),e("div",{staticClass:"item"},[e("div",{staticClass:"social"},[t._m(2),e("div",[e("div",{staticClass:"title"},[t._v("钉钉")]),e("div",{staticClass:"desc"},[t.relate.dingding?e("span",[t._v("已绑定钉钉账号："+t._s(t.relate.dingdingUsername))]):e("span",[t._v("当前未绑定钉钉账号")])])])]),e("div",[t.relate.dingding?e("a",{on:{click:function(e){return t.unRelateDingding()}}},[t._v("解除绑定")]):e("a",{on:{click:function(e){return t.toRelateDingding()}}},[t._v("立即绑定")])])]),e("div",{staticClass:"item"},[e("div",{staticClass:"social"},[t._m(3),e("div",[e("div",{staticClass:"title"},[t._v("企业微信")]),e("div",{staticClass:"desc"},[t.relate.workwechat?e("span",[t._v("已绑定企业微信账号："+t._s(t.relate.workwechatUsername))]):e("span",[t._v("当前未绑定企业微信")])])])]),e("div",[t.relate.workwechat?e("a",{on:{click:function(e){return t.unRelateWorkwechat()}}},[t._v("解除绑定")]):e("a",{on:{click:function(e){return t.toRelateWorkwechat()}}},[t._v("立即绑定")])])]),t.jumping?e("Spin",{attrs:{fix:""}},[t._v("跳转中...")]):t._e()],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:i("4946"),width:"42px"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:i("220f"),width:"41px"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:i("07e3"),width:"41px"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:i("113b"),width:"41px"}})])}],n=i("365c"),l={components:{},name:"social",data(){return{relate:{},jumping:!1}},methods:{init(){let t=this.getUserInfo();Object(n["tc"])(t.username).then(t=>{t.success?this.relate=t.result:this.$Message.error("加载绑定第三方账号信息失败")})},toRelateGithub(){this.jumping=!0,Object(n["gc"])().then(t=>{t.success?window.location.href=t.result:this.jumping=!1})},toRelateQQ(){this.jumping=!0,Object(n["qc"])().then(t=>{t.success?window.location.href=t.result:this.jumping=!1})},toRelateWeibo(){this.jumping=!0,Object(n["Zc"])().then(t=>{t.success?window.location.href=t.result:this.jumping=!1})},toRelateWechat(){this.jumping=!0,Object(n["Yc"])().then(t=>{t.success?window.location.href=t.result:this.jumping=!1})},toRelateDingding(){this.jumping=!0,Object(n["R"])().then(t=>{t.success?window.location.href=t.result:this.jumping=!1})},toRelateWorkwechat(){this.jumping=!0,Object(n["ad"])().then(t=>{t.success?window.location.href=t.result:this.jumping=!1})},unRelateGithub(){this.$Modal.confirm({title:"确认解绑Github账号",content:"您确认要解除绑定 "+this.relate.githubUsername+" ?",loading:!0,onOk:()=>{let t={ids:[this.relate.githubId]};Object(n["Rc"])(t).then(t=>{this.$Modal.remove(),t.success&&(this.$Message.success("操作成功"),this.relate.github=!1)})}})},unRelateQQ(){this.$Modal.confirm({title:"确认解绑QQ账号",content:"您确认要解除绑定 "+this.relate.qqUsername+" ?",loading:!0,onOk:()=>{let t={ids:[this.relate.qqId]};Object(n["Rc"])(t).then(t=>{this.$Modal.remove(),t.success&&(this.$Message.success("操作成功"),this.relate.qq=!1)})}})},unRelateWeibo(){this.$Modal.confirm({title:"确认解绑微博账号",content:"您确认要解除绑定 "+this.relate.weiboUsername+" ?",loading:!0,onOk:()=>{let t={ids:[this.relate.weiboId]};Object(n["Rc"])(t).then(t=>{this.$Modal.remove(),t.success&&(this.$Message.success("操作成功"),this.relate.weibo=!1)})}})},unRelateWechat(){this.$Modal.confirm({title:"确认解绑微信账号",content:"您确认要解除绑定 "+this.relate.wechatUsername+" ?",loading:!0,onOk:()=>{let t={ids:[this.relate.wechatId]};Object(n["Rc"])(t).then(t=>{this.$Modal.remove(),t.success&&(this.$Message.success("操作成功"),this.relate.wechat=!1)})}})},unRelateDingding(){this.$Modal.confirm({title:"确认解绑钉钉账号",content:"您确认要解除绑定 "+this.relate.dingdingUsername+" ?",loading:!0,onOk:()=>{let t={ids:[this.relate.dingdingId]};Object(n["Rc"])(t).then(t=>{this.$Modal.remove(),t.success&&(this.$Message.success("操作成功"),this.relate.dingding=!1)})}})},unRelateWorkwechat(){this.$Modal.confirm({title:"确认解绑企业微信账号",content:"您确认要解除绑定 "+this.relate.workwechatUsername+" ?",loading:!0,onOk:()=>{let t={ids:[this.relate.workwechatId]};Object(n["Rc"])(t).then(t=>{this.$Modal.remove(),t.success&&(this.$Message.success("操作成功"),this.relate.workwechat=!1)})}})}},mounted(){this.init()}},o=l,r=i("2877"),c=Object(r["a"])(o,s,a,!1,null,null,null);e["default"]=c.exports},9240:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("Form",{ref:"form",attrs:{model:t.form,"label-width":90,"label-position":"left"}},[e("FormItem",{attrs:{label:"登录账号：",prop:"username"}},[t._v(t._s(t.form.username))]),e("FormItem",{attrs:{label:"用户头像："}},[e("upload-pic-thumb",{attrs:{multiple:!1},model:{value:t.form.avatar,callback:function(e){t.$set(t.form,"avatar",e)},expression:"form.avatar"}})],1),e("FormItem",{attrs:{label:"用户名：",prop:"nickname",error:t.error}},[e("Input",{staticStyle:{width:"300px"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}})],1),e("FormItem",{attrs:{label:"性别："}},[e("dict",{staticStyle:{width:"300px"},attrs:{dict:"sex"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}})],1),e("FormItem",{attrs:{label:"生日："}},[e("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"date"},on:{"on-change":t.changeBirth},model:{value:t.form.birth,callback:function(e){t.$set(t.form,"birth",e)},expression:"form.birth"}})],1),e("FormItem",{attrs:{label:"所在省市："}},[e("al-cascader",{staticStyle:{width:"300px"},attrs:{"data-type":"code",level:"2"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),e("FormItem",{attrs:{label:"街道地址：",prop:"street"}},[e("Input",{staticStyle:{width:"300px"},model:{value:t.form.street,callback:function(e){t.$set(t.form,"street",e)},expression:"form.street"}})],1),e("FormItem",{attrs:{label:"个人简介：",prop:"description"}},[e("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",autosize:{minRows:3,maxRows:5},placeholder:"个人简介"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),e("FormItem",{attrs:{label:"所属部门："}},[e("span",[t._v(t._s(t.form.departmentTitle))])]),e("FormItem",{attrs:{label:"用户类型："}},[e("span",[t._v(t._s(t.form.typeTxt))])]),e("FormItem",[e("Button",{staticStyle:{width:"100px","margin-right":"5px"},attrs:{type:"primary",loading:t.loading},on:{click:t.saveEdit}},[t._v("保存")])],1)],1)],1)},a=[],n=i("365c"),l=i("d014"),o=i("76e2"),r={components:{uploadPicThumb:l["default"],dict:o["default"]},name:"user",data(){return{loading:!1,form:{address:[]},error:""}},methods:{init(){let t=this.getUserInfo();for(let e in t)null==t[e]&&(t[e]="");this.form=t,t.address?"string"==typeof t.address?this.form.address=t.address.split(","):this.form.address=t.address:this.form.address=[],0==this.form.type?this.form.typeTxt="普通用户":1==this.form.type&&(this.form.typeTxt="管理员")},changeBirth(t){this.form.birth=t},saveEdit(){this.form.nickname?(this.error="",this.loading=!0,"object"==typeof this.form.birth&&(this.form.birth=this.format(this.form.birth,"yyyy-MM-dd")),delete this.form.roles,Object(n["Vc"])(this.form).then(t=>{this.loading=!1,t.success&&(this.$Message.success("保存成功"),this.$store.commit("setNickname",this.form.nickname),this.$store.commit("setAvatar",this.form.avatar),this.$emit("on-success",!0))})):this.error="请输入用户名"}},mounted(){this.init()}},c=r,d=i("2877"),h=Object(d["a"])(c,s,a,!1,null,null,null);e["default"]=h.exports},acd8:function(t,e,i){"use strict";i("0573")},d014:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"upload-thumb"},[e("vuedraggable",{staticClass:"list-group",attrs:{list:t.uploadList,disabled:!t.draggable||!t.multiple,animation:200,"ghost-class":"thumb-ghost"},on:{end:t.onEnd}},t._l(t.uploadList,(function(i,s){return e("div",{key:s,staticClass:"upload-list",style:{width:`calc(${t.width} + 2px)`,height:`calc(${t.height} + 2px)`,lineHeight:t.height,marginBottom:t.marginBottom}},["finished"==i.status?e("div",[e("img",{style:{height:t.height},attrs:{src:i.url}}),e("div",{staticClass:"upload-list-cover"},[e("Icon",{attrs:{type:"ios-eye-outline"},on:{click:function(e){return t.handleView(i.url,s)}}}),e("Icon",{directives:[{name:"show",rawName:"v-show",value:!t.preview,expression:"!preview"}],attrs:{type:"ios-trash-outline"},on:{click:function(e){return t.handleRemove(i)}}})],1)]):e("div",[i.showProgress?e("Progress",{attrs:{percent:i.percentage,"hide-info":""}}):t._e()],1)])})),0),t.material?t._e():e("Upload",{directives:[{name:"show",rawName:"v-show",value:!t.preview,expression:"!preview"}],ref:"upload",staticClass:"upload-btn",style:{width:t.width,marginBottom:t.marginBottom},attrs:{multiple:t.multiple,"show-upload-list":!1,"on-success":t.handleSuccess,"on-error":t.handleError,format:t.format,accept:t.accept,"max-size":1024*t.maxSize,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,type:"drag",action:t.uploadFileUrl,headers:t.accessToken}},[e("div",{style:{width:t.width,height:t.height,lineHeight:t.height}},[e("Icon",{attrs:{type:"md-camera",size:"20"}})],1)]),t.material?e("div",{staticClass:"ivu-upload-drag",style:{width:t.width,height:t.height,lineHeight:t.height},on:{click:function(e){t.showMaterialCenter=!0}}},[e("Icon",{attrs:{type:"md-camera",size:"20"}})],1):t._e(),t.material?e("materialCenter",{attrs:{acceptImg:t.accept,maxSize:t.maxSize,multiple:t.multiple},on:{"on-change":t.selectFile},model:{value:t.showMaterialCenter,callback:function(e){t.showMaterialCenter=e},expression:"showMaterialCenter"}}):t._e()],1)},a=[],n=(i("0808"),i("6a37")),l=i.n(n),o=i("365c"),r=i("289a"),c=i.n(r),d=i("1f5f"),h={name:"uploadPicThumb",components:{vuedraggable:c.a,materialCenter:d["default"]},props:{value:{type:null},material:{type:Boolean,default:!1},preview:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},maxSize:{type:Number,default:5},limit:{type:Number,default:5},width:{type:String,default:"60px"},height:{type:String,default:"60px"},marginBottom:{type:String,default:"0"},accept:{type:String,default:".jpg, .jpeg, .png, .gif"}},computed:{format(){if(this.accept){let t=[];return this.accept.split(",").forEach(e=>{t.push(e.replace(".","").replace(" ",""))}),t}return[]}},data(){return{accessToken:{},uploadFileUrl:o["Tc"],uploadList:[],showMaterialCenter:!1}},methods:{onEnd(){this.returnValue()},init(){this.setData(this.value),this.accessToken={accessToken:this.getStore("accessToken")}},handleView(t,e){let i=new Image;i.src=t;let s=new l.a(i,{hidden:function(){s.destroy()}});s.show()},handleRemove(t){const e=this.uploadList;this.uploadList.splice(e.indexOf(t),1),this.returnValue()},handleSuccess(t,e){t.success?(e.url=t.result,!this.multiple&&this.uploadList.length>0&&this.uploadList.splice(0,1),this.uploadList.push(e),this.returnValue()):this.$Message.error(t.message)},handleError(t,e,i){this.$Message.error(t.toString())},handleFormatError(t){this.$Notice.warning({title:"不支持的文件格式",desc:"所选文件‘ "+t.name+" ’格式不正确, 请选择 "+this.accept+" 图片格式文件"})},handleMaxSize(t){this.$Notice.warning({title:"文件大小过大",desc:"所选文件‘ "+t.name+" ’大小过大, 不得超过 "+this.maxSize+"M."})},handleBeforeUpload(){return!(this.multiple&&this.uploadList.length>=this.limit)||(this.$Message.warning("最多只能上传"+this.limit+"张图片"),!1)},returnValue(){if(!this.uploadList||this.uploadList.length<1)this.multiple?(this.$emit("input",[]),this.$emit("on-change",[])):(this.$emit("input",""),this.$emit("on-change",""));else if(this.multiple){let t=[];this.uploadList.forEach(e=>{t.push(e.url)}),this.$emit("input",t),this.$emit("on-change",t)}else{let t=this.uploadList[0].url;this.$emit("input",t),this.$emit("on-change",t)}},setData(t){if("string"==typeof t){if(this.multiple)return void this.$Message.warning("多张上传仅支持传入数组数据类型");if(!t)return;this.uploadList=[];let e={url:t,status:"finished"};this.uploadList.push(e),this.$emit("on-change",t)}else if("object"==typeof t){if(!this.multiple)return void this.$Message.warning("单张上传仅支持传入字符串数据类型");if(this.uploadList=[],t.length>this.limit){for(let e=0;e<this.limit;e++)this.uploadList.push({url:t[e],status:"finished"});this.$emit("on-change",t.slice(0,this.limit)),this.$emit("input",t.slice(0,this.limit)),this.$Message.warning("最多只能上传"+this.limit+"张图片")}else t.forEach(t=>{let e={url:t,status:"finished"};this.uploadList.push(e)}),this.$emit("on-change",t)}},selectFile(t){this.multiple?t.forEach(t=>{this.uploadList.push({url:t,status:"finished"})}):this.uploadList[0]={url:t,status:"finished"},this.returnValue()}},watch:{value(t){this.setData(t)}},mounted(){this.init()}},u=h,m=(i("acd8"),i("2877")),p=Object(m["a"])(u,s,a,!1,null,null,null);e["default"]=p.exports},e970:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"item"},[t._m(0),e("div",[e("i-switch",{attrs:{"true-value":1,"false-value":0},on:{"on-change":t.changeMessage},model:{value:t.messageOpen,callback:function(e){t.messageOpen=e},expression:"messageOpen"}},[e("span",{attrs:{slot:"open"},slot:"open"},[t._v("开")]),e("span",{attrs:{slot:"close"},slot:"close"},[t._v("关")])])],1)])])},a=[function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"title"},[t._v("系统消息")]),e("div",{staticClass:"desc"},[t._v("系统消息将以站内信的形式通知")])])}],n={components:{},name:"message",data(){return{messageOpen:1}},methods:{init(){let t=this.getStore("messageOpen");""!=t&&void 0!=t&&null!=t?this.messageOpen=Number(t):this.setStore("messageOpen",1)},changeMessage(t){this.setStore("messageOpen",t)}},mounted(){this.init()}},l=n,o=i("2877"),r=Object(o["a"])(l,s,a,!1,null,null,null);e["default"]=r.exports}}]);