(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43ebea8a","chunk-6e9f14c8","chunk-c876586c","chunk-2d0d7882","chunk-2d0c26c5"],{"00c0":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"flex",position:"relative"}},[t("Form",{ref:"ossForm",attrs:{model:e.oss,"label-width":110,"label-position":"left",rules:e.ossValidate}},[t("FormItem",{attrs:{label:"服务提供商",prop:"serviceName"}},[t("Select",{staticStyle:{width:"230px"},attrs:{placeholder:"请选择"},on:{"on-change":e.changeOss},model:{value:e.oss.serviceName,callback:function(t){e.$set(e.oss,"serviceName",t)},expression:"oss.serviceName"}},[t("Option",{attrs:{value:"LOCAL_OSS"}},[e._v("本地服务器")]),t("Option",{attrs:{value:"MINIO_OSS"}},[e._v("MinIO")]),t("Option",{attrs:{value:"QINIU_OSS"}},[e._v("七牛云")]),t("Option",{attrs:{value:"ALI_OSS"}},[e._v("阿里云")]),t("Option",{attrs:{value:"TENCENT_OSS"}},[e._v("腾讯云")])],1)],1),"LOCAL_OSS"!=e.oss.serviceName?t("div",[t("FormItem",{attrs:{label:"accessKey",prop:"accessKey"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入accessKey/secretId",disabled:e.changeLoading},model:{value:e.oss.accessKey,callback:function(t){e.$set(e.oss,"accessKey",t)},expression:"oss.accessKey"}})],1),t("FormItem",{attrs:{label:"secretKey",prop:"secretKey"}},[t("Tooltip",{attrs:{placement:"right",content:"无法编辑时请先点击查看图标"}},[t("Input",{staticClass:"input-see",staticStyle:{width:"380px"},attrs:{type:"text",disabled:e.changeLoading,readonly:!e.changedOssSK,icon:"ios-eye",placeholder:"请输入secretKey"},on:{"on-click":function(t){return e.seeSecret(e.oss.serviceName)}},model:{value:e.oss.secretKey,callback:function(t){e.$set(e.oss,"secretKey",t)},expression:"oss.secretKey"}})],1)],1),"QINIU_OSS"==e.oss.serviceName?t("FormItem",{attrs:{label:"zone存储区域",prop:"zone"}},[t("Select",{staticStyle:{width:"380px"},attrs:{placeholder:"请选择存储区域",disabled:e.changeLoading},model:{value:e.oss.zone,callback:function(t){e.$set(e.oss,"zone",t)},expression:"oss.zone"}},[t("Option",{attrs:{value:-1}},[e._v("自动判断")]),t("Option",{attrs:{value:0}},[e._v("华东")]),t("Option",{attrs:{value:1}},[e._v("华北")]),t("Option",{attrs:{value:2}},[e._v("华南")]),t("Option",{attrs:{value:3}},[e._v("北美")]),t("Option",{attrs:{value:4}},[e._v("东南亚")])],1)],1):e._e(),t("FormItem",{attrs:{label:"bucket空间",prop:"bucket"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入bucket空间名",disabled:e.changeLoading},model:{value:e.oss.bucket,callback:function(t){e.$set(e.oss,"bucket",t)},expression:"oss.bucket"}})],1),"TENCENT_OSS"==e.oss.serviceName?t("FormItem",{attrs:{label:"所属地域",prop:"bucketRegion"}},[t("dict",{attrs:{dict:"tencent_bucket_region",placeholder:"请选择或输入搜索",filterable:"",disabled:e.changeLoading,transfer:""},model:{value:e.oss.bucketRegion,callback:function(t){e.$set(e.oss,"bucketRegion",t)},expression:"oss.bucketRegion"}})],1):e._e(),t("FormItem",{attrs:{label:"endpoint域名",prop:"endpoint",error:e.errorMsg}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:e.endpointPH,disabled:e.changeLoading},model:{value:e.oss.endpoint,callback:function(t){e.$set(e.oss,"endpoint",t)},expression:"oss.endpoint"}},[t("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend",prop:"http"},slot:"prepend",model:{value:e.oss.http,callback:function(t){e.$set(e.oss,"http",t)},expression:"oss.http"}},[t("Option",{attrs:{value:"http://"}},[e._v("http://")]),t("Option",{attrs:{value:"https://"}},[e._v("https://")])],1)],1)],1)],1):t("div",[t("FormItem",{attrs:{label:"存储磁盘路径",prop:"filePath",error:e.errorMsg2}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"例如D:/upload",disabled:e.changeLoading},model:{value:e.oss.filePath,callback:function(t){e.$set(e.oss,"filePath",t)},expression:"oss.filePath"}})],1),t("FormItem",{attrs:{label:"文件预览接口",prop:"endpoint",error:e.errorMsg}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入文件预览接口"},model:{value:e.oss.endpoint,callback:function(t){e.$set(e.oss,"endpoint",t)},expression:"oss.endpoint"}},[t("Select",{staticStyle:{width:"80px"},attrs:{slot:"prepend",prop:"http",disabled:e.changeLoading},slot:"prepend",model:{value:e.oss.http,callback:function(t){e.$set(e.oss,"http",t)},expression:"oss.http"}},[t("Option",{attrs:{value:"http://"}},[e._v("http://")]),t("Option",{attrs:{value:"https://"}},[e._v("https://")])],1)],1)],1)],1),t("FormItem",[t("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",disabled:e.changeLoading,loading:e.saveLoading},on:{click:e.saveEditOss}},[e._v("保存并启用")])],1)],1),e.loading?t("Spin",{attrs:{fix:""}}):e._e()],1)},i=[],r=s("365c"),l=s("76e2"),o={name:"oss",components:{dict:l["default"]},data(){return{loading:!1,changeLoading:!1,saveLoading:!1,errorMsg:"",errorMsg2:"",oss:{serviceName:"",accessKey:"",secretKey:"",endpoint:"",bucket:"",bucketRegion:"",zone:null},changedOssSK:!1,ossValidate:{serviceName:[{required:!0,message:"请选择",trigger:"change"}],accessKey:[{required:!0,message:"不能为空",trigger:"blur"}],secretKey:[{required:!0,message:"不能为空",trigger:"blur"}],endpoint:[{required:!0,message:"不能为空",trigger:"blur"}],bucket:[{required:!0,message:"不能为空",trigger:"blur"}],zone:[{required:!0,type:"number",message:"不能为空",trigger:"change"}],bucketRegion:[{required:!0,message:"不能为空",trigger:"change"}]},endpointPH:"请输入空间访问域名"}},methods:{init(){this.initOssSet()},initOssSet(){this.loading=!0,Object(r["q"])().then(e=>{if(e.success&&e.result){let t=e.result;Object(r["Ob"])(t).then(e=>{if(this.loading=!1,e.result){for(let t in e.result)null==e.result[t]&&(e.result[t]="");this.oss=e.result}else this.changedOssSK=!0})}else this.loading=!1,this.changedOssSK=!0})},changeOss(e){this.$refs.ossForm.resetFields(),this.endpointPH="ALI_OSS"==e?"请输入EndPoint(地域节点) 非Bucket域名":"TENCENT_OSS"==e?"请输入完整请求域名":"请输入空间访问域名",this.changeLoading=!0,Object(r["Ob"])(e).then(t=>{if(this.changeLoading=!1,t.result){for(let e in t.result)null==t.result[e]&&(t.result[e]="");this.oss=t.result,this.changedOssSK=!1}else this.oss={serviceName:e},"LOCAL_OSS"==this.oss.serviceName&&(this.oss.http="http://",this.oss.endpoint="127.0.0.1:9999/xboot/file/view"),this.changedOssSK=!0})},seeSecret(e){e&&Object(r["Gc"])(e).then(e=>{e.success&&(this.oss.secretKey=e.result,this.changedOssSK=!0)})},saveEditOss(){if("LOCAL_OSS"==this.oss.serviceName){if(!this.oss.http)return void(this.errorMsg="请选择http协议");if(this.errorMsg="",!this.oss.endpoint)return void(this.errorMsg="请输入文件预览接口");if(this.errorMsg="",!this.oss.filePath)return void(this.errorMsg2="请输入存储磁盘路径");this.errorMsg2="",Object(r["eb"])(this.oss).then(e=>{this.saveLoading=!1,e.success&&this.$Message.success("保存成功")})}else this.$refs.ossForm.validate(e=>{if(e){if(!this.oss.http)return void(this.errorMsg="请选择http协议");this.errorMsg="",this.saveLoading=!0,this.oss.changed=this.changedOssSK,Object(r["eb"])(this.oss).then(e=>{this.saveLoading=!1,e.success&&this.$Message.success("保存成功")})}})}},mounted(){this.init()}},n=o,c=s("2877"),d=Object(c["a"])(n,a,i,!1,null,null,null);t["default"]=d.exports},2438:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search"},[t("Row",{staticClass:"operation"},[t("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:e.add}},[e._v("添加")]),t("Button",{attrs:{icon:"md-trash"},on:{click:e.delAll}},[e._v("批量删除")]),t("Button",{attrs:{icon:"md-refresh"},on:{click:e.getDataList}},[e._v("刷新")]),t("Input",{staticStyle:{width:"250px"},attrs:{suffix:"ios-search",placeholder:"输入名称搜索",clearable:""},on:{"on-change":e.getDataList},model:{value:e.searchForm.title,callback:function(t){e.$set(e.searchForm,"title",t)},expression:"searchForm.title"}})],1),t("Alert",{attrs:{"show-icon":""}},[e._v(" 已选择 "),t("span",{staticClass:"select-count"},[e._v(e._s(e.selectList.length))]),e._v(" 项 "),t("a",{staticClass:"select-clear",on:{click:e.clearSelectAll}},[e._v("清空")])]),t("Table",{ref:"table",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data,sortable:"custom"},on:{"on-sort-change":e.changeSort,"on-selection-change":e.changeSelect}}),t("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[t("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1),t("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:500},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[t("Form",{ref:"form",attrs:{model:e.form,"label-position":"top",rules:e.formValidate}},[t("FormItem",{attrs:{label:"禁用词名称",prop:"title"}},[t("Input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"text"},on:{click:e.handleCancel}},[e._v("取消")]),t("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)},i=[],r=s("365c"),l={name:"stop-words",data(){return{openTip:!0,loading:!0,searchForm:{title:"",pageNumber:1,pageSize:10,sort:"createTime",order:"desc"},modalType:0,modalVisible:!1,modalTitle:"",form:{title:""},formValidate:{title:[{required:!0,message:"不能为空",trigger:"blur"}]},submitLoading:!1,selectList:[],columns:[{type:"selection",width:60,align:"center"},{type:"index",width:60,align:"center"},{title:"禁用词",key:"title",minWidth:200,sortable:!0},{title:"创建时间",key:"createTime",sortable:!0,width:200,sortType:"desc"},{title:"更新时间",key:"createTime",sortable:!0,width:200},{title:"操作",key:"action",align:"center",width:180,fixed:"right",render:(e,t)=>e("div",[e("a",{on:{click:()=>{this.edit(t.row)}}},"编辑"),e("Divider",{props:{type:"vertical"}}),e("a",{on:{click:()=>{this.remove(t.row)}}},"删除")])}],data:[],total:0}},methods:{init(){this.getDataList()},changePage(e){this.searchForm.pageNumber=e,this.getDataList(),this.clearSelectAll()},changePageSize(e){this.searchForm.pageSize=e,this.getDataList()},changeSort(e){this.searchForm.sort=e.key,this.searchForm.order=e.order,"normal"==e.order&&(this.searchForm.order=""),this.getDataList()},getDataList(){this.loading=!0,Object(r["cc"])(this.searchForm).then(e=>{this.loading=!1,e.success&&(this.data=e.result.content,this.total=e.result.totalElements)})},handleCancel(){this.modalVisible=!1},handleSubmit(){this.$refs.form.validate(e=>{e&&(this.submitLoading=!0,0==this.modalType?(delete this.form.id,Object(r["k"])(this.form).then(e=>{this.submitLoading=!1,e.success&&(this.$Message.success("操作成功"),this.getDataList(),this.modalVisible=!1)})):Object(r["ob"])(this.form).then(e=>{this.submitLoading=!1,e.success&&(this.$Message.success("操作成功"),this.getDataList(),this.modalVisible=!1)}))})},add(){this.modalType=0,this.modalTitle="添加",this.$refs.form.resetFields(),delete this.form.id,this.modalVisible=!0},edit(e){this.modalType=1,this.modalTitle="编辑",this.$refs.form.resetFields();for(let a in e)null==e[a]&&(e[a]="");let t=JSON.stringify(e),s=JSON.parse(t);this.form=s,this.modalVisible=!0},remove(e){this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+e.title+" ?",loading:!0,onOk:()=>{Object(r["O"])({ids:e.id}).then(e=>{this.$Modal.remove(),e.success&&(this.clearSelectAll(),this.$Message.success("操作成功"),this.getDataList())})}})},clearSelectAll(){this.$refs.table.selectAll(!1)},changeSelect(e){this.selectList=e},delAll(){this.selectList.length<=0?this.$Message.warning("您还未选择要删除的数据"):this.$Modal.confirm({title:"确认删除",content:"您确认要删除所选的 "+this.selectList.length+" 条数据?",loading:!0,onOk:()=>{let e="";this.selectList.forEach((function(t){e+=t.id+","})),e=e.substring(0,e.length-1),Object(r["O"])({ids:e}).then(e=>{this.$Modal.remove(),e.success&&(this.$Message.success("操作成功"),this.clearSelectAll(),this.getDataList())})}})}},mounted(){this.init()}},o=l,n=(s("ce41"),s("2877")),c=Object(n["a"])(o,a,i,!1,null,null,null);t["default"]=c.exports},"49f0":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{display:"flex",position:"relative"}},[t("Form",{ref:"smsForm",attrs:{model:e.sms,"label-width":110,"label-position":"left",rules:e.smsValidate}},[t("FormItem",{attrs:{label:"服务提供商",prop:"serviceName"}},[t("Select",{staticStyle:{width:"230px"},attrs:{placeholder:"请选择"},on:{"on-change":e.changeSms},model:{value:e.sms.serviceName,callback:function(t){e.$set(e.sms,"serviceName",t)},expression:"sms.serviceName"}},[t("Option",{attrs:{value:"ALI_SMS"}},[e._v("阿里云")]),t("Option",{attrs:{value:"TENCENT_SMS"}},[e._v("腾讯云")])],1)],1),t("FormItem",{attrs:{label:"accessKey",prop:"accessKey"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入accessKey/secretId",disabled:e.changeLoading},model:{value:e.sms.accessKey,callback:function(t){e.$set(e.sms,"accessKey",t)},expression:"sms.accessKey"}})],1),t("FormItem",{attrs:{label:"secretKey",prop:"secretKey"}},[t("Tooltip",{attrs:{placement:"right",content:"无法编辑时请先点击查看图标"}},[t("Input",{staticClass:"input-see",staticStyle:{width:"380px"},attrs:{type:"text",readonly:!e.changedSmsSK,disabled:e.changeLoading,icon:"ios-eye",placeholder:"请输入secretKey"},on:{"on-click":function(t){return e.seeSecret(e.sms.serviceName)}},model:{value:e.sms.secretKey,callback:function(t){e.$set(e.sms,"secretKey",t)},expression:"sms.secretKey"}})],1)],1),"TENCENT_SMS"==e.sms.serviceName?t("FormItem",{attrs:{label:"应用ID",prop:"appId"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",disabled:e.changeLoading,placeholder:"请输入应用ID（短信控制台-应用管理）"},model:{value:e.sms.appId,callback:function(t){e.$set(e.sms,"appId",t)},expression:"sms.appId"}})],1):e._e(),t("FormItem",{attrs:{label:"短信签名",prop:"signName"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",disabled:e.changeLoading,placeholder:"请输入短信签名，例如XBoot"},model:{value:e.sms.signName,callback:function(t){e.$set(e.sms,"signName",t)},expression:"sms.signName"}})],1),t("FormItem",{attrs:{label:"使用场景",prop:"type"}},[t("Select",{staticStyle:{width:"380px"},attrs:{disabled:e.changeLoading,placeholder:"请选择",transfer:""},on:{"on-change":e.changeSmsType},model:{value:e.sms.type,callback:function(t){e.$set(e.sms,"type",t)},expression:"sms.type"}},[t("Option",{attrs:{value:"0"}},[e._v("通用验证码")]),t("Option",{attrs:{value:"1"}},[e._v("注册")]),t("Option",{attrs:{value:"2"}},[e._v("登录")]),t("Option",{attrs:{value:"3"}},[e._v("修改绑定手机号")]),t("Option",{attrs:{value:"4"}},[e._v("修改密码")]),t("Option",{attrs:{value:"5"}},[e._v("重置密码")]),t("Option",{attrs:{value:"6"}},[e._v("工作流消息")])],1)],1),t("FormItem",{attrs:{label:"模版CODE/ID",prop:"templateCode"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",disabled:e.changeLoading,placeholder:"请输入场景对应短信模版CODE/ID，如SMS_123456789"},model:{value:e.sms.templateCode,callback:function(t){e.$set(e.sms,"templateCode",t)},expression:"sms.templateCode"}})],1),t("FormItem",[t("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",disabled:e.changeLoading,loading:e.saveLoading},on:{click:e.saveEditSms}},[e._v("保存更改")])],1)],1),e.loading?t("Spin",{attrs:{fix:""}}):e._e()],1)},i=[],r=s("365c"),l={name:"sms",data(){return{loading:!1,changeLoading:!1,saveLoading:!1,sms:{serviceName:"ALI_SMS",accessKey:"",secretKey:"",appId:"",signName:"",type:"",templateCode:""},changedSmsSK:!1,smsValidate:{serviceName:[{required:!0,message:"请选择",trigger:"change"}],accessKey:[{required:!0,message:"不能为空",trigger:"blur"}],secretKey:[{required:!0,message:"不能为空",trigger:"blur"}],appId:[{required:!0,message:"不能为空",trigger:"blur"}],signName:[{required:!0,message:"不能为空",trigger:"blur"}],type:[{required:!0,message:"不能为空",trigger:"blur"}],templateCode:[{required:!0,message:"不能为空",trigger:"blur"}]}}},methods:{init(){this.initSmsSet()},initSmsSet(){this.loading=!0,Object(r["s"])().then(e=>{if(e.success&&e.result){let t=e.result;Object(r["ac"])(t).then(e=>{if(this.loading=!1,e.result){for(let t in e.result)null==e.result[t]&&(e.result[t]="");this.sms=e.result,this.sms.type="0",this.changeSmsType(this.sms.type)}else this.changedSmsSK=!0})}else this.loading=!1,this.changedSmsSK=!0})},changeSms(e){this.$refs.smsForm.resetFields(),this.changeLoading=!0,Object(r["ac"])(e).then(t=>{if(this.changeLoading=!1,t.result){for(let e in t.result)null==t.result[e]&&(t.result[e]="");this.sms=t.result,this.changedSmsSK=!1,this.sms.type="0",this.changeSmsType(this.sms.type)}else this.sms={serviceName:e},this.sms.type="0",this.changedSmsSK=!0})},seeSecret(e){e&&Object(r["Gc"])(e).then(e=>{e.success&&(this.sms.secretKey=e.result,this.changedSmsSK=!0)})},changeSmsType(e){""!=e&&null!=e&&"undefined"!=e&&Object(r["bc"])(this.sms.serviceName,e).then(e=>{e.success&&(this.sms.templateCode=e.result)})},saveEditSms(){this.$refs.smsForm.validate(e=>{e&&(this.saveLoading=!0,this.sms.changed=this.changedSmsSK,Object(r["nb"])(this.sms).then(e=>{this.saveLoading=!1,e.success&&this.$Message.success("保存成功")}))})}},mounted(){this.init()}},o=l,n=s("2877"),c=Object(n["a"])(o,a,i,!1,null,null,null);t["default"]=c.exports},"53ff":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("Card",[t("Layout",[t("Sider",{staticStyle:{background:"#fff","max-width":"220px",flex:"0 0 220px"},attrs:{"hide-trigger":""}},[t("Menu",{attrs:{"active-name":e.currName,theme:"light",width:"auto"},on:{"on-select":function(t){e.currName=t}}},[t("MenuItem",{attrs:{name:"oss"}},[e._v("文件对象存储配置")]),t("MenuItem",{attrs:{name:"sms"}},[e._v("短信配置")]),t("MenuItem",{attrs:{name:"email"}},[e._v("邮件配置")]),t("MenuItem",{attrs:{name:"vaptcha"}},[e._v("Vaptcha验证码")]),t("MenuItem",{attrs:{name:"stopWord"}},[e._v("禁用词管理")]),t("MenuItem",{attrs:{name:"notice"}},[e._v("系统公告配置")]),t("MenuItem",{attrs:{name:"other"}},[e._v("其他配置")])],1)],1),t("Content",{style:{padding:"8px 40px",minHeight:"550px",background:"#fff"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:"oss"==e.currName,expression:"currName == 'oss'"}]},[t("div",{staticClass:"setting-title"},[e._v("文件对象存储配置")]),t("oss")],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"sms"==e.currName,expression:"currName == 'sms'"}]},[t("div",{staticClass:"setting-title"},[e._v("短信配置")]),t("sms")],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"email"==e.currName,expression:"currName == 'email'"}]},[t("div",{staticClass:"setting-title"},[e._v("邮箱配置")]),t("div",{staticStyle:{display:"flex",position:"relative"}},[t("Form",{ref:"emailForm",attrs:{model:e.email,"label-width":110,"label-position":"left",rules:e.emailValidate}},[t("FormItem",{attrs:{label:"邮箱服务器",prop:"host"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入邮箱服务器Host，例如QQ邮箱为smtp.qq.com"},model:{value:e.email.host,callback:function(t){e.$set(e.email,"host",t)},expression:"email.host"}})],1),t("FormItem",{attrs:{label:"发送邮箱账号",prop:"username"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入发送者Email账号"},model:{value:e.email.username,callback:function(t){e.$set(e.email,"username",t)},expression:"email.username"}})],1),t("FormItem",{attrs:{label:"邮箱授权码",prop:"password"}},[t("Tooltip",{attrs:{placement:"right",content:"无法编辑时请先点击查看图标"}},[t("Input",{staticClass:"input-see",staticStyle:{width:"380px"},attrs:{type:"text",readonly:!e.changedEmailPass,icon:"ios-eye",placeholder:"请输入邮箱授权码，进入邮箱-设置中可找到"},on:{"on-click":function(t){return e.seeSecret("EMAIL_SETTING")}},model:{value:e.email.password,callback:function(t){e.$set(e.email,"password",t)},expression:"email.password"}})],1)],1),t("FormItem",[t("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:e.saveLoading},on:{click:e.saveEditEmail}},[e._v("保存更改")])],1)],1),e.loading?t("Spin",{attrs:{fix:""}}):e._e()],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:"vaptcha"==e.currName,expression:"currName == 'vaptcha'"}]},[t("div",{staticClass:"setting-title"},[e._v("Vaptcha验证码配置")]),t("div",{staticStyle:{display:"flex",position:"relative"}},[t("Form",{ref:"vaptchaForm",attrs:{model:e.vaptcha,"label-width":110,"label-position":"left",rules:e.vaptchaValidate}},[t("FormItem",{attrs:{label:"VID",prop:"vid"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入验证单元VID"},model:{value:e.vaptcha.vid,callback:function(t){e.$set(e.vaptcha,"vid",t)},expression:"vaptcha.vid"}})],1),t("FormItem",{attrs:{label:"secretKey",prop:"secretKey"}},[t("Tooltip",{attrs:{placement:"right",content:"无法编辑时请先点击查看图标"}},[t("Input",{staticClass:"input-see",staticStyle:{width:"380px"},attrs:{type:"text",readonly:!e.changedVaptchaSK,icon:"ios-eye",placeholder:"请输入验证单元Key"},on:{"on-click":function(t){return e.seeSecret("VAPTCHA_SETTING")}},model:{value:e.vaptcha.secretKey,callback:function(t){e.$set(e.vaptcha,"secretKey",t)},expression:"vaptcha.secretKey"}})],1)],1),t("FormItem",[t("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:e.saveLoading},on:{click:e.saveEditVaptcha}},[e._v("保存更改")])],1)],1),e.loading?t("Spin",{attrs:{fix:""}}):e._e()],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:"stopWord"==e.currName,expression:"currName == 'stopWord'"}]},[t("div",{staticClass:"setting-title"},[e._v("禁用词管理")]),t("stop-word")],1),t("div",{directives:[{name:"show",rawName:"v-show",value:"notice"==e.currName,expression:"currName == 'notice'"}]},[t("div",{staticClass:"setting-title"},[e._v(" 系统公告配置 "),t("Tooltip",{attrs:{content:"访问系统公告，右上角弹出",placement:"right"}},[t("Icon",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{type:"md-help-circle",size:"20",color:"#c5c5c5"}})],1)],1),t("div",{staticStyle:{display:"flex"}},[t("Form",{ref:"noticeForm",attrs:{model:e.notice,"label-width":110,"label-position":"left"}},[t("FormItem",{attrs:{label:"公告开关",prop:"open"}},[t("i-switch",{model:{value:e.notice.open,callback:function(t){e.$set(e.notice,"open",t)},expression:"notice.open"}},[t("span",{attrs:{slot:"open"},slot:"open"},[e._v("开")]),t("span",{attrs:{slot:"close"},slot:"close"},[e._v("关")])])],1),t("FormItem",{attrs:{label:"展示时长",prop:"duration"}},[t("Tooltip",{attrs:{trigger:"hover",placement:"right",content:"设为0不自动关闭"}},[t("InputNumber",{attrs:{max:1e3,min:0},model:{value:e.notice.duration,callback:function(t){e.$set(e.notice,"duration",t)},expression:"notice.duration"}}),t("span",{staticStyle:{"margin-left":"5px"}},[e._v("秒")])],1)],1),t("FormItem",{attrs:{label:"展示页面",prop:"position"}},[t("Select",{staticStyle:{width:"380px"},attrs:{placeholder:"请选择"},model:{value:e.notice.position,callback:function(t){e.$set(e.notice,"position",t)},expression:"notice.position"}},[t("Option",{attrs:{value:"LOGIN"}},[e._v("登录页（访问系统时）")]),t("Option",{attrs:{value:"HOME"}},[e._v("首页（登录系统后）")])],1)],1),t("FormItem",{attrs:{label:"公告标题",prop:"title"}},[t("Input",{staticStyle:{width:"380px"},model:{value:e.notice.title,callback:function(t){e.$set(e.notice,"title",t)},expression:"notice.title"}})],1),t("FormItem",{attrs:{label:"公告内容",prop:"content"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"textarea",rows:4,placeholder:""},model:{value:e.notice.content,callback:function(t){e.$set(e.notice,"content",t)},expression:"notice.content"}})],1),t("FormItem",[t("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:e.saveLoading},on:{click:e.saveEditNotice}},[e._v("保存更改")])],1)],1),e.loading?t("Spin",{attrs:{fix:""}}):e._e()],1)]),t("div",{directives:[{name:"show",rawName:"v-show",value:"other"==e.currName,expression:"currName == 'other'"}]},[t("div",{staticClass:"setting-title"},[e._v("其他配置")]),t("div",{staticStyle:{display:"flex"}},[t("Form",{ref:"otherForm",attrs:{model:e.other,"label-width":110,"label-position":"left",rules:e.otherValidate}},[t("FormItem",{attrs:{label:"应用部署域名",prop:"domain"}},[t("Tooltip",{attrs:{placement:"right",content:"拼接部分资源访问链接使用"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入应用部署域名前缀，如http://xboot.exrick.cn"},model:{value:e.other.domain,callback:function(t){e.$set(e.other,"domain",t)},expression:"other.domain"}})],1)],1),t("FormItem",{attrs:{label:"单点登录域名",prop:"ssoDomain"}},[t("Tooltip",{attrs:{"max-width":"250",transfer:"",placement:"right",content:"该域名及子域名下将可获得单点登录所需数据"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"text",placeholder:"请输入应用部署一级域名，如exrick.cn"},model:{value:e.other.ssoDomain,callback:function(t){e.$set(e.other,"ssoDomain",t)},expression:"other.ssoDomain"}})],1)],1),t("FormItem",{attrs:{label:"IP黑名单",prop:"blacklist"}},[t("Input",{staticStyle:{width:"380px"},attrs:{type:"textarea",rows:4,placeholder:"多个以回车分隔"},model:{value:e.other.blacklist,callback:function(t){e.$set(e.other,"blacklist",t)},expression:"other.blacklist"}})],1),t("FormItem",[t("Button",{staticStyle:{width:"100px"},attrs:{type:"primary",loading:e.saveLoading},on:{click:e.saveEditOther}},[e._v("保存更改")])],1)],1),e.loading?t("Spin",{attrs:{fix:""}}):e._e()],1)])])],1)],1)],1)},i=[],r=s("365c"),l=s("00c0"),o=s("49f0"),n=s("2438"),c={name:"setting-manage",components:{oss:l["default"],sms:o["default"],stopWord:n["default"]},data(){return{currName:"oss",loading:!1,saveLoading:!1,email:{host:"",username:"",password:""},changedEmailPass:!1,vaptcha:{vID:"",secretKey:""},changedVaptchaSK:!1,notice:{duration:10},other:{domain:"http://127.0.0.1:8888",ssoDomain:"",blacklist:""},emailValidate:{host:[{required:!0,message:"不能为空",trigger:"blur"}],username:[{required:!0,message:"不能为空",trigger:"blur"}],password:[{required:!0,message:"不能为空",trigger:"blur"}]},vaptchaValidate:{vid:[{required:!0,message:"不能为空",trigger:"blur"}],secretKey:[{required:!0,message:"不能为空",trigger:"blur"}]},otherValidate:{domain:[{required:!0,message:"不能为空",trigger:"blur"}]}}},methods:{init(){this.initEmailSet(),this.initVaptchaSet(),this.initNoticeSet(),this.initOtherSet()},initEmailSet(){this.loading=!0,Object(r["Bb"])().then(e=>{if(this.loading=!1,e.result){for(let t in e.result)null==e.result[t]&&(e.result[t]="");this.email=e.result}else this.changedEmailPass=!0})},initVaptchaSet(){this.loading=!0,Object(r["fc"])().then(e=>{if(this.loading=!1,e.result){for(let t in e.result)null==e.result[t]&&(e.result[t]="");this.vaptcha=e.result}else this.changedVaptchaSK=!0})},initOtherSet(){this.loading=!0,Object(r["Pb"])().then(e=>{if(this.loading=!1,e.result){for(let t in e.result)null==e.result[t]&&(e.result[t]="");this.other=e.result}})},initNoticeSet(){this.loading=!0,Object(r["Nb"])().then(e=>{if(this.loading=!1,e.result){for(let t in e.result)null==e.result[t]&&(e.result[t]="");this.notice=e.result}})},seeSecret(e){e&&Object(r["Gc"])(e).then(e=>{e.success&&("sms"==this.currName?(this.sms.secretKey=e.result,this.changedSmsSK=!0):"email"==this.currName?(this.email.password=e.result,this.changedEmailPass=!0):"vaptcha"==this.currName&&(this.vaptcha.secretKey=e.result,this.changedVaptchaSK=!0))})},saveEditEmail(){this.$refs.emailForm.validate(e=>{e&&(this.saveLoading=!0,this.email.changed=this.changedEmailPass,Object(r["Z"])(this.email).then(e=>{this.saveLoading=!1,e.success&&this.$Message.success("保存成功")}))})},saveEditVaptcha(){this.$refs.vaptchaForm.validate(e=>{e&&(this.saveLoading=!0,this.vaptcha.changed=this.changedVaptchaSK,Object(r["qb"])(this.vaptcha).then(e=>{this.saveLoading=!1,e.success&&this.$Message.success("保存成功")}))})},saveEditOther(){this.$refs.otherForm.validate(e=>{e&&(this.saveLoading=!0,Object(r["fb"])(this.other).then(e=>{this.saveLoading=!1,e.success&&this.$Message.success("保存成功")}))})},saveEditNotice(){this.saveLoading=!0;let e=JSON.stringify(this.notice),t=JSON.parse(e);this.notice.duration||(t.duration=0),Object(r["db"])(t).then(e=>{this.saveLoading=!1,e.success&&this.$Message.success("保存成功")})}},mounted(){let e=this.$route.query.name;e&&(this.currName=e),this.init()}},d=c,h=(s("bd2f"),s("2877")),p=Object(h["a"])(d,a,i,!1,null,null,null);t["default"]=p.exports},"76e2":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("Select",{attrs:{size:e.size,loading:e.loading,placeholder:e.placeholder,multiple:e.multiple,disabled:e.disabled,filterable:e.filterable,transfer:e.transfer,clearable:e.clearable,placement:e.placement,"transfer-class-name":e.transferClassName,prefix:e.prefix,"max-tag-count":e.maxTagCount,"max-tag-placeholder":e.maxTagPlaceholder},on:{"on-change":e.handleChange,"on-query-change":e.handleQueryChange,"on-clear":e.handleClear,"on-open-change":e.handleOpenChange,"on-select":e.handleSelect},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}},e._l(e.dictData,(function(s,a){return t("Option",{key:a,attrs:{value:s.value}},[e._v(e._s(s.title))])})),1)],1)},i=[],r=s("365c"),l={name:"dict",props:{value:"",dict:String,placeholder:{type:String,default:"请选择"},placement:{type:String,default:"bottom-start"},size:String,multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},transfer:{type:Boolean,default:!1},transferClassName:String,prefix:String,maxTagCount:Number,maxTagPlaceholder:Function,clearable:{type:Boolean,default:!0}},data(){return{currentValue:this.value,dictData:[],loading:!1}},methods:{getData(e){this.loading=!0,Object(r["Ab"])(e).then(e=>{this.loading=!1,e.success&&(this.dictData=e.result)})},handleChange(e){this.$emit("input",e),this.$emit("on-change",e)},handleQueryChange(e){this.$emit("on-query-change",e)},handleClear(){this.$emit("on-clear","")},handleOpenChange(e){this.$emit("on-open-change",e)},handleSelect(e){this.$emit("on-select",e)},setCurrentValue(e){e!==this.currentValue&&(this.currentValue=e,this.$emit("on-change",this.currentValue))}},watch:{value(e){this.setCurrentValue(e)},dict(e){this.getData(e)}},mounted(){this.getData(this.dict)}},o=l,n=s("2877"),c=Object(n["a"])(o,a,i,!1,null,null,null);t["default"]=c.exports},bd2f:function(e,t,s){"use strict";s("c26e")},c26e:function(e,t,s){},ce41:function(e,t,s){"use strict";s("ec18")},ec18:function(e,t,s){}}]);