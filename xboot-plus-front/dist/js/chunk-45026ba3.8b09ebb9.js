(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45026ba3"],{"45d9":function(e,t,i){},6737:function(e,t,i){"use strict";i("45d9")},"9a5d":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search"},[t("Card",[t("Row",{staticClass:"operation",attrs:{align:"middle",justify:"space-between"}},[t("div",[t("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:e.add}},[e._v("添加")]),t("Button",{attrs:{icon:"md-trash"},on:{click:e.delAll}},[e._v("批量删除")]),t("Button",{attrs:{icon:"md-refresh"},on:{click:e.getDataList}},[e._v("刷新")]),t("Button",{attrs:{type:"dashed"},on:{click:function(t){e.openTip=!e.openTip}}},[e._v(e._s(e.openTip?"关闭提示":"开启提示"))])],1),t("Poptip",{attrs:{placement:"bottom-end",width:"160"}},[t("Button",{attrs:{shape:"circle",icon:"md-apps"}}),t("div",{attrs:{slot:"content"},slot:"content"},[t("CheckboxGroup",{on:{"on-change":e.changeColumns},model:{value:e.columnSettings,callback:function(t){e.columnSettings=t},expression:"columnSettings"}},e._l(e.columns,(function(i,s){return t("div",{key:s,staticStyle:{margin:"3px 0"}},[i.key&&i.key.indexOf(e.whiteColumns)<=-1?t("Checkbox",{attrs:{label:i.key,disabled:i.disabled}},[t("span",[e._v(e._s(i.title))])]):e._e()],1)})),0)],1)],1)],1),t("Alert",{directives:[{name:"show",rawName:"v-show",value:e.openTip,expression:"openTip"}],attrs:{"show-icon":""}},[e._v(" 已选择 "),t("span",{staticClass:"select-count"},[e._v(e._s(e.selectList.length))]),e._v(" 项 "),t("a",{staticClass:"select-clear",on:{click:e.clearSelectAll}},[e._v("清空")]),e._v(" 这里还可以做一些数据统计显示 "),t("span",{staticStyle:{float:"right"}},[e._v("点击右上角按钮配置动态列↑")])]),t("Table",{ref:"table",attrs:{loading:e.loading,border:"",columns:e.dynamicColums,data:e.data,sortable:"custom"},on:{"on-sort-change":e.changeSort,"on-selection-change":e.changeSelect}}),t("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[t("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1),t("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:500},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[t("Form",{ref:"form",attrs:{model:e.form,"label-width":80,rules:e.formValidate}},[t("FormItem",{attrs:{label:"名称",prop:"name"}},[t("Input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"text"},on:{click:e.handleCancel}},[e._v("取消")]),t("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)},a=[],l={name:"simple-table",data(){return{openTip:!0,loading:!0,searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc"},modalType:0,modalVisible:!1,modalTitle:"",form:{name:""},formValidate:{name:[{required:!0,message:"不能为空",trigger:"blur"}]},submitLoading:!1,selectList:[],columnSettings:["name","sex","createTime","updateTime"],whiteColumns:["action"],columns:[{type:"selection",width:60,align:"center"},{type:"index",width:60,align:"center"},{title:"名称",key:"name",sortable:!0},{title:"性别",key:"sex",sortable:!0},{title:"创建时间",key:"createTime",sortable:!0,sortType:"desc"},{title:"更新时间",key:"updateTime",sortable:!0,disabled:!0},{title:"操作",key:"action",align:"center",render:(e,t)=>e("div",[e("a",{on:{click:()=>{this.edit(t.row)}}},"编辑"),e("Divider",{props:{type:"vertical"}}),e("a",{on:{click:()=>{this.remove(t.row)}}},"删除")])}],columnChange:!1,data:[],total:0}},computed:{dynamicColums:function(){return this.columnChange,this.columns.filter(e=>1!=e.hide)}},methods:{init(){this.getDataList()},changeColumns(e){this.columns.map(t=>{let i=!0;for(let s=0;s<e.length;s++){if(!t.key){i=!1;break}if(t.key==e[s]||t.key.indexOf(this.whiteColumns)>-1){i=!1;break}}return t.hide=i,t}),this.columnChange=!this.columnChange},changePage(e){this.searchForm.pageNumber=e,this.getDataList(),this.clearSelectAll()},changePageSize(e){this.searchForm.pageSize=e,this.getDataList()},changeSort(e){this.searchForm.sort=e.key,this.searchForm.order=e.order,"normal"==e.order&&(this.searchForm.order=""),this.getDataList()},getDataList(){this.loading=!0,this.data=[{id:"1",name:"XBoot",sex:"男",createTime:"2018-08-08 00:08:00",updateTime:"2018-08-08 00:08:00"},{id:"2",name:"Exrick",sex:"女",createTime:"2018-08-08 00:08:00",updateTime:"2018-08-08 00:08:00"}],this.total=this.data.length,this.loading=!1},handleCancel(){this.modalVisible=!1},handleSubmit(){this.$refs.form.validate(e=>{e&&(this.submitLoading=!0,0==this.modalType?(delete this.form.id,this.submitLoading=!1,this.$Message.success("操作成功"),this.getDataList(),this.modalVisible=!1):(this.submitLoading=!1,this.$Message.success("操作成功"),this.getDataList(),this.modalVisible=!1))})},add(){this.modalType=0,this.modalTitle="添加",this.$refs.form.resetFields(),delete this.form.id,this.modalVisible=!0},edit(e){this.modalType=1,this.modalTitle="编辑",this.$refs.form.resetFields();for(let s in e)null==e[s]&&(e[s]="");let t=JSON.stringify(e),i=JSON.parse(t);this.form=i,this.modalVisible=!0},remove(e){this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+e.name+" ?",loading:!0,onOk:()=>{this.$Message.success("操作成功"),this.clearSelectAll(),this.$Modal.remove(),this.getDataList()}})},clearSelectAll(){this.$refs.table.selectAll(!1)},changeSelect(e){this.selectList=e},delAll(){this.selectList.length<=0?this.$Message.warning("您还未选择要删除的数据"):this.$Modal.confirm({title:"确认删除",content:"您确认要删除所选的 "+this.selectList.length+" 条数据?",loading:!0,onOk:()=>{let e="";this.selectList.forEach((function(t){e+=t.id+","})),e=e.substring(0,e.length-1),this.$Message.success("操作成功"),this.$Modal.remove(),this.clearSelectAll(),this.getDataList()}})}},mounted(){this.init()}},o=l,n=(i("6737"),i("2877")),r=Object(n["a"])(o,s,a,!1,null,null,null);t["default"]=r.exports}}]);