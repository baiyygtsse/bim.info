(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b06209ba"],{ac04:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"access"},[e("Row",{attrs:{gutter:10}},[e("Col",{staticStyle:{margin:"0 0 10px 0"},attrs:{xs:24,sm:24,lg:24,xl:8}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"md-contact"}}),t._v("当前用户 ")],1),e("div",{staticClass:"access-user-content access-current-user-content"},[t.avatar?e("Avatar",{attrs:{src:t.avatar,size:"100"}}):e("Avatar",{attrs:{icon:"md-person",size:"100"}}),e("p",[t._v("当前用户本页面拥有按钮权限:")]),e("b",[t._v(t._s(t.permTypes))])],1)])],1),e("Col",{staticStyle:{margin:"0 0 10px 0"},attrs:{lg:24,xl:16}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"md-apps"}}),t._v("当前用户本页面拥有的按钮操作 ")],1),e("Row",{staticClass:"access-user-content",attrs:{gutter:10,align:"middle"}},[e("Col",{staticClass:"access-buttons",attrs:{span:"6"}},[e("Button",{directives:[{name:"has",rawName:"v-has",value:"add",expression:"'add'"}],attrs:{type:"primary"}},[t._v("添加按钮")]),e("Button",{directives:[{name:"has",rawName:"v-has",value:"edit",expression:"'edit'"}]},[t._v("编辑按钮")]),e("Button",{directives:[{name:"has",rawName:"v-has",value:"delete",expression:"'delete'"}],attrs:{type:"error"}},[t._v("删除按钮")])],1),e("Col",{attrs:{span:"18"}},[e("div",[t._v(" 您可以通过更换测试用户账号： "),e("code",[t._v("test")]),t._v("或 "),e("code",[t._v("test2")]),t._v(" 密码： "),e("code",[t._v("123456")]),t._v("，然后观察该页面按钮以及部门相关数据权限的变化 "),e("br"),e("br"),t._v("自定义权限标签： "),e("code",[t._v("v-has")]),t._v("，示例： "),e("code",[t._v(t._s(t.example))]),e("br"),e("br"),t._v("说明：该Demo大部分页面为演示功能，前端未配置根据权限隐藏按钮 ")])])],1)],1)],1)],1),e("Row",{attrs:{gutter:10}},[e("Col",{staticStyle:{margin:"0 0 10px 0"},attrs:{sm:24,lg:24,xl:14}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"md-grid"}}),t._v("表格中权限判断 ")],1),e("div",{staticClass:"content-table"},[e("Alert",{attrs:{"show-icon":""}},[t._v(" iView Table组件已支持 slot-scope 用法，建议使用该新用法。 以下为Render函数中权限按钮示例 ")]),e("Table",{attrs:{border:"",columns:t.columns,data:t.data}})],1)])],1),e("Col",{staticStyle:{margin:"0 0 10px 0"},attrs:{sm:24,lg:24,xl:10}},[e("Card",[e("p",{attrs:{slot:"title"},slot:"title"},[e("Icon",{staticStyle:{"margin-right":"5px"},attrs:{type:"md-contacts"}}),t._v("通过当前用户角色显示 ")],1),e("p",{attrs:{slot:"extra"},slot:"extra"},[t._v("无需配置，全局可用")]),e("Row",{staticClass:"content-role"},[e("div",{staticClass:"access-user-roles"},[e("p",[t._v("当前用户拥有角色:")]),e("b",[t._v(t._s(t.roles))])]),e("div",{staticClass:"btns"},[e("Button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:"ROLE_USER",expression:"'ROLE_USER'"}],staticStyle:{"margin-right":"5px"},attrs:{type:"primary"}},[t._v("添加按钮")]),e("Button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:"ROLE_TEST",expression:"'ROLE_TEST'"}],attrs:{type:"error"}},[t._v("删除按钮")]),e("Button",{directives:[{name:"hasRole",rawName:"v-hasRole",value:"ROLE_ADMIN",expression:"'ROLE_ADMIN'"}]},[t._v("编辑按钮")])],1),e("div",{staticClass:"role-demo"},[t._v(" 自定义角色权限标签： "),e("code",[t._v("v-hasRole")]),e("br"),e("br"),t._v("示例： "),e("code",[t._v(t._s(t.exampleRole))])])])],1)],1)],1)],1)},r=[],o={name:"access_index",data(){return{permTypes:[],roles:[],example:"<Button v-has=\"'add'\">添加按钮</Button>",exampleRole:"<Button v-hasRole=\"'ROLE_ADMIN'\">添加按钮</Button>",columns:[{title:"姓名",key:"name",render:(t,e)=>t("div",[t("Icon",{props:{type:"ios-person"},style:{margin:"0 5px 0 0"}}),t("strong",e.row.name)])},{title:"年龄",key:"age"},{title:"地址",key:"address"},{title:"操作",key:"action",width:150,align:"center",render:(t,e)=>this.permTypes.includes("edit")?t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:()=>{}}},"编辑"),t("Button",{props:{type:"error",size:"small"},on:{click:()=>{}}},"删除")]):t("div",[t("Button",{props:{type:"error",size:"small"},on:{click:()=>{}}},"删除")])}],data:[{name:"John Brown",age:18,address:"New York No. 1 Lake Park"},{name:"Jim Green",age:24,address:"London No. 1 Lake Park"},{name:"Joe Black",age:30,address:"Sydney No. 1 Lake Park"}]}},computed:{avatar(){return this.$store.state.user.avatar}},methods:{initMeta(){this.$route.meta.permTypes&&(this.permTypes=this.$route.meta.permTypes)}},created(){this.initMeta(),this.roles=this.getStore("roles")}},i=o,l=(s("bb68"),s("2877")),n=Object(l["a"])(i,a,r,!1,null,null,null);e["default"]=n.exports},bb68:function(t,e,s){"use strict";s("df44")},df44:function(t,e,s){}}]);