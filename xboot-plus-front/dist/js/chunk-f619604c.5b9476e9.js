(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f619604c","chunk-2d21802a"],{"11c9":function(t,e,o){},"21a6":function(t,e,o){(function(o){var n,a,i;(function(o,s){a=[],n=s,i="function"===typeof n?n.apply(e,a):n,void 0===i||(t.exports=i)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,o){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){l(n.response,e,o)},n.onerror=function(){console.error("could not download file")},n.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof o&&o.global===o?o:void 0,r=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(t,e,o){var r=s.URL||s.webkitURL,l=document.createElement("a");e=e||t.name||"download",l.download=e,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?i(l):a(l.href)?n(t,e,o):i(l,l.target="_blank")):(l.href=r.createObjectURL(t),setTimeout((function(){r.revokeObjectURL(l.href)}),4e4),setTimeout((function(){i(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,o,s){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,s),o);else if(a(t))n(t,o,s);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){i(r)}))}}:function(t,e,o,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,o);var i="application/octet-stream"===t.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||i&&l||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=t:location=t,a=null},d.readAsDataURL(t)}else{var u=s.URL||s.webkitURL,h=u.createObjectURL(t);a?a.location=h:location.href=h,a=null,setTimeout((function(){u.revokeObjectURL(h)}),4e4)}});s.saveAs=l.saveAs=l,t.exports=l}))}).call(this,o("c8ba"))},"2f49":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{position:"relative"},attrs:{id:t.id+"-monaco-editor-content"}},[t.showHeader?e("div",{class:{"header-dark":t.themeDark,"monaco-header":!0}},[e("div",{class:{"title-dark":t.themeDark,title:!0}},[t._v(" "+t._s(t.showTitle?t.title:"")+" ")]),e("div",{staticClass:"icons"},[t.showUndo?e("div",{class:{"btn-dark":t.themeDark,btn:!0},on:{click:t.undo}},[e("Icon",{staticClass:"icon",attrs:{type:"ios-undo"}}),t._v(" 撤销 ")],1):t._e(),t.showRedo?e("div",{class:{"btn-dark":t.themeDark,btn:!0},on:{click:t.redo}},[e("Icon",{staticClass:"icon l",attrs:{type:"ios-redo"}}),t._v(" 恢复 ")],1):t._e(),t.showCopy?e("div",{class:{"btn-dark":t.themeDark,btn:!0},on:{click:t.copy}},[e("Icon",{staticClass:"icon l",attrs:{type:"md-copy"}}),t._v(" 复制 ")],1):t._e(),t.showDownload?e("div",{class:{"btn-dark":t.themeDark,btn:!0},on:{click:t.download}},[e("Icon",{staticClass:"icon l",attrs:{type:"md-download"}}),t._v(" 下载 ")],1):t._e(),t.showFormat?e("div",{class:{"btn-dark":t.themeDark,btn:!0},on:{click:t.format}},[e("Icon",{staticClass:"icon l",attrs:{type:"md-color-palette"}}),t._v(" 美化排版 ")],1):t._e(),t.showSearch?e("div",{class:{"btn-dark":t.themeDark,btn:!0},on:{click:t.find}},[e("Icon",{staticClass:"icon l",attrs:{type:"ios-search"}}),t._v(" 搜索 ")],1):t._e(),t.showFullscreen?e("div",{class:{"btn-dark":t.themeDark,"btn l":!0},on:{click:t.fullscreen}},[e("Icon",{staticClass:"icon",attrs:{type:t.openFull?"md-contract":"md-expand"}}),t._v(" "+t._s(t.openFull?"退出全屏":"全屏")+" ")],1):t._e(),t.showTheme?e("div",{class:{"btn-dark":t.themeDark,"btn l":!0},on:{click:t.changeTheme}},[e("Icon",{staticClass:"icon",attrs:{type:t.themeDark?"md-sunny":"md-moon"}}),t._v(" "+t._s(t.themeDark?"明亮主题":"暗黑主题")+" ")],1):t._e()])]):t._e(),e("div",{style:{overflow:"hidden",height:t.realHeight},attrs:{id:t.id}})])},a=[],i=o("21a6"),s=o.n(i),r={name:"monaco",props:{id:{type:String,default:"monaco"},height:{type:[Number,String],default:500},value:{type:String,default:""},language:String,lineNumbers:{type:String,default:"on"},readOnly:{type:Boolean,default:!1},cursorStyle:{type:String,default:"line"},fontSize:{type:Number,default:14},contextmenu:{type:Boolean,default:!0},defaultTheme:{type:String,default:"vs"},autoFormat:{type:Boolean,default:!1},showHeader:{type:Boolean,default:!0},title:{type:String},showTitle:{type:Boolean,default:!0},showUndo:{type:Boolean,default:!0},showRedo:{type:Boolean,default:!0},showCopy:{type:Boolean,default:!0},showDownload:{type:Boolean,default:!0},downloadSuffix:{type:String,default:".txt"},showFormat:{type:Boolean,default:!0},showSearch:{type:Boolean,default:!0},showFullscreen:{type:Boolean,default:!0},showTheme:{type:Boolean,default:!0}},data(){return{data:this.value,monacoEditor:null,themeDark:"vs-dark"==this.defaultTheme,theme:this.defaultTheme,realHeight:this.height+"px",openFull:!1}},methods:{init(){this.monacoEditor=monaco.editor.create(document.getElementById(this.id),{value:this.value,language:this.language,theme:this.theme,lineNumbers:this.lineNumbers,readOnly:this.readOnly,cursorStyle:this.cursorStyle,fontSize:this.fontSize,contextmenu:this.contextmenu,formatOnPaste:!0,formatOnType:!0}),this.autoFormat&&setTimeout(()=>{this.monacoEditor&&this.monacoEditor.getAction(["editor.action.formatDocument"])._run()},200),this.monacoEditor.onDidChangeModelContent(t=>{let e=this.monacoEditor.getValue();this.data=e,this.$emit("input",this.data),this.$emit("on-change",this.data)})},changeTheme(){this.themeDark=!this.themeDark;let t="vs";this.themeDark&&(t="vs-dark"),this.monacoEditor.updateOptions({theme:t})},setData(t){this.monacoEditor||this.init(),t!=this.data&&(this.data=t,this.monacoEditor.setValue(this.data),this.autoFormat&&this.monacoEditor.getAction(["editor.action.formatDocument"])._run(),this.$emit("input",this.data),this.$emit("on-change",this.data))},layout(){this.realHeight=this.height+"px",setTimeout(()=>{this.monacoEditor.layout()},10)},undo(){var t;null===(t=this.monacoEditor.getModel())||void 0===t||t.undo()},redo(){var t;null===(t=this.monacoEditor.getModel())||void 0===t||t.redo()},copy(){this.$copyText(this.data).then(t=>{this.$Message.success("复制成功")})},download(){var t=new Blob([this.data],{type:"text/plain;charset=utf-8"});let e=this.title;e||(e="文件"),e+=this.downloadSuffix,s.a.saveAs(t,e)},format(){this.monacoEditor.getAction(["editor.action.formatDocument"])._run()},find(){this.monacoEditor.getAction(["actions.find"])._run()},fullscreen(){let t=document.getElementById(this.id+"-monaco-editor-content");this.openFull=!this.openFull,this.openFull?(this.realHeight="100%",t.classList.add("editor-fullscreen"),setTimeout(()=>{this.monacoEditor.layout()},10)):(this.realHeight=this.height+"px",t.classList.remove("editor-fullscreen"),setTimeout(()=>{this.monacoEditor.layout()},10))}},beforeDestroy(){null!=this.monacoEditor&&this.monacoEditor.dispose()},watch:{value(t){this.setData(t)}},mounted(){this.$nextTick(()=>{this.init()})}},l=r,c=(o("ce20"),o("2877")),d=Object(c["a"])(l,n,a,!1,null,"3b145ebe",null);e["default"]=d.exports},c8ba:function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(n){"object"===typeof window&&(o=window)}t.exports=o},ce20:function(t,e,o){"use strict";o("11c9")}}]);