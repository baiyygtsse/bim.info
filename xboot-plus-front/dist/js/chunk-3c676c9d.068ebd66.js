(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c676c9d","chunk-21a1149f","chunk-2d0bd650","chunk-2d0d7882"],{"2c8a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",[t("Cascader",{attrs:{data:e.department,"load-data":e.loadData,"change-on-select":"",size:e.size,transfer:e.transfer,"transfer-class-name":e.transferClassName,disabled:e.disabled,filterable:e.filterable,clearable:e.clearable,placeholder:e.placeholder},on:{"on-change":e.handleChangeDep,"on-visible-change":e.handleVisibleChange},model:{value:e.selectDep,callback:function(t){e.selectDep=t},expression:"selectDep"}})],1)},s=[],n=a("365c"),i={name:"departmentChoose",props:{size:String,transfer:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},placeholder:{type:String,default:"请选择或输入搜索部门"},transferClassName:String},data(){return{selectDep:[],department:[]}},methods:{initDepartmentData(){Object(n["jc"])().then(e=>{e.success&&(e.result.forEach((function(e){e.isParent?(e.value=e.id,e.label=e.title,e.loading=!1,e.children=[]):(e.value=e.id,e.label=e.title),-1==e.status&&(e.label="[已禁用] "+e.label,e.disabled=!0)})),this.department=e.result)})},loadData(e,t){e.loading=!0,Object(n["lc"])(e.value).then(a=>{e.loading=!1,a.success&&(a.result.forEach((function(e){e.isParent?(e.value=e.id,e.label=e.title,e.loading=!1,e.children=[]):(e.value=e.id,e.label=e.title),-1==e.status&&(e.label="[已禁用] "+e.label,e.disabled=!0)})),e.children=a.result,t())})},handleChangeDep(e,t){let a="";e&&e.length>0&&(a=e[e.length-1]),this.$emit("on-change",a)},handleVisibleChange(e){this.$emit("on-visible-change",e)},clearSelect(){this.selectDep=[],this.$emit("on-change","")}},mounted(){this.initDepartmentData()}},r=i,o=a("2877"),c=Object(o["a"])(r,l,s,!1,null,null,null);t["default"]=c.exports},"31c5":function(e,t,a){},"4fdd":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{display:"flex"}},[t("Select",{attrs:{size:e.size,loading:e.loading,placeholder:e.placeholder,multiple:e.multiple,disabled:e.disabled,filterable:"",transfer:e.transfer,clearable:e.clearable,placement:e.placement,"not-found-text":e.notFoundText,"label-in-value":e.labelInValue,"transfer-class-name":e.transferClassName,prefix:e.prefix,"max-tag-count":e.maxTagCount,"max-tag-placeholder":e.maxTagPlaceholder,"remote-method":e.searchUser},on:{"on-change":e.handleChange,"on-query-change":e.handleQueryChange,"on-clear":e.handleClear,"on-open-change":e.handleOpenChange,"on-select":e.handleSelect},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.userList,(function(a,l){return t("Option",{key:l,attrs:{value:a.id,label:a.nickname,tag:a.username}},[t("span",{staticStyle:{"margin-right":"10px"}},[e._v(e._s(a.nickname))]),t("span",{staticStyle:{color:"#ccc"}},[e._v(e._s(a.username))])])})),1),e.showButton?t("Button",{staticStyle:{"margin-left":"10px"},attrs:{size:e.size,disabled:e.disabled,icon:e.icon,type:e.type,shape:e.shape,ghost:e.ghost},on:{click:function(t){e.userModalVisible=!0}}},[e._v(e._s(e.text))]):e._e()],1),e.showButton?t("Drawer",{staticClass:"user-select-drawer",attrs:{title:"选择用户",closable:"",width:"815",draggable:"",transfer:e.drawerTransfer,"mask-style":e.maskStyle,"class-name":e.className},model:{value:e.userModalVisible,callback:function(t){e.userModalVisible=t},expression:"userModalVisible"}},[t("Form",{ref:"searchForm",attrs:{model:e.searchForm,inline:"","label-width":70}},[t("FormItem",{attrs:{label:"用户名",prop:"nickname"}},[t("Input",{staticStyle:{width:"180px"},attrs:{type:"text",clearable:"",placeholder:"请输入用户名"},model:{value:e.searchForm.nickname,callback:function(t){e.$set(e.searchForm,"nickname",t)},expression:"searchForm.nickname"}})],1),t("FormItem",{attrs:{label:"部门",prop:"department"}},[t("department-choose",{ref:"dep",staticStyle:{width:"180px"},on:{"on-change":e.handleSelectDep}})],1),e.drop?t("span",[t("FormItem",{attrs:{label:"手机号",prop:"mobile"}},[t("Input",{staticStyle:{width:"180px"},attrs:{type:"text",clearable:"",placeholder:"请输入手机号"},model:{value:e.searchForm.mobile,callback:function(t){e.$set(e.searchForm,"mobile",t)},expression:"searchForm.mobile"}})],1),t("FormItem",{attrs:{label:"邮箱",prop:"email"}},[t("Input",{staticStyle:{width:"180px"},attrs:{type:"text",clearable:"",placeholder:"请输入邮箱"},model:{value:e.searchForm.email,callback:function(t){e.$set(e.searchForm,"email",t)},expression:"searchForm.email"}})],1),t("FormItem",{attrs:{label:"性别",prop:"sex"}},[t("dict",{staticStyle:{width:"180px"},attrs:{dict:"sex"},model:{value:e.searchForm.sex,callback:function(t){e.$set(e.searchForm,"sex",t)},expression:"searchForm.sex"}})],1),t("FormItem",{attrs:{label:"登录账号",prop:"username"}},[t("Input",{staticStyle:{width:"180px"},attrs:{type:"text",clearable:"",placeholder:"请输入登录账号"},model:{value:e.searchForm.username,callback:function(t){e.$set(e.searchForm,"username",t)},expression:"searchForm.username"}})],1),t("FormItem",{attrs:{label:"用户ID",prop:"id"}},[t("Input",{staticStyle:{width:"180px"},attrs:{type:"text",clearable:"",placeholder:"请输入用户ID"},model:{value:e.searchForm.id,callback:function(t){e.$set(e.searchForm,"id",t)},expression:"searchForm.id"}})],1)],1):e._e(),t("FormItem",{staticClass:"br",staticStyle:{"margin-left":"-35px"}},[t("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.handleSearchUser}},[e._v("搜索")]),t("Button",{on:{click:e.handleResetUser}},[e._v("重置")]),t("a",{staticClass:"drop-down",on:{click:e.dropDown}},[e._v(" "+e._s(e.dropDownContent)+" "),t("Icon",{attrs:{type:e.dropDownIcon}})],1)],1)],1),t("Alert",{attrs:{"show-icon":""}},[e._v(" 已选择 "),t("span",{staticClass:"select-count"},[e._v(e._s(e.selectCount))]),e._v(" 项 "),t("a",{staticStyle:{"margin-left":"10px"},on:{click:e.clearData}},[e._v("清空已选")])]),t("Table",{staticStyle:{margin:"2vh 0"},attrs:{loading:e.userLoading,border:"",columns:e.userColumns,data:e.userData}}),t("Row",{attrs:{type:"flex",justify:"end"}},[t("Page",{attrs:{current:e.searchForm.pageNumber,total:e.totalUser,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":"",transfer:!0},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1):e._e()],1)},s=[],n=a("365c"),i=a("2c8a"),r=a("76e2"),o={name:"userSelect",components:{departmentChoose:i["default"],dict:r["default"]},props:{showButton:{type:Boolean,default:!0},text:{type:String,default:"选择用户"},icon:{type:String,default:"md-person-add"},size:String,type:String,shape:String,ghost:{type:Boolean,default:!1},transfer:{type:Boolean,default:!0},drawerTransfer:{type:Boolean,default:!0},placeholder:{type:String,default:"请输入用户名搜索选择用户"},placement:{type:String,default:"bottom-start"},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},notFoundText:{type:String,default:"无匹配数据"},labelInValue:{type:Boolean,default:!1},transferClassName:String,prefix:String,maxTagCount:Number,maxTagPlaceholder:Function,clearable:{type:Boolean,default:!0},maskStyle:Object,className:Object},data(){return{value:null,userList:[],loading:!1,userLoading:!0,userModalVisible:!1,drop:!1,dropDownContent:"展开",dropDownIcon:"ios-arrow-down",selectCount:0,searchForm:{id:"",nickname:"",type:"",status:"",pageNumber:1,pageSize:10,sort:"createTime",order:"desc"},userColumns:[{type:"index",width:60,align:"center"},{title:"用户名",key:"nickname",minWidth:130,sortable:!0},{title:"登录账号",key:"username",minWidth:130,sortable:!0},{title:"头像",key:"avatar",width:80,align:"center",render:(e,t)=>e("Avatar",{props:{src:t.row.avatar}})},{title:"所属部门",key:"departmentTitle",width:120},{title:"手机",key:"mobile",width:125,sortable:!0},{title:"邮箱",key:"email",width:180,sortable:!0},{title:"性别",key:"sex",width:70,align:"center"},{title:"创建时间",key:"createTime",sortable:!0,sortType:"desc",width:170},{title:"操作",key:"action",width:130,align:"center",fixed:"right",render:(e,t)=>{let a="添加用户";return this.multiple||(a="选择用户"),e("div",[e("Button",{props:{type:"default",size:"small"},on:{click:()=>{this.addUser(t.row)}}},a)])}}],userData:[],totalUser:0}},methods:{searchUser(e){e&&(this.loading=!0,Object(n["Fc"])(e).then(e=>{this.loading=!1,e.success&&(this.userList=e.result)}))},handleChange(e){this.$emit("input",e),this.$emit("on-change",e)},handleQueryChange(e){this.$emit("on-query-change",e)},handleClear(){this.$emit("on-clear","")},handleOpenChange(e){this.$emit("on-open-change",e)},handleSelect(e){this.$emit("on-select",e)},setData(e){if(e.length||0==e.length)if(e.length>0){if(!this.multiple)return void this.$Message.warning("单个选择仅支持传入单个用户数据");let t=[],a=[];e.forEach(e=>{t.push(e),a.push(e.id)}),this.userList=t,setTimeout(()=>{this.value=a,this.$emit("input",a),this.selectCount=e.length},10)}else this.multiple?(this.value=[],this.$emit("input",[])):(this.value="",this.$emit("input",""));else{if(this.multiple)return void this.$Message.warning("多个选择仅支持传入用户数组数据");if(!e)return;let t=[e];this.userList=t,setTimeout(()=>{this.value=e.id,this.$emit("input",e.id),this.selectCount=1},10)}},handleSelectDep(e){this.searchForm.departmentId=e},dropDown(){this.drop?(this.dropDownContent="展开",this.dropDownIcon="ios-arrow-down"):(this.dropDownContent="收起",this.dropDownIcon="ios-arrow-up"),this.drop=!this.drop},changePage(e){this.searchForm.pageNumber=e,this.getDataList()},changePageSize(e){this.searchForm.pageSize=e,this.getDataList()},getDataList(){this.userLoading=!0,Object(n["ec"])(this.searchForm).then(e=>{this.userLoading=!1,e.success&&(this.userData=e.result.content,this.totalUser=e.result.totalElements)})},handleSearchUser(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getDataList()},handleResetUser(){this.$refs.searchForm.resetFields(),this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.$refs.dep.clearSelect(),this.searchForm.departmentId="",this.getDataList()},clearData(){this.selectCount=0,this.multiple?(this.value=[],this.$emit("input",[]),this.$emit("on-change",[])):(this.value="",this.$emit("input",""),this.$emit("on-change",""))},addUser(e){if(this.multiple){let t=!0;if(this.value&&this.value.length>0?this.value.forEach(a=>{e.id==a&&(this.$Message.warning("已经添加过啦，请勿重复选择"),t=!1)}):this.value=[],t){let t={id:e.id,username:e.username,nickname:e.nickname},a=!1;this.userList.forEach(t=>{e.id==t.id&&(a=!0)}),a||this.userList.push(t),setTimeout(()=>{this.value.push(e.id),this.$emit("input",this.value),this.$emit("on-change",this.value),this.selectCount=this.value.length},10),this.$Message.success(`添加用户 ${e.nickname} 成功`)}}else this.userList=[{id:e.id,username:e.username,nickname:e.nickname}],setTimeout(()=>{this.value=e.id,this.$emit("input",this.value),this.$emit("on-change",this.value),this.selectCount=1},10),this.$Message.success(`选择用户 ${e.nickname} 成功`)}},mounted(){this.getDataList()}},c=o,u=(a("f03c"),a("2877")),d=Object(u["a"])(c,l,s,!1,null,null,null);t["default"]=d.exports},5231:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return n}));const l=[{title:"事件名",key:"name",width:150},{title:"说明",key:"type",width:300},{title:"返回值",key:"value"}],s=[{title:"属性",key:"name",width:135},{title:"说明",key:"desc"},{title:"类型",key:"type",width:130},{title:"默认值",key:"value"}],n=[{title:"方法名",key:"name",width:150},{title:"说明",key:"type",width:300},{title:"参数",key:"value"}]},"76e2":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",[t("Select",{attrs:{size:e.size,loading:e.loading,placeholder:e.placeholder,multiple:e.multiple,disabled:e.disabled,filterable:e.filterable,transfer:e.transfer,clearable:e.clearable,placement:e.placement,"transfer-class-name":e.transferClassName,prefix:e.prefix,"max-tag-count":e.maxTagCount,"max-tag-placeholder":e.maxTagPlaceholder},on:{"on-change":e.handleChange,"on-query-change":e.handleQueryChange,"on-clear":e.handleClear,"on-open-change":e.handleOpenChange,"on-select":e.handleSelect},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}},e._l(e.dictData,(function(a,l){return t("Option",{key:l,attrs:{value:a.value}},[e._v(e._s(a.title))])})),1)],1)},s=[],n=a("365c"),i={name:"dict",props:{value:"",dict:String,placeholder:{type:String,default:"请选择"},placement:{type:String,default:"bottom-start"},size:String,multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},transfer:{type:Boolean,default:!1},transferClassName:String,prefix:String,maxTagCount:Number,maxTagPlaceholder:Function,clearable:{type:Boolean,default:!0}},data(){return{currentValue:this.value,dictData:[],loading:!1}},methods:{getData(e){this.loading=!0,Object(n["Ab"])(e).then(e=>{this.loading=!1,e.success&&(this.dictData=e.result)})},handleChange(e){this.$emit("input",e),this.$emit("on-change",e)},handleQueryChange(e){this.$emit("on-query-change",e)},handleClear(){this.$emit("on-clear","")},handleOpenChange(e){this.$emit("on-open-change",e)},handleSelect(e){this.$emit("on-select",e)},setCurrentValue(e){e!==this.currentValue&&(this.currentValue=e,this.$emit("on-change",this.currentValue))}},watch:{value(e){this.setCurrentValue(e)},dict(e){this.getData(e)}},mounted(){this.getData(this.dict)}},r=i,o=a("2877"),c=Object(o["a"])(r,l,s,!1,null,null,null);t["default"]=c.exports},"7e6a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("div",[t("Divider",{staticClass:"component-blue",attrs:{orientation:"left"}},[e._v("用户搜索+抽屉选择")]),t("div",{staticStyle:{"font-size":"12px","margin-bottom":"10px"}},[e._v(" 显示按钮 ")]),t("user-select",{ref:"userSelect",staticStyle:{width:"400px",display:"inline-block","margin-right":"10px"},attrs:{multiple:""},model:{value:e.users1,callback:function(t){e.users1=t},expression:"users1"}}),e._v(e._s(e.users1)+" "),t("br"),t("br"),t("div",{staticStyle:{"font-size":"12px","margin-bottom":"10px"}},[e._v(" 不显示按钮 ")]),t("user-select",{ref:"userSelect",staticStyle:{width:"400px",display:"inline-block","margin-right":"10px"},attrs:{multiple:"",showButton:!1},model:{value:e.users2,callback:function(t){e.users2=t},expression:"users2"}}),e._v(e._s(e.users2)+" "),t("br"),t("br"),t("Button",{on:{click:e.setUserData}},[e._v("setData()赋值演示")]),t("h3",{staticClass:"component-article"},[e._v("props")]),t("Table",{attrs:{columns:e.props,data:e.data1,border:"",size:"small",width:"1000"}}),t("h3",{staticClass:"component-article"},[e._v("events")]),t("Table",{attrs:{columns:e.events,data:e.data2,border:"",size:"small",width:"1000"}}),t("h3",{staticClass:"component-article"},[e._v("methods")]),t("Table",{attrs:{columns:e.methods,data:e.data3,border:"",size:"small",width:"1000"}})],1)},s=[],n=a("5231"),i=a("4fdd"),r={components:{userSelect:i["default"]},data(){return{users1:[],users2:[],props:n["c"],events:n["a"],methods:n["b"],data1:[{name:"showButton",desc:"是否显示选择用户按钮",type:"Boolean",value:"true"},{name:"drawerTransfer",desc:"是否将抽屉放置于 body 内",type:"Boolean",value:"true"},{name:"mask-style",desc:'遮罩层样式，可改变遮罩层级，如 :mask-style="{ zIndex: 1003}"',type:"Object",value:"-"},{name:"class-name",desc:'设置抽屉容器 .ivu-drawer-wrap 的类名，可自定义类改变抽屉层级，如 :mask-name="ivu-drawer-wrap-1"',type:"String",value:"-"},{name:"text",desc:"选择用户按钮文字",type:"String",value:"选择用户"},{name:"icon",desc:"选择用户按钮图标",type:"String",value:"md-person-add"},{name:"type",desc:"按钮类型，可选值为 default、primary、dashed、text、info、success、warning、error或者不设置",type:"String",value:"default"},{name:"ghost",desc:"幽灵属性，使按钮背景透明",type:"Boolean",value:"false"},{name:"size",desc:"大小，可选值为large、small、default或者不设置",type:"String",value:"default"},{name:"shape",desc:"按钮形状，可选值为circle或者不设置",type:"String",value:"-"},{name:"placeholder",desc:"选择框默认文字",type:"String",value:"请选择"},{name:"notFoundText",desc:"当下拉列表为空时显示的内容",type:"String",value:"无匹配数据"},{name:"labelInValue",desc:"在返回选项时，是否将 label 和 value 一并返回，默认只返回 value",type:"Boolean",value:"false"},{name:"placement",desc:"弹窗的展开方向，可选值为 top、bottom、top-start、bottom-start、top-end、bottom-end",type:"String",value:"bottom-start"},{name:"multiple",desc:"是否支持多选",type:"Boolean",value:"false"},{name:"disabled",desc:"是否禁用",type:"Boolean",value:"false"},{name:"filterable",desc:"是否支持搜索",type:"Boolean",value:"false"},{name:"transfer",desc:"是否将弹层放置于 body 内，在 Tabs、带有 fixed 的 Table 列内使用时，建议添加此属性，它将不受父级样式影响，从而达到更好的效果",type:"Boolean",value:"false"},{name:"transferClassName",desc:"开启 transfer 时，给浮层添加额外的 class 名称",type:"String",value:"-"},{name:"prefix",desc:"在 Select 内显示图标",type:"String",value:"-"},{name:"maxTagCount",desc:"多选时最多显示多少个 tag",type:"Number",value:"-"},{name:"maxTagPlaceholder",desc:"隐藏 tag 时显示的内容，参数是剩余项数量",type:"Function",value:"-"},{name:"clearable",desc:"是否可以清空选项，只在单选时有效",type:"Boolean",value:"true"}],data2:[{name:"on-change",type:"选中的Option变化时触发，默认返回 value，如需返回 label，详见 label-in-value 属性",value:"当前选中项"},{name:"on-query-change",type:"搜索词改变时触发",value:"query"},{name:"on-clear",type:"点击清空按钮时触发",value:"无"},{name:"on-open-change",type:"下拉框展开或收起时触发",value:"true / false"},{name:"on-select",type:"选择项目时触发",value:"当前选中项"}],data3:[{name:"setData",type:"设置已选用户数据（回显使用）",value:'单个用户对象或用户数组，需包含用户id、nickname和username，例如 [{"id":"1", nickname: "昵称", "username":"账号"}]'},{name:"clearData",type:"清空数据",value:"无"}]}},methods:{setUserData(){this.$refs.userSelect.setData([{id:"682265633886208",nickname:"管理员",username:"admin"}])}},mounted(){}},o=r,c=a("2877"),u=Object(c["a"])(o,l,s,!1,null,null,null);t["default"]=u.exports},f03c:function(e,t,a){"use strict";a("31c5")}}]);