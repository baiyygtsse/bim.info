(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6402c2b0","chunk-2d21802a"],{"0808":function(t,e,i){},"1a23":function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var n=function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=function(){function t(t,e,i){var r=this;this.endVal=e,this.options=i,this.version="2.3.2",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(t){r.startTime||(r.startTime=t);var e=t-r.startTime;r.remaining=r.duration-e,r.useEasing?r.countDown?r.frameVal=r.startVal-r.easingFn(e,0,r.startVal-r.endVal,r.duration):r.frameVal=r.easingFn(e,r.startVal,r.endVal-r.startVal,r.duration):r.frameVal=r.startVal+(r.endVal-r.startVal)*(e/r.duration);var i=r.countDown?r.frameVal<r.endVal:r.frameVal>r.endVal;r.frameVal=i?r.endVal:r.frameVal,r.frameVal=Number(r.frameVal.toFixed(r.options.decimalPlaces)),r.printValue(r.frameVal),e<r.duration?r.rAF=requestAnimationFrame(r.count):null!==r.finalEndVal?r.update(r.finalEndVal):r.callback&&r.callback()},this.formatNumber=function(t){var e,i,n,o,a=t<0?"-":"";e=Math.abs(t).toFixed(r.options.decimalPlaces);var s=(e+="").split(".");if(i=s[0],n=s.length>1?r.options.decimal+s[1]:"",r.options.useGrouping){o="";for(var c=0,h=i.length;c<h;++c)0!==c&&c%3==0&&(o=r.options.separator+o),o=i[h-c-1]+o;i=o}return r.options.numerals&&r.options.numerals.length&&(i=i.replace(/[0-9]/g,(function(t){return r.options.numerals[+t]})),n=n.replace(/[0-9]/g,(function(t){return r.options.numerals[+t]}))),a+r.options.prefix+i+n+r.options.suffix},this.easeOutExpo=function(t,e,i,n){return i*(1-Math.pow(2,-10*t/n))*1024/1023+e},this.options=n(n({},this.defaults),i),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined","undefined"!=typeof window&&this.options.enableScrollSpy&&(this.error?console.error(this.error,t):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push((function(){return r.handleScroll(r)})),window.onscroll=function(){window.onScrollFns.forEach((function(t){return t()}))},this.handleScroll(this)))}return t.prototype.handleScroll=function(t){if(t&&window&&!t.once){var e=window.innerHeight+window.scrollY,i=t.el.getBoundingClientRect(),n=i.top+i.height+window.pageYOffset;n<e&&n>window.scrollY&&t.paused?(t.paused=!1,setTimeout((function(){return t.start()}),t.options.scrollSpyDelay),t.options.scrollSpyOnce&&(t.once=!0)):window.scrollY>n&&!t.paused&&t.reset()}},t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t;var e=t-this.startVal;if(Math.abs(e)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=t;var i=this.countDown?1:-1;this.endVal=t+i*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=t,this.finalEndVal=null;null!==this.finalEndVal?this.useEasing=!1:this.useEasing=this.options.useEasing},t.prototype.start=function(t){this.error||(this.callback=t,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,null==this.finalEndVal&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var e=this.formattingFn(t);"INPUT"===this.el.tagName?this.el.value=e:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=e:this.el.innerHTML=e},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: ".concat(t),null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}()},"21a6":function(t,e,i){(function(i){var n,r,o;(function(i,a){r=[],n=a,o="function"===typeof n?n.apply(e,r):n,void 0===o||(t.exports=o)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,i){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){c(n.response,e,i)},n.onerror=function(){console.error("could not download file")},n.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i&&i.global===i?i:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,e,i){var s=a.URL||a.webkitURL,c=document.createElement("a");e=e||t.name||"download",c.download=e,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?o(c):r(c.href)?n(t,e,i):o(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){o(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,i,a){if(i=i||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,a),i);else if(r(t))n(t,i,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){o(s)}))}}:function(t,e,i,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,i);var o="application/octet-stream"===t.type,c=/constructor/i.test(a.HTMLElement)||a.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent);if((h||o&&c||s)&&"undefined"!=typeof FileReader){var p=new FileReader;p.onloadend=function(){var t=p.result;t=h?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},p.readAsDataURL(t)}else{var l=a.URL||a.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout((function(){l.revokeObjectURL(u)}),4e4)}});a.saveAs=c.saveAs=c,t.exports=c}))}).call(this,i("c8ba"))},"6b74":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("div",[e("Card",{attrs:{id:"html2canvas"}},[e("Layout",[e("Sider",{staticStyle:{background:"#fff","max-width":"220px",flex:"0 0 220px"},attrs:{"hide-trigger":""}},[e("Menu",{attrs:{"active-name":"1-1",theme:"light",width:"auto"},on:{"on-select":function(e){t.currName=e}}},[e("MenuItem",{attrs:{name:"1-1"}},[t._v("工具类")]),e("MenuItem",{attrs:{name:"1-2"}},[t._v("组件类")])],1)],1),e("Content",{style:{padding:"0 0 0 24px",minHeight:"280px",background:"#fff"}},[e("div",{staticClass:"library-content",style:{maxHeight:t.maxHeight}},[e("div",{directives:[{name:"show",rawName:"v-show",value:"1-1"==t.currName,expression:"currName == '1-1'"}],attrs:{id:"printjs"}},[e("Divider",{attrs:{orientation:"left"}},[t._v("打印 - Print.js")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/crabbly/Print.js",target:"_blank"}},[t._v("https://github.com/crabbly/Print.js")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官方文档：")]),e("a",{staticClass:"href-text",attrs:{href:"http://printjs.crabbly.com",target:"_blank"}},[t._v("http://printjs.crabbly.com")]),e("br"),e("Button",{staticClass:"example-btn",on:{click:t.printHtml}},[t._v("打印网页示例(继承样式)")]),e("Button",{staticClass:"example-btn",on:{click:t.printJson}},[t._v("打印Json数据示例")]),e("Divider",{attrs:{orientation:"left"}},[t._v("截屏 - html2canvas")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/niklasvh/html2canvas",target:"_blank"}},[t._v("https://github.com/niklasvh/html2canvas")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官方文档：")]),e("a",{staticClass:"href-text",attrs:{href:"https://html2canvas.hertzen.com",target:"_blank"}},[t._v("https://html2canvas.hertzen.com")]),e("br"),e("Button",{staticClass:"example-btn",on:{click:t.html2canvas}},[t._v("截取网页示例")]),e("Button",{staticClass:"example-btn",on:{click:t.html2canvas2}},[t._v("截取指定内容示例")]),e("Divider",{attrs:{orientation:"left"}},[t._v("打印 + 截屏 实现网页样式不丢失打印")]),e("Button",{staticClass:"example-btn",on:{click:t.html2canvas3}},[t._v("打印原样式网页图片示例")]),e("Divider",{attrs:{orientation:"left"}},[t._v("复制命令 - vue-clipboard2")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/Inndy/vue-clipboard2",target:"_blank"}},[t._v("https://github.com/Inndy/vue-clipboard2")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官方文档：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/Inndy/vue-clipboard2",target:"_blank"}},[t._v("https://github.com/Inndy/vue-clipboard2")]),e("br"),e("Button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.content,expression:"content",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],staticClass:"example-btn"},[t._v("复制文本示例")]),e("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"粘贴测试"}}),e("Divider",{attrs:{orientation:"left"}},[t._v("轻量级时间转换工具 - date-fns")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/date-fns/date-fns",target:"_blank"}},[t._v("https://github.com/date-fns/date-fns")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官方文档：")]),e("a",{staticClass:"href-text",attrs:{href:"https://date-fns.org",target:"_blank"}},[t._v("https://date-fns.org")]),e("br"),e("b",{staticClass:"href-text"},[t._v("已全局挂载 format 方法")]),e("br"),e("span",{staticClass:"href-text"},[t._v("示例："+t._s(t.time))]),e("Divider",{attrs:{orientation:"left"}},[t._v("拖动组件 - Vue.Draggable")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/SortableJS/Vue.Draggable",target:"_blank"}},[t._v("https://github.com/SortableJS/Vue.Draggable")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官网：")]),e("a",{staticClass:"href-text",attrs:{href:"https://sortablejs.github.io/Vue.Draggable/",target:"_blank"}},[t._v("https://sortablejs.github.io/Vue.Draggable/")]),e("br"),e("draggable",{staticClass:"draggable-container",attrs:{animation:200,"ghost-class":"ghost"},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},[e("transition-group",{attrs:{type:"transition",name:"flip-list"}},t._l(t.list,(function(i){return e("li",{key:i.id,staticClass:"list-group-item"},[t._v(" "+t._s(i.name)+" ")])})),0)],1),e("Divider",{attrs:{orientation:"left"}},[t._v("图片懒加载 - vue-lazyload")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/hilongjw/vue-lazyload",target:"_blank"}},[t._v("https://github.com/hilongjw/vue-lazyload")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官网：")]),e("a",{staticClass:"href-text",attrs:{href:"http://hilongjw.github.io/vue-lazyload",target:"_blank"}},[t._v("http://hilongjw.github.io/vue-lazyload")]),e("br"),e("Divider",{attrs:{orientation:"left"}},[t._v("文件保存导出下载 - FileSaver.js")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/eligrey/FileSaver.js",target:"_blank"}},[t._v("https://github.com/eligrey/FileSaver.js")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官网：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/eligrey/FileSaver.js",target:"_blank"}},[t._v("https://github.com/eligrey/FileSaver.js")]),e("br"),e("Input",{staticStyle:{width:"300px",margin:"10px 0"},attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"输入要下载的文件内容"},model:{value:t.downloadContent,callback:function(e){t.downloadContent=e},expression:"downloadContent"}}),e("br"),e("Button",{on:{click:t.download}},[t._v("导出/下载文件")]),e("br")],1),e("div",{directives:[{name:"show",rawName:"v-show",value:"1-2"==t.currName,expression:"currName == '1-2'"}]},[e("Divider",{attrs:{orientation:"left"}},[t._v("省市县级联组件 - iView Area")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/iview/iview-area",target:"_blank"}},[t._v("https://github.com/iview/iview-area")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官方文档：")]),e("a",{staticClass:"href-text",attrs:{href:"https://iview.github.io/iview-area",target:"_blank"}},[t._v("https://iview.github.io/iview-area")]),e("div",{staticClass:"href-text"},[e("br"),t._v("说明：因原项目已长时间未维护，现已自行引入至项目中维护，保持数据最新，已全局挂载 "),e("br"),e("b",[t._v("修复与优化：")]),e("br"),t._v("· 更新省市县数据至最新2021.10，减少1.3MB体积，不再支持街道数据 "),e("br"),t._v('· 修复清空数据设为空数组"[]"无效BUG '),e("br"),e("br")]),e("al-selector",{staticStyle:{width:"500px"},attrs:{level:"2"},model:{value:t.resArr,callback:function(e){t.resArr=e},expression:"resArr"}}),e("br"),t._v(" "+t._s(t.resArr)+" "),e("br"),e("br"),e("al-cascader",{staticStyle:{width:"500px"},model:{value:t.resArr2,callback:function(e){t.resArr2=e},expression:"resArr2"}}),e("br"),t._v(" "+t._s(t.resArr2)+" "),e("Divider",{attrs:{orientation:"left"}},[t._v("数字计数动画 - countUp.js")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/inorganik/countUp.js",target:"_blank"}},[t._v("https://github.com/inorganik/countUp.js")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官方文档：")]),e("a",{staticClass:"href-text",attrs:{href:"https://inorganik.github.io/countUp.js",target:"_blank"}},[t._v("https://inorganik.github.io/countUp.js")]),e("h2",{attrs:{id:"countid"}}),e("Button",{staticStyle:{"margin-top":"10px"},on:{click:t.startCount}},[t._v("开始计数")]),e("br"),e("br"),e("Divider",{attrs:{orientation:"left"}},[t._v("图片裁剪 - vue-cropper")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/xyxiao001/vue-cropper",target:"_blank"}},[t._v("https://github.com/xyxiao001/vue-cropper")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官方文档：")]),e("a",{staticClass:"href-text",attrs:{href:"http://xyxiao.cn/vue-cropper/example",target:"_blank"}},[t._v("http://xyxiao.cn/vue-cropper/example")]),e("br"),e("br"),e("vueCropper",{ref:"cropper",staticStyle:{height:"300px",width:"500px"},attrs:{img:t.option.img,outputType:t.option.outputType,autoCrop:""},on:{realTime:t.realTime}}),e("br"),e("div",{style:t.previewStyle},[e("div",{style:t.previews.div},[e("img",{style:t.previews.img,attrs:{src:t.previews.url}})])]),e("br"),e("Alert",{staticStyle:{width:"500px"},attrs:{type:"warning","show-icon":""}},[t._v("base64上传，上传接口传入参数base64即可")]),e("Button",{attrs:{type:"primary",loading:t.uploadLoading,icon:"ios-cloud-upload-outline"},on:{click:t.upload}},[t._v("上传裁剪后的图片")]),e("Divider",{attrs:{orientation:"left"}},[t._v("图片预览 - viewerjs")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/fengyuanchen/viewerjs",target:"_blank"}},[t._v("https://github.com/fengyuanchen/viewerjs")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官方文档：")]),e("a",{staticClass:"href-text",attrs:{href:"https://fengyuanchen.github.io/viewerjs/",target:"_blank"}},[t._v("https://fengyuanchen.github.io/viewerjs")]),e("br"),e("br"),e("div",{attrs:{id:"image"}},[e("img",{staticStyle:{cursor:"zoom-in","margin-right":"10px"},attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/iXjVmWVHbCJAyqvDxdtx.png",width:"200px"}}),e("img",{staticStyle:{cursor:"zoom-in"},attrs:{src:"https://gw.alipayobjects.com/zos/rmsportal/iZBVOIhGJiAnhplqjvZW.png",width:"200px"}})]),e("Divider",{attrs:{orientation:"left"}},[t._v("弹幕视频播放器 - DPlayer")]),e("span",{staticClass:"href-text"},[t._v("Github：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/MoePlayer/DPlayer",target:"_blank"}},[t._v("https://github.com/MoePlayer/DPlayer")]),e("br"),e("span",{staticClass:"href-text"},[t._v("官方文档：")]),e("a",{staticClass:"href-text",attrs:{href:"http://dplayer.js.org",target:"_blank"}},[t._v("http://dplayer.js.org")]),e("br"),e("span",{staticClass:"href-text"},[t._v("自己搭建弹幕服务：")]),e("a",{staticClass:"href-text",attrs:{href:"https://github.com/MoePlayer/DPlayer-node",target:"_blank"}},[t._v("https://github.com/MoePlayer/DPlayer-node")]),e("br"),e("br"),e("div",{staticStyle:{width:"600px",height:"400px"},attrs:{id:"dplayer-library"}})],1)])])],1)],1),e("Modal",{attrs:{title:"截屏预览",width:1e3},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[e("img",{staticStyle:{"object-fit":"fill"},attrs:{id:"render",src:t.imgUrl,width:"100%",height:"500px"}}),e("div",{attrs:{slot:"footer"},slot:"footer"},[t.showPrintImage?e("Button",{attrs:{type:"primary"},on:{click:t.printPic}},[t._v("打印图片")]):t._e(),e("Button",{on:{click:function(e){t.modalVisible=!1}}},[t._v("关闭")])],1)])],1)},r=[],o=(i("0808"),i("6a37")),a=i.n(o),s=i("7e79d"),c=i("e351"),h=i.n(c),p=i("f230"),l=i.n(p),u=i("c06d"),d=i.n(u),f=i("365c"),g=i("289a"),m=i.n(g),v=i("21a6"),w=i.n(v),b=i("1a23"),x={name:"xboot-library",components:{VueCropper:s["VueCropper"],draggable:m.a},data(){return{maxHeight:510,count:{},currName:"1-1",resArr:[],resArr2:[],modalVisible:!1,imgUrl:"",showPrintImage:!1,content:"测试文本内容",time:"",data:[{id:"1",name:"XBoot",createTime:"2018-08-08 00:08:00",updateTime:"2018-08-08 00:08:00"},{id:"2",name:"Exrick",createTime:"2018-08-08 00:08:00",updateTime:"2018-08-08 00:08:00"}],option:{img:"https://ooo.0o0.ooo/2019/03/12/5c87521fb8ae9.jpeg",outputType:"png"},previews:"",previewStyle:{},uploadLoading:!1,list:[{name:"A",id:0},{name:"B",id:1},{name:"C",id:2}],downloadContent:"文件内容"}},methods:{init(){this.time=this.format(new Date,"yyyy-MM-dd"),this.initVideo(),new a.a(document.getElementById("image"))},startCount(){this.count=new b["a"]("countid",123456,{}),this.count.error||this.count.start()},printHtml(){h()({printable:"printjs",type:"html",targetStyles:["*"]})},printJson(){h()({printable:this.data,header:"用户数据",gridStyle:"border: 1px solid lightgray;text-align:center",properties:["id","name","createTime","updateTime"],type:"json"})},html2canvas(){let t=this;l()(document.body).then((function(e){t.imgUrl=e.toDataURL("image/jpeg")})),this.modalVisible=!0,this.showPrintImage=!1},html2canvas2(){let t=this;l()(document.getElementById("html2canvas")).then((function(e){t.imgUrl=e.toDataURL("image/jpeg")})),this.modalVisible=!0,this.showPrintImage=!1},html2canvas3(){let t=this;l()(document.body).then((function(e){t.imgUrl=e.toDataURL("image/jpeg")})),this.modalVisible=!0,this.showPrintImage=!0},printPic(){h()({printable:"render",type:"html",maxWidth:"100%"})},onCopy(){this.$Message.success("复制成功")},onError(){this.$Message.warning("复制失败，请手动复制")},click(t){this.$Message.info("点击数据ID为："+t.id)},initVideo(t){new d.a({container:document.getElementById("dplayer-library"),screenshot:!0,video:{url:"https://cloud.video.taobao.com//play/u/95292294/p/1/e/6/t/1/210877258798.mp4"}})},realTime(t){let e=t,i=.5;this.previewStyle={width:e.w+"px",height:e.h+"px",overflow:"hidden",margin:"0",zoom:i},this.previews=t},upload(){!this.$route.meta.permTypes||this.$route.meta.permTypes.includes("upload")?this.$refs.cropper.getCropData(t=>{this.uploadLoading=!0,Object(f["n"])({base64:t}).then(t=>{this.uploadLoading=!1,t.success&&this.$Message.success("上传成功")})}):this.$Message.error("您此处没有上传权限")},download(){var t=new Blob([this.downloadContent],{type:"text/plain;charset=utf-8"});w.a.saveAs(t,"文件.txt")}},mounted(){this.init(),this.maxHeight=Number(document.documentElement.clientHeight-160)+"px"}},y=x,C=(i("f3b8"),i("2877")),_=Object(C["a"])(y,n,r,!1,null,"59a5a75d",null);e["default"]=_.exports},"7e79d":function(t,e,i){!function(e,i){t.exports=i()}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(t,e,i){var n=i(2);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(4)(n,r),n.locals&&(t.exports=n.locals)},function(t,e,i){"use strict";var n=i(0);i.n(n).a},function(t,e,i){(t.exports=i(3)(!1)).push([t.i,'\n.vue-cropper[data-v-6dae58fd] {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  direction: ltr;\n  touch-action: none;\n  text-align: left;\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC");\n}\n.cropper-box[data-v-6dae58fd],\n.cropper-box-canvas[data-v-6dae58fd],\n.cropper-drag-box[data-v-6dae58fd],\n.cropper-crop-box[data-v-6dae58fd],\n.cropper-face[data-v-6dae58fd] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  user-select: none;\n}\n.cropper-box-canvas img[data-v-6dae58fd] {\n  position: relative;\n  text-align: left;\n  user-select: none;\n  transform: none;\n  max-width: none;\n  max-height: none;\n}\n.cropper-box[data-v-6dae58fd] {\n  overflow: hidden;\n}\n.cropper-move[data-v-6dae58fd] {\n  cursor: move;\n}\n.cropper-crop[data-v-6dae58fd] {\n  cursor: crosshair;\n}\n.cropper-modal[data-v-6dae58fd] {\n  background: rgba(0, 0, 0, 0.5);\n}\n.cropper-crop-box[data-v-6dae58fd] {\n  /*border: 2px solid #39f;*/\n}\n.cropper-view-box[data-v-6dae58fd] {\n  display: block;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n  user-select: none;\n}\n.cropper-view-box img[data-v-6dae58fd] {\n  user-select: none;\n  text-align: left;\n  max-width: none;\n  max-height: none;\n}\n.cropper-face[data-v-6dae58fd] {\n  top: 0;\n  left: 0;\n  background-color: #fff;\n  opacity: 0.1;\n}\n.crop-info[data-v-6dae58fd] {\n  position: absolute;\n  left: 0px;\n  min-width: 65px;\n  text-align: center;\n  color: white;\n  line-height: 20px;\n  background-color: rgba(0, 0, 0, 0.8);\n  font-size: 12px;\n}\n.crop-line[data-v-6dae58fd] {\n  position: absolute;\n  display: block;\n  width: 100%;\n  height: 100%;\n  opacity: 0.1;\n}\n.line-w[data-v-6dae58fd] {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize;\n}\n.line-a[data-v-6dae58fd] {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize;\n}\n.line-s[data-v-6dae58fd] {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize;\n}\n.line-d[data-v-6dae58fd] {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize;\n}\n.crop-point[data-v-6dae58fd] {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  opacity: 0.75;\n  background-color: #39f;\n  border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n  top: -4px;\n  left: -4px;\n  cursor: nw-resize;\n}\n.point2[data-v-6dae58fd] {\n  top: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize;\n}\n.point3[data-v-6dae58fd] {\n  top: -4px;\n  right: -4px;\n  cursor: ne-resize;\n}\n.point4[data-v-6dae58fd] {\n  top: 50%;\n  left: -4px;\n  margin-top: -3px;\n  cursor: w-resize;\n}\n.point5[data-v-6dae58fd] {\n  top: 50%;\n  right: -4px;\n  margin-top: -3px;\n  cursor: e-resize;\n}\n.point6[data-v-6dae58fd] {\n  bottom: -5px;\n  left: -4px;\n  cursor: sw-resize;\n}\n.point7[data-v-6dae58fd] {\n  bottom: -5px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize;\n}\n.point8[data-v-6dae58fd] {\n  bottom: -5px;\n  right: -4px;\n  cursor: se-resize;\n}\n@media screen and (max-width: 500px) {\n.crop-point[data-v-6dae58fd] {\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    opacity: 0.45;\n    background-color: #39f;\n    border-radius: 100%;\n}\n.point1[data-v-6dae58fd] {\n    top: -10px;\n    left: -10px;\n}\n.point2[data-v-6dae58fd],\n  .point4[data-v-6dae58fd],\n  .point5[data-v-6dae58fd],\n  .point7[data-v-6dae58fd] {\n    display: none;\n}\n.point3[data-v-6dae58fd] {\n    top: -10px;\n    right: -10px;\n}\n.point4[data-v-6dae58fd] {\n    top: 0;\n    left: 0;\n}\n.point6[data-v-6dae58fd] {\n    bottom: -10px;\n    left: -10px;\n}\n.point8[data-v-6dae58fd] {\n    bottom: -10px;\n    right: -10px;\n}\n}\n',""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var r=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n),o=n.sources.map((function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"}));return[i].concat(o).concat([r]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(t,e,i){var n={},r=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}((function(){return window&&document&&document.all&&!window.atob})),o=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),a=null,s=0,c=[],h=i(5);function p(t,e){for(var i=0;i<t.length;i++){var r=t[i],o=n[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(m(r.parts[a],e))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(m(r.parts[a],e));n[r.id]={id:r.id,refs:1,parts:s}}}}function l(t,e){for(var i=[],n={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):i.push(n[a]={id:a,parts:[s]})}return i}function u(t,e){var i=o(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),c.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=o(t.insertAt.before,i);i.insertBefore(e,r)}}function d(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function f(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){return i.nc}();n&&(t.attrs.nonce=n)}return g(e,t.attrs),u(t,e),e}function g(t,e){Object.keys(e).forEach((function(i){t.setAttribute(i,e[i])}))}function m(t,e){var i,n,r,o;if(e.transform&&t.css){if(!(o="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=o}if(e.singleton){var c=s++;i=a||(a=f(e)),n=w.bind(null,i,c,!1),r=w.bind(null,i,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),u(t,e),e}(e),n=function(t,e,i){var n=i.css,r=i.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(n=h(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,i,e),r=function(){d(i),i.href&&URL.revokeObjectURL(i.href)}):(i=f(e),n=function(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),r=function(){d(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=l(t,e);return p(i,e),function(t){for(var r=[],o=0;o<i.length;o++){var a=i[o];(s=n[a.id]).refs--,r.push(s)}for(t&&p(l(t,e),e),o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete n[s.id]}}}};var v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}();function w(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"cropper",staticClass:"vue-cropper",on:{mouseover:t.scaleImg,mouseout:t.cancelScale}},[t.imgs?i("div",{staticClass:"cropper-box"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+t.x/t.scale+"px,"+t.y/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"}},[i("img",{ref:"cropperImg",attrs:{src:t.imgs,alt:"cropper-img"}})])]):t._e(),t._v(" "),i("div",{staticClass:"cropper-drag-box",class:{"cropper-move":t.move&&!t.crop,"cropper-crop":t.crop,"cropper-modal":t.cropping},on:{mousedown:t.startMove,touchstart:t.startMove}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:t.cropW+"px",height:t.cropH+"px",transform:"translate3d("+t.cropOffsertX+"px,"+t.cropOffsertY+"px,0)"}},[i("span",{staticClass:"cropper-view-box"},[i("img",{style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+(t.x-t.cropOffsertX)/t.scale+"px,"+(t.y-t.cropOffsertY)/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"},attrs:{src:t.imgs,alt:"cropper-img"}})]),t._v(" "),i("span",{staticClass:"cropper-face cropper-move",on:{mousedown:t.cropMove,touchstart:t.cropMove}}),t._v(" "),t.info?i("span",{staticClass:"crop-info",style:{top:t.cropInfo.top}},[t._v(t._s(t.cropInfo.width)+" × "+t._s(t.cropInfo.height))]):t._e(),t._v(" "),t.fixedBox?t._e():i("span",[i("span",{staticClass:"crop-line line-w",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),i("span",{staticClass:"crop-line line-a",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),i("span",{staticClass:"crop-line line-s",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),i("span",{staticClass:"crop-line line-d",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),i("span",{staticClass:"crop-point point1",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,1,1)},touchstart:function(e){t.changeCropSize(e,!0,!0,1,1)}}}),t._v(" "),i("span",{staticClass:"crop-point point2",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),i("span",{staticClass:"crop-point point3",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,2,1)},touchstart:function(e){t.changeCropSize(e,!0,!0,2,1)}}}),t._v(" "),i("span",{staticClass:"crop-point point4",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),i("span",{staticClass:"crop-point point5",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),i("span",{staticClass:"crop-point point6",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,1,2)},touchstart:function(e){t.changeCropSize(e,!0,!0,1,2)}}}),t._v(" "),i("span",{staticClass:"crop-point point7",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),i("span",{staticClass:"crop-point point8",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,2,2)},touchstart:function(e){t.changeCropSize(e,!0,!0,2,2)}}})])])])};n._withStripped=!0;var r={getData:function(t){return new Promise((function(e,i){var n={};(function(t){var e=null;return new Promise((function(i,n){if(t.src)if(/^data\:/i.test(t.src))e=function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),i=e.length,n=new ArrayBuffer(i),r=new Uint8Array(n),o=0;o<i;o++)r[o]=e.charCodeAt(o);return n}(t.src),i(e);else if(/^blob\:/i.test(t.src)){var r=new FileReader;r.onload=function(t){e=t.target.result,i(e)},function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(t){200!=this.status&&0!==this.status||e(this.response)},i.send()}(t.src,(function(t){r.readAsArrayBuffer(t)}))}else{var o=new XMLHttpRequest;o.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";e=o.response,i(e),o=null},o.open("GET",t.src,!0),o.responseType="arraybuffer",o.send(null)}else n("img error")}))})(t).then((function(t){n.arrayBuffer=t,n.orientation=function(t){var e,i,n,r,o,a,s,c,h,p=new DataView(t),l=p.byteLength;if(255===p.getUint8(0)&&216===p.getUint8(1))for(c=2;c<l;){if(255===p.getUint8(c)&&225===p.getUint8(c+1)){a=c;break}c++}if(a&&(i=a+10,"Exif"===function(t,e,i){var n,r="";for(n=e,i+=e;n<i;n++)r+=String.fromCharCode(t.getUint8(n));return r}(p,a+4,4)&&(o=p.getUint16(i),((r=18761===o)||19789===o)&&42===p.getUint16(i+2,r)&&(n=p.getUint32(i+4,r))>=8&&(s=i+n))),s)for(l=p.getUint16(s,r),h=0;h<l;h++)if(c=s+12*h+2,274===p.getUint16(c,r)){c+=8,e=p.getUint16(c,r);break}return e}(t),e(n)})).catch((function(t){i(t)}))}))}},o=r,a={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0,isIos:!1,orientation:0,imgs:"",coe:.2,scaling:!1,scalingSet:"",coeStatus:"",isCanShow:!0}},props:{img:{type:[String,Blob,null,File],default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:[Number,String],default:0},autoCropHeight:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}},fixedBox:{type:Boolean,default:!1},full:{type:Boolean,default:!1},canMove:{type:Boolean,default:!0},canMoveBox:{type:Boolean,default:!0},original:{type:Boolean,default:!1},centerBox:{type:Boolean,default:!1},high:{type:Boolean,default:!0},infoTrue:{type:Boolean,default:!1},maxImgSize:{type:[Number,String],default:2e3},enlarge:{type:[Number,String],default:1},preW:{type:[Number,String],default:0},mode:{type:String,default:"contain"},limitMinSize:{type:[Number,Array,String],default:function(){return 10}}},computed:{cropInfo:function(){var t={};if(t.top=this.cropOffsertY>21?"-21px":"0px",t.width=this.cropW>0?this.cropW:0,t.height=this.cropH>0?this.cropH:0,this.infoTrue){var e=1;this.high&&!this.full&&(e=window.devicePixelRatio),1!==this.enlarge&!this.full&&(e=Math.abs(Number(this.enlarge))),t.width=t.width*e,t.height=t.height*e,this.full&&(t.width=t.width/this.scale,t.height=t.height/this.scale)}return t.width=t.width.toFixed(0),t.height=t.height.toFixed(0),t},isIE:function(){navigator.userAgent;var t=!!window.ActiveXObject||"ActiveXObject"in window;return t},passive:function(){return this.isIE?null:{passive:!1}}},watch:{img:function(){this.checkedImg()},imgs:function(t){""!==t&&this.reload()},cropW:function(){this.showPreview()},cropH:function(){this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(t,e){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},autoCrop:function(t){t&&this.goAutoCrop()},autoCropWidth:function(){this.autoCrop&&this.goAutoCrop()},autoCropHeight:function(){this.autoCrop&&this.goAutoCrop()},mode:function(){this.checkedImg()},rotate:function(){this.showPreview(),(this.autoCrop||this.cropW>0||this.cropH>0)&&this.goAutoCrop(this.cropW,this.cropH)}},methods:{getVersion:function(t){for(var e=navigator.userAgent.split(" "),i="",n=new RegExp(t,"i"),r=0;r<e.length;r++)n.test(e[r])&&(i=e[r]);return i?i.split("/")[1].split("."):["0","0","0"]},checkOrientationImage:function(t,e,i,n){var r=this;if(this.getVersion("chrome")[0]>=81)e=-1;else if(this.getVersion("safari")[0]>=605){var o=this.getVersion("version");o[0]>13&&o[1]>1&&(e=-1)}else{var a=navigator.userAgent.toLowerCase().match(/cpu iphone os (.*?) like mac os/);if(a){var s=a[1];((s=s.split("_"))[0]>13||s[0]>=13&&s[1]>=4)&&(e=-1)}}var c=document.createElement("canvas"),h=c.getContext("2d");switch(h.save(),e){case 2:c.width=i,c.height=n,h.translate(i,0),h.scale(-1,1);break;case 3:c.width=i,c.height=n,h.translate(i/2,n/2),h.rotate(180*Math.PI/180),h.translate(-i/2,-n/2);break;case 4:c.width=i,c.height=n,h.translate(0,n),h.scale(1,-1);break;case 5:c.height=i,c.width=n,h.rotate(.5*Math.PI),h.scale(1,-1);break;case 6:c.width=n,c.height=i,h.translate(n/2,i/2),h.rotate(90*Math.PI/180),h.translate(-i/2,-n/2);break;case 7:c.height=i,c.width=n,h.rotate(.5*Math.PI),h.translate(i,-n),h.scale(-1,1);break;case 8:c.height=i,c.width=n,h.translate(n/2,i/2),h.rotate(-90*Math.PI/180),h.translate(-i/2,-n/2);break;default:c.width=i,c.height=n}h.drawImage(t,0,0,i,n),h.restore(),c.toBlob((function(t){var e=URL.createObjectURL(t);URL.revokeObjectURL(r.imgs),r.imgs=e}),"image/"+this.outputType,1)},checkedImg:function(){var t=this;if(null===this.img||""===this.img)return this.imgs="",void this.clearCrop();this.loading=!0,this.scale=1,this.rotate=0,this.clearCrop();var e=new Image;if(e.onload=function(){if(""===t.img)return t.$emit("imgLoad","error"),t.$emit("img-load","error"),!1;var i=e.width,n=e.height;o.getData(e).then((function(r){t.orientation=r.orientation||1;var o=Number(t.maxImgSize);!t.orientation&&i<o&n<o?t.imgs=t.img:(i>o&&(n=n/i*o,i=o),n>o&&(i=i/n*o,n=o),t.checkOrientationImage(e,t.orientation,i,n))}))},e.onerror=function(){t.$emit("imgLoad","error"),t.$emit("img-load","error")},"data"!==this.img.substr(0,4)&&(e.crossOrigin=""),this.isIE){var i=new XMLHttpRequest;i.onload=function(){var t=URL.createObjectURL(this.response);e.src=t},i.open("GET",this.img,!0),i.responseType="blob",i.send()}else e.src=this.img},startMove:function(t){if(t.preventDefault(),this.move&&!this.crop){if(!this.canMove)return!1;this.moveX=("clientX"in t?t.clientX:t.touches[0].clientX)-this.x,this.moveY=("clientY"in t?t.clientY:t.touches[0].clientY)-this.y,t.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==t.touches.length&&(this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg)),this.$emit("imgMoving",{moving:!0,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!0,axis:this.getImgAxis()})}else this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=t.offsetX?t.offsetX:t.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=t.offsetY?t.offsetY:t.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX="clientX"in t?t.clientX:t.touches[0].clientX,this.cropY="clientY"in t?t.clientY:t.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0},touchScale:function(t){var e=this;t.preventDefault();var i=this.scale,n=this.touches[0].clientX,r=this.touches[0].clientY,o=t.touches[0].clientX,a=t.touches[0].clientY,s=this.touches[1].clientX,c=this.touches[1].clientY,h=t.touches[1].clientX,p=t.touches[1].clientY,l=Math.sqrt(Math.pow(n-s,2)+Math.pow(r-c,2)),u=Math.sqrt(Math.pow(o-h,2)+Math.pow(a-p,2))-l,d=1,f=(d=(d=d/this.trueWidth>d/this.trueHeight?d/this.trueHeight:d/this.trueWidth)>.1?.1:d)*u;if(!this.touchNow){if(this.touchNow=!0,u>0?i+=Math.abs(f):u<0&&i>Math.abs(f)&&(i-=Math.abs(f)),this.touches=t.touches,setTimeout((function(){e.touchNow=!1}),8),!this.checkoutImgAxis(this.x,this.y,i))return!1;this.scale=i}},cancelTouchScale:function(t){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(t){var e=this;if(t.preventDefault(),t.touches&&2===t.touches.length)return this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancelTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var i,n,r="clientX"in t?t.clientX:t.touches[0].clientX,o="clientY"in t?t.clientY:t.touches[0].clientY;i=r-this.moveX,n=o-this.moveY,this.$nextTick((function(){if(e.centerBox){var t,r,o,a,s=e.getImgAxis(i,n,e.scale),c=e.getCropAxis(),h=e.trueHeight*e.scale,p=e.trueWidth*e.scale;switch(e.rotate){case 1:case-1:case 3:case-3:t=e.cropOffsertX-e.trueWidth*(1-e.scale)/2+(h-p)/2,r=e.cropOffsertY-e.trueHeight*(1-e.scale)/2+(p-h)/2,o=t-h+e.cropW,a=r-p+e.cropH;break;default:t=e.cropOffsertX-e.trueWidth*(1-e.scale)/2,r=e.cropOffsertY-e.trueHeight*(1-e.scale)/2,o=t-p+e.cropW,a=r-h+e.cropH}s.x1>=c.x1&&(i=t),s.y1>=c.y1&&(n=r),s.x2<=c.x2&&(i=o),s.y2<=c.y2&&(n=a)}e.x=i,e.y=n,e.$emit("imgMoving",{moving:!0,axis:e.getImgAxis()}),e.$emit("img-moving",{moving:!0,axis:e.getImgAxis()})}))},leaveImg:function(t){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg),this.$emit("imgMoving",{moving:!1,axis:this.getImgAxis()}),this.$emit("img-moving",{moving:!1,axis:this.getImgAxis()})},scaleImg:function(){this.canScale&&window.addEventListener(this.support,this.changeSize,this.passive)},cancelScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(t){var e=this;t.preventDefault();var i=this.scale,n=t.deltaY||t.wheelDelta;n=navigator.userAgent.indexOf("Firefox")>0?30*n:n,this.isIE&&(n=-n);var r=this.coe,o=(r=r/this.trueWidth>r/this.trueHeight?r/this.trueHeight:r/this.trueWidth)*n;o<0?i+=Math.abs(o):i>Math.abs(o)&&(i-=Math.abs(o));var a=o<0?"add":"reduce";if(a!==this.coeStatus&&(this.coeStatus=a,this.coe=.2),this.scaling||(this.scalingSet=setTimeout((function(){e.scaling=!1,e.coe=e.coe+=.01}),50)),this.scaling=!0,!this.checkoutImgAxis(this.x,this.y,i))return!1;this.scale=i},changeScale:function(t){var e=this.scale;t=t||1;var i=20;if((t*=i=i/this.trueWidth>i/this.trueHeight?i/this.trueHeight:i/this.trueWidth)>0?e+=Math.abs(t):e>Math.abs(t)&&(e-=Math.abs(t)),!this.checkoutImgAxis(this.x,this.y,e))return!1;this.scale=e},createCrop:function(t){var e=this;t.preventDefault();var i="clientX"in t?t.clientX:t.touches?t.touches[0].clientX:0,n="clientY"in t?t.clientY:t.touches?t.touches[0].clientY:0;this.$nextTick((function(){var t=i-e.cropX,r=n-e.cropY;if(t>0?(e.cropW=t+e.cropChangeX>e.w?e.w-e.cropChangeX:t,e.cropOffsertX=e.cropChangeX):(e.cropW=e.w-e.cropChangeX+Math.abs(t)>e.w?e.cropChangeX:Math.abs(t),e.cropOffsertX=e.cropChangeX+t>0?e.cropChangeX+t:0),e.fixed){var o=e.cropW/e.fixedNumber[0]*e.fixedNumber[1];o+e.cropOffsertY>e.h?(e.cropH=e.h-e.cropOffsertY,e.cropW=e.cropH/e.fixedNumber[1]*e.fixedNumber[0],e.cropOffsertX=t>0?e.cropChangeX:e.cropChangeX-e.cropW):e.cropH=o,e.cropOffsertY=e.cropOffsertY}else r>0?(e.cropH=r+e.cropChangeY>e.h?e.h-e.cropChangeY:r,e.cropOffsertY=e.cropChangeY):(e.cropH=e.h-e.cropChangeY+Math.abs(r)>e.h?e.cropChangeY:Math.abs(r),e.cropOffsertY=e.cropChangeY+r>0?e.cropChangeY+r:0)}))},changeCropSize:function(t,e,i,n,r){t.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=e,this.canChangeY=i,this.changeCropTypeX=n,this.changeCropTypeY=r,this.cropX="clientX"in t?t.clientX:t.touches[0].clientX,this.cropY="clientY"in t?t.clientY:t.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0),this.$emit("change-crop-size",{width:this.cropW,height:this.cropH})},changeCropNow:function(t){var e=this;t.preventDefault();var i="clientX"in t?t.clientX:t.touches?t.touches[0].clientX:0,n="clientY"in t?t.clientY:t.touches?t.touches[0].clientY:0,r=this.w,o=this.h,a=0,s=0;if(this.centerBox){var c=this.getImgAxis(),h=c.x2,p=c.y2;a=c.x1>0?c.x1:0,s=c.y1>0?c.y1:0,r>h&&(r=h),o>p&&(o=p)}this.$nextTick((function(){var t=i-e.cropX,c=n-e.cropY;if(e.canChangeX&&(1===e.changeCropTypeX?e.cropOldW-t>0?(e.cropW=r-e.cropChangeX-t<=r-a?e.cropOldW-t:e.cropOldW+e.cropChangeX-a,e.cropOffsertX=r-e.cropChangeX-t<=r-a?e.cropChangeX+t:a):(e.cropW=Math.abs(t)+e.cropChangeX<=r?Math.abs(t)-e.cropOldW:r-e.cropOldW-e.cropChangeX,e.cropOffsertX=e.cropChangeX+e.cropOldW):2===e.changeCropTypeX&&(e.cropOldW+t>0?(e.cropW=e.cropOldW+t+e.cropOffsertX<=r?e.cropOldW+t:r-e.cropOffsertX,e.cropOffsertX=e.cropChangeX):(e.cropW=r-e.cropChangeX+Math.abs(t+e.cropOldW)<=r-a?Math.abs(t+e.cropOldW):e.cropChangeX-a,e.cropOffsertX=r-e.cropChangeX+Math.abs(t+e.cropOldW)<=r-a?e.cropChangeX-Math.abs(t+e.cropOldW):a))),e.canChangeY&&(1===e.changeCropTypeY?e.cropOldH-c>0?(e.cropH=o-e.cropChangeY-c<=o-s?e.cropOldH-c:e.cropOldH+e.cropChangeY-s,e.cropOffsertY=o-e.cropChangeY-c<=o-s?e.cropChangeY+c:s):(e.cropH=Math.abs(c)+e.cropChangeY<=o?Math.abs(c)-e.cropOldH:o-e.cropOldH-e.cropChangeY,e.cropOffsertY=e.cropChangeY+e.cropOldH):2===e.changeCropTypeY&&(e.cropOldH+c>0?(e.cropH=e.cropOldH+c+e.cropOffsertY<=o?e.cropOldH+c:o-e.cropOffsertY,e.cropOffsertY=e.cropChangeY):(e.cropH=o-e.cropChangeY+Math.abs(c+e.cropOldH)<=o-s?Math.abs(c+e.cropOldH):e.cropChangeY-s,e.cropOffsertY=o-e.cropChangeY+Math.abs(c+e.cropOldH)<=o-s?e.cropChangeY-Math.abs(c+e.cropOldH):s))),e.canChangeX&&e.fixed){var h=e.cropW/e.fixedNumber[0]*e.fixedNumber[1];h+e.cropOffsertY>o?(e.cropH=o-e.cropOffsertY,e.cropW=e.cropH/e.fixedNumber[1]*e.fixedNumber[0]):e.cropH=h}if(e.canChangeY&&e.fixed){var p=e.cropH/e.fixedNumber[1]*e.fixedNumber[0];p+e.cropOffsertX>r?(e.cropW=r-e.cropOffsertX,e.cropH=e.cropW/e.fixedNumber[0]*e.fixedNumber[1]):e.cropW=p}e.$emit("crop-sizing",{cropW:e.cropW,cropH:e.cropH})}))},checkCropLimitSize:function(){this.cropW,this.cropH;var t=this.limitMinSize,e=new Array;return e=Array.isArray[t]?t:[t,t],[parseFloat(e[0]),parseFloat(e[1])]},changeCropEnd:function(t){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(t){if(t.preventDefault(),!this.canMoveBox)return this.crop=!1,this.startMove(t),!1;if(t.touches&&2===t.touches.length)return this.crop=!1,this.startMove(t),this.leaveCrop(),!1;window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop);var e,i,n="clientX"in t?t.clientX:t.touches[0].clientX,r="clientY"in t?t.clientY:t.touches[0].clientY;e=n-this.cropOffsertX,i=r-this.cropOffsertY,this.cropX=e,this.cropY=i,this.$emit("cropMoving",{moving:!0,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!0,axis:this.getCropAxis()})},moveCrop:function(t,e){var i=this,n=0,r=0;t&&(t.preventDefault(),n="clientX"in t?t.clientX:t.touches[0].clientX,r="clientY"in t?t.clientY:t.touches[0].clientY),this.$nextTick((function(){var t,o,a=n-i.cropX,s=r-i.cropY;if(e&&(a=i.cropOffsertX,s=i.cropOffsertY),t=a<=0?0:a+i.cropW>i.w?i.w-i.cropW:a,o=s<=0?0:s+i.cropH>i.h?i.h-i.cropH:s,i.centerBox){var c=i.getImgAxis();t<=c.x1&&(t=c.x1),t+i.cropW>c.x2&&(t=c.x2-i.cropW),o<=c.y1&&(o=c.y1),o+i.cropH>c.y2&&(o=c.y2-i.cropH)}i.cropOffsertX=t,i.cropOffsertY=o,i.$emit("cropMoving",{moving:!0,axis:i.getCropAxis()}),i.$emit("crop-moving",{moving:!0,axis:i.getCropAxis()})}))},getImgAxis:function(t,e,i){t=t||this.x,e=e||this.y,i=i||this.scale;var n={x1:0,x2:0,y1:0,y2:0},r=this.trueWidth*i,o=this.trueHeight*i;switch(this.rotate){case 0:n.x1=t+this.trueWidth*(1-i)/2,n.x2=n.x1+this.trueWidth*i,n.y1=e+this.trueHeight*(1-i)/2,n.y2=n.y1+this.trueHeight*i;break;case 1:case-1:case 3:case-3:n.x1=t+this.trueWidth*(1-i)/2+(r-o)/2,n.x2=n.x1+this.trueHeight*i,n.y1=e+this.trueHeight*(1-i)/2+(o-r)/2,n.y2=n.y1+this.trueWidth*i;break;default:n.x1=t+this.trueWidth*(1-i)/2,n.x2=n.x1+this.trueWidth*i,n.y1=e+this.trueHeight*(1-i)/2,n.y2=n.y1+this.trueHeight*i}return n},getCropAxis:function(){var t={x1:0,x2:0,y1:0,y2:0};return t.x1=this.cropOffsertX,t.x2=t.x1+this.cropW,t.y1=this.cropOffsertY,t.y2=t.y1+this.cropH,t},leaveCrop:function(t){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.$emit("cropMoving",{moving:!1,axis:this.getCropAxis()}),this.$emit("crop-moving",{moving:!1,axis:this.getCropAxis()})},getCropChecked:function(t){var e=this,i=document.createElement("canvas"),n=new Image,r=this.rotate,o=this.trueWidth,a=this.trueHeight,s=this.cropOffsertX,c=this.cropOffsertY;function h(t,e){i.width=Math.round(t),i.height=Math.round(e)}n.onload=function(){if(0!==e.cropW){var p=i.getContext("2d"),l=1;e.high&!e.full&&(l=window.devicePixelRatio),1!==e.enlarge&!e.full&&(l=Math.abs(Number(e.enlarge)));var u=e.cropW*l,d=e.cropH*l,f=o*e.scale*l,g=a*e.scale*l,m=(e.x-s+e.trueWidth*(1-e.scale)/2)*l,v=(e.y-c+e.trueHeight*(1-e.scale)/2)*l;switch(h(u,d),p.save(),r){case 0:e.full?(h(u/e.scale,d/e.scale),p.drawImage(n,m/e.scale,v/e.scale,f/e.scale,g/e.scale)):p.drawImage(n,m,v,f,g);break;case 1:case-3:e.full?(h(u/e.scale,d/e.scale),m=m/e.scale+(f/e.scale-g/e.scale)/2,v=v/e.scale+(g/e.scale-f/e.scale)/2,p.rotate(90*r*Math.PI/180),p.drawImage(n,v,-m-g/e.scale,f/e.scale,g/e.scale)):(m+=(f-g)/2,v+=(g-f)/2,p.rotate(90*r*Math.PI/180),p.drawImage(n,v,-m-g,f,g));break;case 2:case-2:e.full?(h(u/e.scale,d/e.scale),p.rotate(90*r*Math.PI/180),m/=e.scale,v/=e.scale,p.drawImage(n,-m-f/e.scale,-v-g/e.scale,f/e.scale,g/e.scale)):(p.rotate(90*r*Math.PI/180),p.drawImage(n,-m-f,-v-g,f,g));break;case 3:case-1:e.full?(h(u/e.scale,d/e.scale),m=m/e.scale+(f/e.scale-g/e.scale)/2,v=v/e.scale+(g/e.scale-f/e.scale)/2,p.rotate(90*r*Math.PI/180),p.drawImage(n,-v-f/e.scale,m,f/e.scale,g/e.scale)):(m+=(f-g)/2,v+=(g-f)/2,p.rotate(90*r*Math.PI/180),p.drawImage(n,-v-f,m,f,g));break;default:e.full?(h(u/e.scale,d/e.scale),p.drawImage(n,m/e.scale,v/e.scale,f/e.scale,g/e.scale)):p.drawImage(n,m,v,f,g)}p.restore()}else{var w=o*e.scale,b=a*e.scale,x=i.getContext("2d");switch(x.save(),r){case 0:h(w,b),x.drawImage(n,0,0,w,b);break;case 1:case-3:h(b,w),x.rotate(90*r*Math.PI/180),x.drawImage(n,0,-b,w,b);break;case 2:case-2:h(w,b),x.rotate(90*r*Math.PI/180),x.drawImage(n,-w,-b,w,b);break;case 3:case-1:h(b,w),x.rotate(90*r*Math.PI/180),x.drawImage(n,-w,0,w,b);break;default:h(w,b),x.drawImage(n,0,0,w,b)}x.restore()}t(i)},"data"!==this.img.substr(0,4)&&(n.crossOrigin="Anonymous"),n.src=this.imgs},getCropData:function(t){var e=this;this.getCropChecked((function(i){t(i.toDataURL("image/"+e.outputType,e.outputSize))}))},getCropBlob:function(t){var e=this;this.getCropChecked((function(i){i.toBlob((function(e){return t(e)}),"image/"+e.outputType,e.outputSize)}))},showPreview:function(){var t=this;if(!this.isCanShow)return!1;this.isCanShow=!1,setTimeout((function(){t.isCanShow=!0}),16);var e=this.cropW,i=this.cropH,n=this.scale,r={};r.div={width:"".concat(e,"px"),height:"".concat(i,"px")};var o=(this.x-this.cropOffsertX)/n,a=(this.y-this.cropOffsertY)/n;r.w=e,r.h=i,r.url=this.imgs,r.img={width:"".concat(this.trueWidth,"px"),height:"".concat(this.trueHeight,"px"),transform:"scale(".concat(n,")translate3d(").concat(o,"px, ").concat(a,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,"deg)")},r.html='\n      <div class="show-preview" style="width: '.concat(r.w,"px; height: ").concat(r.h,'px,; overflow: hidden">\n        <div style="width: ').concat(e,"px; height: ").concat(i,'px">\n          <img src=').concat(r.url,' style="width: ').concat(this.trueWidth,"px; height: ").concat(this.trueHeight,"px; transform:\n          scale(").concat(n,")translate3d(").concat(o,"px, ").concat(a,"px, ").concat(0,"px)rotateZ(").concat(90*this.rotate,'deg)">\n        </div>\n      </div>'),this.$emit("realTime",r),this.$emit("real-time",r)},reload:function(){var t=this,e=new Image;e.onload=function(){t.w=parseFloat(window.getComputedStyle(t.$refs.cropper).width),t.h=parseFloat(window.getComputedStyle(t.$refs.cropper).height),t.trueWidth=e.width,t.trueHeight=e.height,t.original?t.scale=1:t.scale=t.checkedMode(),t.$nextTick((function(){t.x=-(t.trueWidth-t.trueWidth*t.scale)/2+(t.w-t.trueWidth*t.scale)/2,t.y=-(t.trueHeight-t.trueHeight*t.scale)/2+(t.h-t.trueHeight*t.scale)/2,t.loading=!1,t.autoCrop&&t.goAutoCrop(),t.$emit("img-load","success"),t.$emit("imgLoad","success"),setTimeout((function(){t.showPreview()}),20)}))},e.onerror=function(){t.$emit("imgLoad","error"),t.$emit("img-load","error")},e.src=this.imgs},checkedMode:function(){var t=1,e=(this.trueWidth,this.trueHeight),i=this.mode.split(" ");switch(i[0]){case"contain":this.trueWidth>this.w&&(t=this.w/this.trueWidth),this.trueHeight*t>this.h&&(t=this.h/this.trueHeight);break;case"cover":(e*=t=this.w/this.trueWidth)<this.h&&(t=(e=this.h)/this.trueHeight);break;default:try{var n=i[0];if(-1!==n.search("px")){n=n.replace("px","");var r=parseFloat(n)/this.trueWidth,o=1,a=i[1];-1!==a.search("px")&&(a=a.replace("px",""),o=(e=parseFloat(a))/this.trueHeight),t=Math.min(r,o)}if(-1!==n.search("%")&&(n=n.replace("%",""),t=parseFloat(n)/100*this.w/this.trueWidth),2===i.length&&"auto"===n){var s=i[1];-1!==s.search("px")&&(s=s.replace("px",""),t=(e=parseFloat(s))/this.trueHeight),-1!==s.search("%")&&(s=s.replace("%",""),t=(e=parseFloat(s)/100*this.h)/this.trueHeight)}}catch(e){t=1}}return t},goAutoCrop:function(t,e){if(""!==this.imgs&&null!==this.imgs){this.clearCrop(),this.cropping=!0;var i=this.w,n=this.h;if(this.centerBox){var r=Math.abs(this.rotate)%2>0,o=(r?this.trueHeight:this.trueWidth)*this.scale,a=(r?this.trueWidth:this.trueHeight)*this.scale;i=o<i?o:i,n=a<n?a:n}var s=t||parseFloat(this.autoCropWidth),c=e||parseFloat(this.autoCropHeight);0!==s&&0!==c||(s=.8*i,c=.8*n),s=s>i?i:s,c=c>n?n:c,this.fixed&&(c=s/this.fixedNumber[0]*this.fixedNumber[1]),c>this.h&&(s=(c=this.h)/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(s,c)}},changeCrop:function(t,e){var i=this;if(this.centerBox){var n=this.getImgAxis();t>n.x2-n.x1&&(e=(t=n.x2-n.x1)/this.fixedNumber[0]*this.fixedNumber[1]),e>n.y2-n.y1&&(t=(e=n.y2-n.y1)/this.fixedNumber[1]*this.fixedNumber[0])}this.cropW=t,this.cropH=e,this.checkCropLimitSize(),this.$nextTick((function(){i.cropOffsertX=(i.w-i.cropW)/2,i.cropOffsertY=(i.h-i.cropH)/2,i.centerBox&&i.moveCrop(null,!0)}))},refresh:function(){var t=this;this.img,this.imgs="",this.scale=1,this.crop=!1,this.rotate=0,this.w=0,this.h=0,this.trueWidth=0,this.trueHeight=0,this.clearCrop(),this.$nextTick((function(){t.checkedImg()}))},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0},checkoutImgAxis:function(t,e,i){t=t||this.x,e=e||this.y,i=i||this.scale;var n=!0;if(this.centerBox){var r=this.getImgAxis(t,e,i),o=this.getCropAxis();r.x1>=o.x1&&(n=!1),r.x2<=o.x2&&(n=!1),r.y1>=o.y1&&(n=!1),r.y2<=o.y2&&(n=!1)}return n}},mounted:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";var t=this,e=navigator.userAgent;this.isIOS=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,i,n){for(var r=atob(this.toDataURL(i,n).split(",")[1]),o=r.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=r.charCodeAt(s);e(new Blob([a],{type:t.type||"image/png"}))}}),this.showPreview(),this.checkedImg()},destroyed:function(){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop),this.cancelScale()}};i(1);var s=function(t,e,i,n,r,o,a,s){var c,h="function"==typeof t?t.options:t;if(e&&(h.render=e,h.staticRenderFns=i,h._compiled=!0),n&&(h.functional=!0),o&&(h._scopeId="data-v-"+o),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},h._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(h.functional){h._injectStyles=c;var p=h.render;h.render=function(t,e){return c.call(e),p(t,e)}}else{var l=h.beforeCreate;h.beforeCreate=l?[].concat(l,c):[c]}return{exports:t,options:h}}(a,n,[],!1,null,"6dae58fd",null);s.options.__file="src/vue-cropper.vue";var c=s.exports;i.d(e,"VueCropper",(function(){return c}));var h=function(t){t.component("VueCropper",c)};"undefined"!=typeof window&&window.Vue&&h(window.Vue),e.default={version:"0.5.8",install:h,VueCropper:c,vueCropper:c}}])}))},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},d3bc:function(t,e,i){},f3b8:function(t,e,i){"use strict";i("d3bc")}}]);