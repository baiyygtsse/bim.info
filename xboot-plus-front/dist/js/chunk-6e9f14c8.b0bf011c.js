(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e9f14c8"],{2438:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"search"},[e("Row",{staticClass:"operation"},[e("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:t.add}},[t._v("添加")]),e("Button",{attrs:{icon:"md-trash"},on:{click:t.delAll}},[t._v("批量删除")]),e("Button",{attrs:{icon:"md-refresh"},on:{click:t.getDataList}},[t._v("刷新")]),e("Input",{staticStyle:{width:"250px"},attrs:{suffix:"ios-search",placeholder:"输入名称搜索",clearable:""},on:{"on-change":t.getDataList},model:{value:t.searchForm.title,callback:function(e){t.$set(t.searchForm,"title",e)},expression:"searchForm.title"}})],1),e("Alert",{attrs:{"show-icon":""}},[t._v(" 已选择 "),e("span",{staticClass:"select-count"},[t._v(t._s(t.selectList.length))]),t._v(" 项 "),e("a",{staticClass:"select-clear",on:{click:t.clearSelectAll}},[t._v("清空")])]),e("Table",{ref:"table",attrs:{loading:t.loading,border:"",columns:t.columns,data:t.data,sortable:"custom"},on:{"on-sort-change":t.changeSort,"on-selection-change":t.changeSelect}}),e("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[e("Page",{attrs:{current:t.searchForm.pageNumber,total:t.total,"page-size":t.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1),e("Modal",{attrs:{title:t.modalTitle,"mask-closable":!1,width:500},model:{value:t.modalVisible,callback:function(e){t.modalVisible=e},expression:"modalVisible"}},[e("Form",{ref:"form",attrs:{model:t.form,"label-position":"top",rules:t.formValidate}},[e("FormItem",{attrs:{label:"禁用词名称",prop:"title"}},[e("Input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("Button",{attrs:{type:"text"},on:{click:t.handleCancel}},[t._v("取消")]),e("Button",{attrs:{type:"primary",loading:t.submitLoading},on:{click:t.handleSubmit}},[t._v("提交")])],1)],1)],1)},a=[],l=s("365c"),o={name:"stop-words",data(){return{openTip:!0,loading:!0,searchForm:{title:"",pageNumber:1,pageSize:10,sort:"createTime",order:"desc"},modalType:0,modalVisible:!1,modalTitle:"",form:{title:""},formValidate:{title:[{required:!0,message:"不能为空",trigger:"blur"}]},submitLoading:!1,selectList:[],columns:[{type:"selection",width:60,align:"center"},{type:"index",width:60,align:"center"},{title:"禁用词",key:"title",minWidth:200,sortable:!0},{title:"创建时间",key:"createTime",sortable:!0,width:200,sortType:"desc"},{title:"更新时间",key:"createTime",sortable:!0,width:200},{title:"操作",key:"action",align:"center",width:180,fixed:"right",render:(t,e)=>t("div",[t("a",{on:{click:()=>{this.edit(e.row)}}},"编辑"),t("Divider",{props:{type:"vertical"}}),t("a",{on:{click:()=>{this.remove(e.row)}}},"删除")])}],data:[],total:0}},methods:{init(){this.getDataList()},changePage(t){this.searchForm.pageNumber=t,this.getDataList(),this.clearSelectAll()},changePageSize(t){this.searchForm.pageSize=t,this.getDataList()},changeSort(t){this.searchForm.sort=t.key,this.searchForm.order=t.order,"normal"==t.order&&(this.searchForm.order=""),this.getDataList()},getDataList(){this.loading=!0,Object(l["cc"])(this.searchForm).then(t=>{this.loading=!1,t.success&&(this.data=t.result.content,this.total=t.result.totalElements)})},handleCancel(){this.modalVisible=!1},handleSubmit(){this.$refs.form.validate(t=>{t&&(this.submitLoading=!0,0==this.modalType?(delete this.form.id,Object(l["k"])(this.form).then(t=>{this.submitLoading=!1,t.success&&(this.$Message.success("操作成功"),this.getDataList(),this.modalVisible=!1)})):Object(l["ob"])(this.form).then(t=>{this.submitLoading=!1,t.success&&(this.$Message.success("操作成功"),this.getDataList(),this.modalVisible=!1)}))})},add(){this.modalType=0,this.modalTitle="添加",this.$refs.form.resetFields(),delete this.form.id,this.modalVisible=!0},edit(t){this.modalType=1,this.modalTitle="编辑",this.$refs.form.resetFields();for(let i in t)null==t[i]&&(t[i]="");let e=JSON.stringify(t),s=JSON.parse(e);this.form=s,this.modalVisible=!0},remove(t){this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+t.title+" ?",loading:!0,onOk:()=>{Object(l["O"])({ids:t.id}).then(t=>{this.$Modal.remove(),t.success&&(this.clearSelectAll(),this.$Message.success("操作成功"),this.getDataList())})}})},clearSelectAll(){this.$refs.table.selectAll(!1)},changeSelect(t){this.selectList=t},delAll(){this.selectList.length<=0?this.$Message.warning("您还未选择要删除的数据"):this.$Modal.confirm({title:"确认删除",content:"您确认要删除所选的 "+this.selectList.length+" 条数据?",loading:!0,onOk:()=>{let t="";this.selectList.forEach((function(e){t+=e.id+","})),t=t.substring(0,t.length-1),Object(l["O"])({ids:t}).then(t=>{this.$Modal.remove(),t.success&&(this.$Message.success("操作成功"),this.clearSelectAll(),this.getDataList())})}})}},mounted(){this.init()}},r=o,c=(s("ce41"),s("2877")),n=Object(c["a"])(r,i,a,!1,null,null,null);e["default"]=n.exports},ce41:function(t,e,s){"use strict";s("ec18")},ec18:function(t,e,s){}}]);