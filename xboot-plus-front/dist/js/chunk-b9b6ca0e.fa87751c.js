(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b9b6ca0e","chunk-2d0cebea"],{"3d80":function(e,t,a){"use strict";a("c465")},6181:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{display:"flex"}},[t("div",{staticStyle:{width:"100%","margin-right":"10px"}},[t("Input",{attrs:{placeholder:e.placeholder,size:e.size,disabled:e.disabled,readonly:e.readonly,maxlength:e.maxlength},on:{"on-change":e.handleChange},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}},[t("Poptip",{staticStyle:{width:"17px",cursor:"pointer"},attrs:{slot:"append",transfer:"",trigger:"hover",title:"图片预览",placement:"right",width:"350"},slot:"append"},[t("Button",{attrs:{icon:e.previewIcon}}),t("div",{attrs:{slot:"content"},slot:"content"},[t("img",{directives:[{name:"show",rawName:"v-show",value:e.currentValue,expression:"currentValue"}],staticStyle:{width:"100%",margin:"0 auto",display:"block",cursor:"zoom-in"},attrs:{src:e.currentValue},on:{click:e.viewImage}}),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.currentValue,expression:"!currentValue"}]},[e._v("无效的图片链接")]),t("a",{directives:[{name:"show",rawName:"v-show",value:e.currentValue,expression:"currentValue"}],staticStyle:{"margin-top":"5px","text-align":"right",display:"block"},on:{click:e.viewImage}},[e._v("查看大图")])])],1)],1)],1),e.material?e._e():t("Upload",{attrs:{action:e.uploadFileUrl,headers:e.accessToken,"on-success":e.handleSuccess,"on-error":e.handleError,format:e.format,accept:e.accept,"max-size":1024*e.maxSize,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.beforeUpload,"show-upload-list":!1,"v-show":e.showUpload}},[t("Button",{attrs:{loading:e.loading,size:e.size,disabled:e.disabled,icon:e.icon,type:e.type,shape:e.shape,ghost:e.ghost}},[e._v(e._s(e.text))])],1),e.material?t("Button",{attrs:{size:e.size,disabled:e.disabled,icon:e.icon,type:e.type,shape:e.shape,ghost:e.ghost},on:{click:function(t){e.showMaterialCenter=!0}}},[e._v(e._s(e.text))]):e._e(),e.material?t("materialCenter",{attrs:{showInput:!1,acceptImg:e.accept,maxSize:e.maxSize},on:{"on-change":e.selectFile},model:{value:e.showMaterialCenter,callback:function(t){e.showMaterialCenter=t},expression:"showMaterialCenter"}}):e._e()],1)])},i=[],s=(a("0808"),a("6a37")),o=a.n(s),l=a("365c"),n=a("1f5f"),c={name:"uploadPicInput",components:{materialCenter:n["default"]},props:{value:String,size:String,placeholder:{type:String,default:"可输入图片链接"},disabled:{type:Boolean,default:!1},material:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},maxlength:Number,previewIcon:{type:String,default:"md-eye"},icon:{type:String,default:"ios-cloud-upload-outline"},text:{type:String,default:"上传图片"},type:String,shape:String,ghost:{type:Boolean,default:!1},maxSize:{type:Number,default:5},accept:{type:String,default:".jpg, .jpeg, .png, .gif"},showUpload:{type:Boolean,default:!0}},computed:{format(){if(this.accept){let e=[];return this.accept.split(",").forEach(t=>{e.push(t.replace(".","").replace(" ",""))}),e}return[]}},data(){return{accessToken:{},currentValue:this.value,loading:!1,uploadFileUrl:l["Tc"],showMaterialCenter:!1}},methods:{init(){this.accessToken={accessToken:this.getStore("accessToken")}},viewImage(){let e=new Image;e.src=this.currentValue;let t=new o.a(e,{hidden:function(){t.destroy()}});t.show()},handleFormatError(e){this.loading=!1,this.$Notice.warning({title:"不支持的文件格式",desc:"所选文件‘ "+e.name+" ’格式不正确, 请选择 "+this.accept+" 格式文件"})},handleMaxSize(e){this.loading=!1,this.$Notice.warning({title:"文件大小过大",desc:"所选文件‘ "+e.name+" ’大小过大, 不得超过 "+this.maxSize+"M."})},beforeUpload(){return this.loading=!0,!0},handleSuccess(e,t){this.loading=!1,e.success?(this.currentValue=e.result,this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)):this.$Message.error(e.message)},handleError(e,t,a){this.loading=!1,this.$Message.error(e.toString())},handleChange(e){this.$emit("input",this.currentValue),this.$emit("on-change",this.currentValue)},setCurrentValue(e){e!==this.currentValue&&(this.currentValue=e,this.$emit("on-change",this.currentValue))},selectFile(e){this.setCurrentValue(e)}},watch:{value(e){this.setCurrentValue(e)}},mounted(){this.init()}},h=c,d=a("2877"),m=Object(d["a"])(h,r,i,!1,null,null,null);t["default"]=m.exports},"6c6d":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));const r=[{text:"今日",value(){var e=new Date,t=new Date;return e.setTime(t.getTime()),[t,e]}},{text:"昨日",value(){var e=new Date,t=new Date;return t.setTime(t.getTime()-864e5),e.setTime(e.getTime()-864e5),[t,e]}},{text:"本周",value(){var e=new Date,t=e.getDay(),a=e.getDate(),r=e.getMonth(),i=t||7,s=new Date(e.getFullYear(),r,a+1-i),o=new Date(e.getFullYear(),r,a+7-i);return s.setTime(s.getTime()),o.setTime(o.getTime()),[s,o]}},{text:"本月",value(){var e=new Date,t=e.getYear();t+=t<2e3?1900:0;var a=e.getMonth(),r=new Date(t,a,1),i=new Date(t,a+1,1),s=(i-r)/864e5,o=new Date(t,a,1),l=new Date(t,a,s);return o.setTime(o.getTime()),l.setTime(l.getTime()),[o,l]}}]},c465:function(e,t,a){},c809:function(e,t,a){"use strict";a.d(t,"g",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"h",(function(){return h})),a.d(t,"d",(function(){return d}));var r=a("7f80");const i=(e,t)=>Object(r["a"])("/oauth2/info/"+e,t),s=e=>Object(r["d"])("/oauth2/authorize",e),o=e=>Object(r["e"])("/oauth2/authorized",e),l=e=>Object(r["b"])("/client/getSecretKey",e),n=e=>Object(r["b"])("/client/getByCondition",e),c=e=>Object(r["e"])("/client/save",e),h=e=>Object(r["f"])("/client/update",e),d=e=>Object(r["e"])("/client/delByIds",e)},ed51:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search"},[t("Card",[t("Row",{directives:[{name:"show",rawName:"v-show",value:e.openSearch,expression:"openSearch"}],nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch.apply(null,arguments)}}},[t("Form",{ref:"searchForm",attrs:{model:e.searchForm,inline:"","label-width":70}},[t("FormItem",{attrs:{label:"网站名称",prop:"name"}},[t("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入网站名称",clearable:""},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),t("FormItem",{attrs:{label:"网站主页",prop:"homeUri"}},[t("Input",{staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"请输入网站主页",clearable:""},model:{value:e.searchForm.homeUri,callback:function(t){e.$set(e.searchForm,"homeUri",t)},expression:"searchForm.homeUri"}})],1),t("FormItem",{attrs:{label:"创建时间",prop:"createTime"}},[t("DatePicker",{staticStyle:{width:"200px"},attrs:{options:e.options,type:"daterange",format:"yyyy-MM-dd",clearable:"",placeholder:"选择起始时间"},on:{"on-change":e.selectDateRange},model:{value:e.selectDate,callback:function(t){e.selectDate=t},expression:"selectDate"}})],1),t("FormItem",{staticClass:"br",staticStyle:{"margin-left":"-35px"}},[t("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.handleSearch}},[e._v("搜索")]),t("Button",{on:{click:e.handleReset}},[e._v("重置")])],1)],1)],1),t("Row",{staticClass:"operation",attrs:{align:"middle",justify:"space-between"}},[t("div",[t("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:e.add}},[e._v("添加")]),t("Button",{attrs:{icon:"md-trash"},on:{click:e.delAll}},[e._v("批量删除")])],1),t("div",{staticClass:"icons"},[t("Tooltip",{attrs:{content:"刷新",placement:"top",transfer:""}},[t("Icon",{staticClass:"item",attrs:{type:"md-refresh",size:"18"},on:{click:e.getDataList}})],1),t("Tooltip",{attrs:{content:e.openSearch?"关闭搜索":"开启搜索",placement:"top",transfer:""}},[t("Icon",{staticClass:"item tip",attrs:{type:"ios-search",size:"18"},on:{click:function(t){e.openSearch=!e.openSearch}}})],1),t("Tooltip",{attrs:{content:e.openTip?"关闭提示":"开启提示",placement:"top",transfer:""}},[t("Icon",{staticClass:"item tip",attrs:{type:"md-bulb",size:"18"},on:{click:function(t){e.openTip=!e.openTip}}})],1),t("Tooltip",{attrs:{content:"表格密度",placement:"top",transfer:""}},[t("Dropdown",{attrs:{trigger:"click"},on:{"on-click":e.changeTableSize}},[t("Icon",{staticClass:"item",attrs:{type:"md-list",size:"18"}}),t("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[t("DropdownItem",{attrs:{selected:"default"==e.tableSize,name:"default"}},[e._v("默认")]),t("DropdownItem",{attrs:{selected:"large"==e.tableSize,name:"large"}},[e._v("宽松")]),t("DropdownItem",{attrs:{selected:"small"==e.tableSize,name:"small"}},[e._v("紧密")])],1)],1)],1),t("Tooltip",{attrs:{content:"导出数据",placement:"top",transfer:""}},[t("Icon",{staticClass:"item",attrs:{type:"md-download",size:"18"},on:{click:e.exportData}})],1)],1)]),t("Alert",{directives:[{name:"show",rawName:"v-show",value:e.openTip,expression:"openTip"}],attrs:{"show-icon":""}},[e._v(" 已选择 "),t("span",{staticClass:"select-count"},[e._v(e._s(e.selectList.length))]),e._v(" 项 "),t("a",{staticClass:"select-clear",on:{click:e.clearSelectAll}},[e._v("清空")])]),t("Table",{ref:"table",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data,size:e.tableSize,sortable:"custom"},on:{"on-sort-change":e.changeSort,"on-selection-change":e.changeSelect}}),t("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[t("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1),t("Modal",{attrs:{title:e.modalTitle,"mask-closable":!1,width:500},model:{value:e.modalVisible,callback:function(t){e.modalVisible=t},expression:"modalVisible"}},[t("Form",{ref:"form",attrs:{model:e.form,"label-width":100,rules:e.formValidate}},[0!=e.modalType?t("FormItem",{attrs:{label:"clientId"}},[e._v(e._s(e.form.id))]):e._e(),t("FormItem",{attrs:{label:"网站名称",prop:"name"}},[t("Input",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("FormItem",{staticClass:"form-noheight",attrs:{label:"网站Logo",prop:"logo"}},[t("upload-pic-input",{model:{value:e.form.logo,callback:function(t){e.$set(e.form,"logo",t)},expression:"form.logo"}})],1),t("FormItem",{attrs:{label:"clientSecret",prop:"clientSecret"}},[t("Row",{attrs:{type:"flex",justify:"space-between"}},[t("Input",{staticStyle:{width:"74%"},attrs:{clearable:""},model:{value:e.form.clientSecret,callback:function(t){e.$set(e.form,"clientSecret",t)},expression:"form.clientSecret"}}),t("Button",{on:{click:e.generateSecret}},[e._v("生成秘钥")])],1)],1),t("FormItem",{attrs:{label:"网站主页",prop:"homeUri"}},[t("Input",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.form.homeUri,callback:function(t){e.$set(e.form,"homeUri",t)},expression:"form.homeUri"}})],1),t("FormItem",{attrs:{label:"回调地址",prop:"redirectUri"}},[t("Input",{staticStyle:{width:"100%"},attrs:{clearable:""},model:{value:e.form.redirectUri,callback:function(t){e.$set(e.form,"redirectUri",t)},expression:"form.redirectUri"}})],1),t("FormItem",{attrs:{label:"自动授权",prop:"autoApprove"}},[t("i-switch",{model:{value:e.form.autoApprove,callback:function(t){e.$set(e.form,"autoApprove",t)},expression:"form.autoApprove"}},[t("span",{attrs:{slot:"open"},slot:"open"},[e._v("开")]),t("span",{attrs:{slot:"close"},slot:"close"},[e._v("关")])]),t("Tooltip",{staticStyle:{display:"inline-block !important"},attrs:{content:"已认证登录的用户无需授权确认，自动通过（通常用于信任的内部站点和单点登录的实现）",placement:"right",transfer:"","max-width":"280"}},[t("Icon",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{type:"md-help-circle",size:"20",color:"#c5c5c5"}})],1)],1)],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("Button",{attrs:{type:"text"},on:{click:function(t){e.modalVisible=!1}}},[e._v("取消")]),t("Button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.handleSubmit}},[e._v("提交")])],1)],1)],1)},i=[],s=a("c809"),o=a("6181"),l=a("6c6d"),n={name:"client",components:{uploadPicInput:o["default"]},data(){return{tableSize:"default",openSearch:!0,openTip:!0,loading:!0,modalType:0,modalVisible:!1,modalTitle:"",searchForm:{pageNumber:1,pageSize:10,sort:"createTime",order:"desc",startDate:"",endDate:""},selectDate:null,options:{shortcuts:l["a"]},form:{name:"",logo:"",clientSecret:"",homeUri:"",redirectUri:"",autoApprove:!1},formValidate:{name:[{required:!0,message:"不能为空",trigger:"blur"}],logo:[{required:!0,message:"不能为空",trigger:"blur"}],clientSecret:[{required:!0,message:"不能为空",trigger:"blur"}],homeUri:[{required:!0,type:"url",message:"无效的URL链接",trigger:"blur"}],redirectUri:[{required:!0,type:"url",message:"无效的回调链接",trigger:"blur"}]},submitLoading:!1,selectList:[],columns:[{type:"selection",width:60,align:"center"},{type:"index",width:60,align:"center"},{title:"网站名称",key:"name",minWidth:120,sortable:!1},{title:"Logo",key:"logo",width:80,align:"center",render:(e,t)=>e("Avatar",{props:{src:t.row.logo}})},{title:"clientId",key:"id",width:190,sortable:!1},{title:"clientSecret",key:"clientSecret",minWidth:150,sortable:!1},{title:"网站主页",key:"homeUri",minWidth:120,sortable:!1,render:(e,t)=>e("div",[e("a",{attrs:{href:t.row.homeUri,target:"_blank"}},t.row.homeUri)])},{title:"回调地址",key:"redirectUri",minWidth:120,sortable:!1},{title:"自动授权",key:"autoApprove",align:"center",width:100,render:(e,t)=>t.row.autoApprove?e("div",[e("Tag",{props:{color:"blue"}},"开启")]):e("div",[e("Tag",{props:{color:"default"}},"关闭")])},{title:"创建时间",key:"createTime",width:170,sortable:!0,sortType:"desc"},{title:"操作",key:"action",align:"center",width:130,fixed:"right",render:(e,t)=>e("div",[e("a",{on:{click:()=>{this.edit(t.row)}}},"编辑"),e("Divider",{props:{type:"vertical"}}),e("a",{on:{click:()=>{this.remove(t.row)}}},"删除")])}],data:[],total:0}},methods:{init(){this.getDataList()},changePage(e){this.searchForm.pageNumber=e,this.getDataList(),this.clearSelectAll()},changePageSize(e){this.searchForm.pageSize=e,this.getDataList()},handleSearch(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getDataList()},handleReset(){this.$refs.searchForm.resetFields(),this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.selectDate=null,this.searchForm.startDate="",this.searchForm.endDate="",this.getDataList()},changeSort(e){this.searchForm.sort=e.key,this.searchForm.order=e.order,"normal"===e.order&&(this.searchForm.order=""),this.getDataList()},clearSelectAll(){this.$refs.table.selectAll(!1)},changeSelect(e){this.selectList=e},selectDateRange(e){e&&(this.searchForm.startDate=e[0],this.searchForm.endDate=e[1])},changeTableSize(e){this.tableSize=e},exportData(){this.$refs.table.exportCsv({filename:"数据"})},generateSecret(){Object(s["f"])().then(e=>{e.success&&(this.form.clientSecret=e.result)})},getDataList(){this.loading=!0,Object(s["e"])(this.searchForm).then(e=>{this.loading=!1,e.success&&(this.data=e.result.content,this.total=e.result.totalElements,0==this.data.length&&this.searchForm.pageNumber>1&&(this.searchForm.pageNumber-=1,this.getDataList()))})},handleSubmit(){this.$refs.form.validate(e=>{e&&(this.submitLoading=!0,0===this.modalType?(delete this.form.id,Object(s["a"])(this.form).then(e=>{this.submitLoading=!1,e.success&&(this.$Message.success("操作成功"),this.getDataList(),this.modalVisible=!1)})):Object(s["h"])(this.form).then(e=>{this.submitLoading=!1,e.success&&(this.$Message.success("操作成功"),this.getDataList(),this.modalVisible=!1)}))})},add(){this.modalType=0,this.modalTitle="添加",this.$refs.form.resetFields(),delete this.form.id,this.modalVisible=!0},edit(e){this.modalType=1,this.modalTitle="编辑",this.$refs.form.resetFields();for(let r in e)null===e[r]&&(e[r]="");let t=JSON.stringify(e),a=JSON.parse(t);this.form=a,this.modalVisible=!0},remove(e){this.$Modal.confirm({title:"确认删除",content:"您确认要删除 "+e.name+" ?",loading:!0,onOk:()=>{Object(s["d"])({ids:e.id}).then(e=>{this.$Modal.remove(),e.success&&(this.clearSelectAll(),this.$Message.success("操作成功"),this.getDataList())})}})},delAll(){this.selectList.length<=0?this.$Message.warning("您还未选择要删除的数据"):this.$Modal.confirm({title:"确认删除",content:"您确认要删除所选的 "+this.selectList.length+" 条数据?",loading:!0,onOk:()=>{let e="";this.selectList.forEach((function(t){e+=t.id+","})),e=e.substring(0,e.length-1),Object(s["d"])({ids:e}).then(e=>{this.$Modal.remove(),e.success&&(this.$Message.success("操作成功"),this.clearSelectAll(),this.getDataList())})}})}},mounted(){this.init()}},c=n,h=(a("3d80"),a("2877")),d=Object(h["a"])(c,r,i,!1,null,null,null);t["default"]=d.exports}}]);